(function(j){function d(q){return typeof q!=="undefined"&&q!==null}function o(q){return typeof q==="object"}if(!d(j.ComZotoh)){j.ComZotoh={}}var n=j.ComZotoh;var m=function(){};var k=false;var a="OFF";function g(){}if(d(console)){m=function(q,r){console.log("["+q+"] "+r)}}else{if(d(j.console)){m=function(q,r){j.console.log("["+q+"] "+r)}}}if(o(n)&&!d(n.LogJS)){n.LogJS=g}g.setTracer=function(q){if(d(q)){g._tracer=q}};g._tracer=m;g.setOFF=function(){a="OFF"};g.setDebug=function(){a="DEBUG"};g.setInfo=function(){a="INFO"};g.setError=function(){a="ERROR"};g.isDebugEnabled=function(){return"DEBUG"===a};g.isErrorEnabled=function(){return"OFF"!==a};g.isInfoEnabled=function(){return("DEBUG"===a||"INFO"===a)};g.setFBugLite=function(){k=true;f.setDebug()};g.isFBugLite=function(){return k};g.error=function(q){if(g.isErrorEnabled()){g._tracer("ERROR",q)}};g.info=function(q){if(g.isInfoEnabled()){g._tracer("INFO",q)}};g.debug=function(q){if(g.isDebugEnabled()){g._tracer("DEBUG",q)}};var p="([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";var b={zpad:function(q){return q>9?q:"0"+q},a:function(q){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][q.getDay()]},A:function(q){return["Sunday","Monday","Tuedsay","Wednesday","Thursday","Friday","Saturday"][q.getDay()]},b:function(q){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][q.getMonth()]},B:function(q){return["January","February","March","April","May","June","July","August","September","October","November","December"][q.getMonth()]},c:function(q){return q.toString()},D:function(q){return this.zpad(q.getDate())},d:function(q){return this.zpad(q.getDate())},H:function(q){return this.zpad(q.getHours())},I:function(q){return this.zpad((q.getHours()+12)%12)},m:function(q){return this.zpad(q.getMonth()+1)},M:function(q){return this.zpad(q.getMinutes())},p:function(q){return this.H(q)<12?"AM":"PM"},S:function(q){return this.zpad(q.getSeconds())},w:function(q){return q.getDay()},y:function(q){return this.zpad(this.Y(q)%100)},Y:function(q){return q.getFullYear()},"%":function(q){return"%"}};var h={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(s){var y,w,u,t;var z,x,v;var q="";var r=0;s=h.utf8_encode(s);while(r<s.length){z=s.charCodeAt(r++);x=s.charCodeAt(r++);v=s.charCodeAt(r++);y=z>>2;w=((z&3)<<4)|(x>>4);u=((x&15)<<2)|(v>>6);t=v&63;if(isNaN(x)){u=t=64}else{if(isNaN(v)){t=64}}q=q+h._keyStr.charAt(y)+h._keyStr.charAt(w)+h._keyStr.charAt(u)+h._keyStr.charAt(t)}return q},decode:function(s){var y,w,v,t;var q="";var z,x,u;var r=0;s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(r<s.length){y=h._keyStr.indexOf(s.charAt(r++));w=h._keyStr.indexOf(s.charAt(r++));v=h._keyStr.indexOf(s.charAt(r++));t=h._keyStr.indexOf(s.charAt(r++));z=(y<<2)|((w&48)>>4);x=((w&15)<<4)|((v&60)>>2);u=((v&3)<<6)|t;q=q+String.fromCharCode(z);if(v!=64){q=q+String.fromCharCode(x)}if(t!=64){q=q+String.fromCharCode(u)}}q=h.utf8_decode(q);return q},utf8_encode:function(r){var q="";var u;r=r.replace(/\r\n/g,"\n");for(var t=0;t<r.length;++t){u=r.charCodeAt(t);if(u<128){q+=String.fromCharCode(u)}else{if((u>127)&&(u<2048)){q+=String.fromCharCode((u>>6)|192);q+=String.fromCharCode((u&63)|128)}else{q+=String.fromCharCode((u>>12)|224);q+=String.fromCharCode(((u>>6)&63)|128);q+=String.fromCharCode((u&63)|128)}}}return q},utf8_decode:function(q){var x=0;var w=0;var u=0;var v="";var t=0;var r;while(t<q.length){x=q.charCodeAt(t);if(x<128){v+=String.fromCharCode(x);++t}else{if((x>191)&&(x<224)){u=q.charCodeAt(t+1);v+=String.fromCharCode(((x&31)<<6)|(u&63));t+=2}else{u=q.charCodeAt(t+1);r=q.charCodeAt(t+2);v+=String.fromCharCode(((x&15)<<12)|((u&63)<<6)|(r&63));t+=3}}}return v}};var l,c=Array.prototype.slice,e=Object.prototype.hasOwnProperty;l=(function(){function q(){}q.prototype.logb=function(r){return this.log([this.makeStr("+",78),r,this.makeStr("-",78)].join("\n"))};q.prototype.isDbg=function(){return n.LogJS.isDebugEnabled()};q.prototype.error=function(r){return n.LogJS.error(r)};q.prototype.debug=function(r){return n.LogJS.debug(r)};q.prototype.log=function(r){return n.LogJS.info(r)};q.prototype.getFirst=function(r){if((r!=null)&&r.length>0){return r[0]}else{return null}};q.prototype.base64=function(){return[h.encode,h.decode]};q.prototype.b64=function(){return h};q.prototype.urlencode=function(r){return encodeURIComponent(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/\*/g,"%2A")};q.prototype.randomMillis=function(){var s;s=parseInt(Math.random()*1000);if(s<10){s=s*1000}else{if(s<100){s=s*100}else{if(s<1000){s=s*10}}}return s};q.prototype.normalizeStrID=function(v){var t,r,s,u;v=(v!=null?v:"").toLowerCase();t=[];s=v.length;for(r=0;0<=s?r<s:r>s;0<=s?r++:r--){u=v.charCodeAt(r);if(((122>=u&&u>=97))||((90>=u&&u>=65))||((57>=u&&u>=48))||(45===u)||(95===u)){t.push(v.charAt(r))}else{t.push(Number(u).toString(16))}}return t.join("")};q.prototype.isLinux=function(){if(this.isWIN()){return false}else{if(this.isOSX()){return false}else{return true}}};q.prototype.isOSX=function(){var r;r=this.maybe_getostype();if(r!=null){return r.indexOf("osx")>=0||r.indexOf("mac")>=0}else{return false}};q.prototype.isWIN=function(){var r;r=this.maybe_getostype();if(r!=null){return r.indexOf("win")>=0}else{return false}};q.prototype.niceTS=function(r){if(r!=null){return this.strftime(r,"%Y-%m-%d %H:%M:%S")}else{return""}};q.prototype.trim=function(r){if(r!=null){return r.replace(/^\s*/,"").replace(/\s*$/,"")}else{return""}};q.prototype.join=function(){var s,t,v,u,r;r=arguments[0],v=2<=arguments.length?c.call(arguments,1):[];t=v.length;u=[];for(s=0;0<=t?s<t:s>t;0<=t?s++:s--){if(v[s]!=null){u.push(v[s])}}return u.join(r)};q.prototype.makeStr=function(v,r){var t,u;u="";for(t=0;0<=r?t<r:t>r;0<=r?t++:t--){u+=v}return u};q.prototype.getNode=function(r,s){return n.DomAPI.getNode(r,s)};q.prototype.getTag=function(r,s){return n.DomAPI.getTag(r,s)};q.prototype.getFCN=function(r){return n.DomAPI.getFCN(r)};q.prototype.getCS=function(r){return n.DomAPI.getCS(r)};q.prototype.getNVal=function(r,s){return n.DomAPI.getNVal(r,s)};q.prototype.vstr=function(r){if((r!=null)&&r.length>0){return true}else{return false}};q.prototype.isNil=function(r){return !d(r)};q.prototype.jsonStr=function(r){if(r!=null){return JSON.stringify(r)}else{return""}};q.prototype.strJson=function(r){if(r!=null){return JSON.parse(r)}else{return null}};q.prototype.toBytes=function(t){var r,v,u;v=[];if(t!=null){for(r=0,u=t.length;0<=u?r<u:r>u;0<=u?r++:r--){v.push(t.charCodeAt(r))}}return v};q.prototype.tokenize=function(x,s){var v,t,u,r,w;w=[];r="";if(x!=null){u=x.length;for(t=0;0<=u?t<u:t>u;0<=u?t++:t--){v=x[t];if(this.isCharInStr(v,s)){if(r.length>0){w.push(r)}r=""}else{r+=v}}}if(r.length>0){w.push(r)}return w};q.prototype.isCharInStr=function(u,t){var r,s;if(u!=null){s=u.length;for(r=0;0<=s?r<s:r>s;0<=s?r++:r--){if(t===u[r]){return true}}}return false};q.prototype.delayExec=function(s,r){return typeof j!=="undefined"&&j!==null?typeof j.setTimeout==="function"?j.setTimeout(r,s):void 0:void 0};q.prototype.midGrab=function(y,u,r){var t,w,v;v="";if((y!=null)&&(u!=null)&&(r!=null)){try{w=y.lastIndexOf(r);t=y.indexOf(u);t+=u.length;v=y.slice(t,w)}catch(x){v=""}}return v};q.prototype.genID=function(x,s){var w,t,v,r,u;u=(""+s).length;r=(""+x).length;w=u-r-1;v="";for(t=0;0<=w?t<w:t>w;0<=w?t++:t--){v+="0"}return v+x};q.prototype.newGUID=function(){return"x"+Math.uuid().replace(/[-]/g,"").toLowerCase()};q.prototype.encodeXML=function(r){if(r!=null){return r.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}else{return""}};q.prototype.mapHasKey=function(r,s){if((r!=null)&&(s!=null)&&r.hasOwnProperty(s)){return true}else{return false}};q.prototype.mapPut=function(r,s,t){if((r!=null)&&(s!=null)){return r[s]=t}};q.prototype.mapGet=function(r,s){if(this.mapHasKey(r,s)){return r[s]}else{return}};q.prototype.mapEntrySet=function(r){var t,s;s=[];if(r!=null){for(t in r){if(!e.call(r,t)){continue}s.push({value:r[t],key:t})}}return s};q.prototype.mapKeys=function(r){var t,s;s=[];if(r!=null){for(t in r){if(!e.call(r,t)){continue}s.push(t)}}return s};q.prototype.mapVals=function(r){var t,s;s=[];if(r!=null){for(t in r){if(!e.call(r,t)){continue}s.push(r[t])}}return s};q.prototype.mapSize=function(r){var s,t;s=0;if(r!=null){for(t in r){if(!e.call(r,t)){continue}s+=1}}return s};q.prototype.mapDel=function(r,s){var t;t=void 0;if(this.mapHasKey(r,s)){t=r[s];delete r[s]}return t};q.prototype.strftime=function(u,r){var t;for(t in b){if(!e.call(b,t)){continue}if(t.length===1){r=r.replace("%"+t,b[t](u))}}return r};q.prototype.sclone=function(w,u){var t,s,r;if((w!=null)&&(u!=null)){r=[];for(t in w){if(!e.call(w,t)){continue}s=w[t];r.push(u[t]=s)}return r}};q.prototype.maybe_getostype=function(){var r;if(typeof __os__!=="undefined"&&__os__!==null){r=__os__.platform()}else{if(d(j.navigator)){r=navigator.platform}else{r=""}}return(r!=null?r:"").toLowerCase()};q.prototype.setISO8601=function(s,w){var v,r,u,t;if(this.vstr(w)){v=w.match(new RegExp(p));u=0;r=new Date(v[1],0,1);if(v[3]!=null){r.setMonth(v[3]-1)}if(v[5]!=null){r.setDate(v[5])}if(v[7]!=null){r.setHours(v[7])}if(v[8]!=null){r.setMinutes(v[8])}if(v[10]!=null){r.setSeconds(v[10])}if(v[12]!=null){r.setMilliseconds(Number("0."+v[12])*1000)}if(v[14]!=null){u=(Number(v[16])*60)+Number(v[17]);u*=v[15]==="-"?1:-1}u-=r.getTimezoneOffset();t=Number(r)+(u*60*1000);s.setTime(Number(t))}else{s=null}return s};q.prototype.toISO8601String=function(r,y,t){var w,s,z,v,x,u;u=function(A){return(A<10?"0":"")+A};if(!(y!=null)){y=6}if(!(t!=null)){t="Z";s=r}else{w=t.match(/([-+])([0-9]{2}):([0-9]{2})/);z=(Number(w[2])*60)+Number(w[3]);z*=w[1]==="-"?-1:1;s=new Date(Number(Number(r)+(z*60000)))}x=""+s.getUTCFullYear();if(y>1){x+="-"+u(s.getUTCMonth()+1)}if(y>2){x+="-"+u(s.getUTCDate())}if(y>3){x+="T"+u(s.getUTCHours())+":"+u(s.getUTCMinutes())}if(y>5){v=Number(s.getUTCSeconds()+"."+(s.getUTCMilliseconds()<100?"0":"")+u(s.getUTCMilliseconds()));x+=":"+u(v)}else{if(y>4){x+=":"+u(s.getUTCSeconds())}}if(y>3){x+=t}return x};return q})();if(!d(n.Ute)){n.Ute=l}})(window);(function(d){function a(h){return typeof h!=="undefined"&&h!==null}function b(h){return typeof h==="object"}if(!a(d.ComZotoh)){d.ComZotoh={}}var e=d.ComZotoh;var g,c=Object.prototype.hasOwnProperty;g=(function(){function h(){}h.prototype.doAjax=function(q){var n,s,r,m,p,o,l,k,j;o=this.format_url(q),p=o[0],n=o[1],s=o[2];if(q.response_type==="url+hdrs"){if((l=q.callbacks)!=null){l.success(p,s)}return}r=this;m={opts:{},count:0};m.opts={contentType:(k=q.content_type)!=null?k:this.default_content_type(),dataType:(j=q.response)!=null?j:this.default_response(),type:q.verb,cache:this.cache_pages(),processData:false,global:true,async:true,data:null,url:p,timeout:q.timeout_secs*1000,beforeSend:function(t,u){return r.before_send(q,u,s,t)},dataFilter:function(u,t){return r.filter_response_data(m,q,u,t)},success:function(u,t){return r.on_success(m,q,u,t)}};m.opts.error=function(u,t,v){return r.on_error(m,q,p,u,t,v)};if(this.uteObj.isDbg()){this.uteObj.logb(this.uteObj.jsonStr(m.opts))}return jQuery.ajax(m.opts)};h.prototype.before_send=function(k,j,p,n){var m,l,o;m=p||{};k.xhr_obj=n;if(k.dataSize>0){m["content-length"]=k.dataSize;m.Expect="100-continue";j.data=k.data()}this.pre_ajax(k,m);for(l in m){if(!c.call(m,l)){continue}o=m[l];n.setRequestHeader(l,o)}return j};h.prototype.pre_ajax=function(j,k){if(this.uteObj.vstr(this.userAgent)){k["user-agent"]=this.userAgent}return typeof j.preAjax==="function"?j.preAjax(j,k):void 0};h.prototype.filter_response_data=function(l,j,m,k){j.serverResponseType=k;return m};h.prototype.on_error=function(n,r,k,v,o,l){var j,q,s,u,p,m;u=(p=r.callbacks)!=null?p.timeout:void 0;q=(m=r.callbacks)!=null?m.error:void 0;try{j=v.getResponseHeader("content-type")}catch(q){}s=k.indexOf("?");if(s>0){k=k.slice(0,s)}if("timeout"===o){if(u!=null){return u(r.action,k)}}else{if(q!=null){return this.process_error(n,r,k,j||"",v,q)}}};h.prototype.process_error=function(p,t,l,k,y,n){var o,m,w,q,u,j,z,v;j=new e.Net.AjaxError(o,"Error","Operation Failed");o=t.action;m=y.status;u=this;try{v=a(y.responseXML)?y.responseXML:null}catch(r){v=null}try{q=y.getAllResponseHeaders()}catch(r){q=""}try{z=typeof y.responseText==="string"?y.responseText:""}catch(r){z=""}this.uteObj.error(["ajax-res-error: http-status=(",m,")\n",q,"\n",z].join(""));if(k.length===0&&a(v)){k="xml"}w=k.indexOf("xml")>=0?"xml":"text";if(m===0){this.on_statuscode_zero(j,t)}else{if(this.process_res_error(w,j,v||z)){j}else{if(m>0){j=this.on_statuscode_bad(t)}}}return this.post_process_error(p,t,j,n)};h.prototype.process_res_error=function(l,k,j){return false};h.prototype.on_success=function(m,l,p,k){var j,o,n;if(this.uteObj.isDbg()){this.dbg_response_data(l,p,l.serverResponseType,k)}o=l.xhr_obj.status;j=false;if(o>=200&&o<300){if("raw"!==l.response_type){j=true;if(typeof l.action_handler==="function"){l.action_handler(p)}}if(!j){return typeof l.action_handler==="function"?l.action_handler((n=l.xhr_obj.responseText)!=null?n:""):void 0}}else{if(o>=300&&o<400){return this.on_redirect(m,l)}else{return this.on_error(m,l,l.url,l.xhr_obj,k,null)}}};h.prototype.on_redirect=function(n,r){var o,s,p,k,l,t,q,j;this.uteObj.error("REDIRECT !!!!!!!!!!!!!!!!!!!!");p=r.xhr_obj.getResponseHeader("location")||"";o=r.xhr_obj.responseText||"";j=r.url;k=this.url_matcher(j);t=(k!=null)&&k.length>2?k[2]:"";l="";if(this.uteObj.vstr(p)){k=this.url_matcher(p);if((k!=null)&&k.length>2){l=k[2]}}else{q=o.lastIndexOf("</Endpoint>");s=o.lastIndexOf("<Endpoint>");if(s>0){s=s+10}else{s=-1}l=s>0&&q>0?o.slice(s,q):""}if(this.uteObj.vstr(t)&&this.uteObj.vstr(l)){this.memoize_new_site(t,l);r.url="";return this.doAjax(r)}else{return this.on_error(n,r,j,r.xhr_obj,"Redirect",null)}};h.prototype.dbg_response_data=function(k,o,n,j){var m,q,l;try{l=k.xhr_obj;m=["ajax-res-type=",n,",http-status=(",l.status,")"].join("");q=[m,l.getAllResponseHeaders(),l.responseText].join("\n");return this.uteObj.debug(q)}catch(p){}};h.prototype.retry_ajax=function(k,j){if(this.uteObj.isDbg()){this.uteObj.debug("Retrying again.  retry count = "+k.count)}return jQuery.ajax(k.opts)};h.prototype.b64_hmac=function(m,k,l){var j;j="sha1"===l?Crypto.SHA1:Crypto.SHA256;return Crypto.util.bytesToBase64(Crypto.HMAC(j,m,k,{asBytes:true}))};return h})();if(!a(e.Net)){e.Net={}}if(!a(e.Net.AjaxPipe)){e.Net.AjaxPipe=g}})(window);(function(k){function g(n){return typeof n!=="undefined"&&n!==null}function m(n){return typeof n==="object"}if(!g(k.ComZotoh)){k.ComZotoh={}}var l=k.ComZotoh;var a,b,d,c,j=Object.prototype.hasOwnProperty,e=function(q,o){for(var n in o){if(j.call(o,n)){q[n]=o[n]}}function p(){this.constructor=q}p.prototype=o.prototype;q.prototype=new p;q.__super__=o.prototype;return q};a=(function(){function n(u,s,t,q,r,o){var p;this.verb=u;this.action=s;this.params=t;this.callbacks=q;this.data=r;this.dataSize=o;this.timeout_secs=g(this.callbacks)?this.callbacks.waitSecs:30;this.content_type="text/xml";this.tags={};this.response_type="xml";this.cache=false;this.async=true;this.host="";this.headers={};this.preAjax=g(this.callbacks)?this.callbacks.preAjax:null;this.action_handler=null;if(!g(this.dataSize)){this.dataSize=0}p=this.data;if(typeof p==="function"){this.data=function(){return p()}}else{this.data=function(){return p}}}return n})();c=(function(){function n(p,o,q){this.faultString=q!=null?q:"Unexpected Error";this.action=p;this.faultCode=o!=null?o:"ServerFault"}n.prototype.getFaultCode=function(){return this.faultCode};n.prototype.getFaultMsg=function(){return this.faultString};return n})();var h=function(){};b=(function(){function n(p,o,q){this.waitSecs=15;this.preAjax=null;this.success=p!=null?p:h;this.error=o!=null?o:h;this.timeout=q!=null?q:this.error}return n})();d=(function(n){e(o,n);function o(){o.__super__.constructor.call(this);this.userAgent="";this.site="";this.retries=3;this.retryMillis=1500;this.uteObj=new l.Ute()}o.prototype.ute=function(){return this.uteObj};o.prototype.setUserAgent=function(p){return this.userAgent=p!=null?p:""};o.prototype.getUserAgent=function(){return this.userAgent};o.prototype.setHost=function(p){return this.site=p!=null?p:""};o.prototype.getHost=function(){return this.site};o.prototype.setRetryLimit=function(p){return this.retries=!isNaN(p)?p:void 0};o.prototype.getRetryLimit=function(){return this.retries};o.prototype.setRetryDelayMillis=function(p){return this.retryMillis=!isNaN(p)?p:void 0};o.prototype.getRetryDelayMillis=function(){return this.retryMillis};o.prototype.doAjax=function(p){return o.__super__.doAjax.call(this,p)};o.prototype.get_url_prefix=function(p){return"https"};o.prototype.get_url_site=function(q){var p,r;r=this.site;if(this.uteObj.vstr(q.url)){p=this.url_matcher(q.url);if((p!=null)&&p.length>2){r=p[2]}}return r};o.prototype.cache_pages=function(){return true};o.prototype.default_response=function(){return"xml"};o.prototype.default_data_type=function(){return"application/x-www-form-urlencoded"};o.prototype.default_content_type=function(){return"text/xml"};o.prototype.on_statuscode_zero=function(q,p){rc.faultString="If you are unable to load any data,\ncheck your computer's network connection.\n\nIf your computer or network is protected by a firewall or proxy,\ncheck permission to access the Internet.";return rc.faultCode="Failed to access url "+p.url};o.prototype.on_statuscode_bad=function(q){var s,r,p;s=q.serverResponseType;p=q.url;if(p.length>48){r=p.substr(0,48)+" ... "}else{r=p}return new l.Net.AjaxError(q.action,"HTTPCode:"+s+"","Error while connecting to "+r)};o.prototype.post_process_error=function(u,q,v,p){var s,r;r=u.count;s=this;if(this.ok_to_retry(v)){if(r>=this.getRetryLimit()){this.uteObj.error("Retry limit exceeded, returning error.  retry count = "+r);return typeof p==="function"?p(v):void 0}else{u.count=1+r;return this.uteObj.delayExec(s.getRetryDelayMillis(),function(){return s.retry_ajax(u,q)})}}else{return typeof p==="function"?p(v):void 0}};o.prototype.ok_to_retry=function(p){return false};o.prototype.url_matcher=function(p){return p.match(/(\w+):\/\/([\w.-]+)\/(\S*)/)};return o})(l.Net.AjaxPipe);if(!g(l.Net)){l.Net={}}if(!g(l.Net.AjaxCBS)){l.Net.AjaxCBS=b}if(!g(l.Net.AjaxArgs)){l.Net.AjaxArgs=a}if(!g(l.Net.AjaxError)){l.Net.AjaxError=c}if(!g(l.Net.Ajaxer)){l.Net.Ajaxer=d}})(window);(function(d){function b(l){return typeof l!=="undefined"&&l!==null}function h(l){return typeof l==="object"}if(!b(d.ComZotoh)){d.ComZotoh={}}var g=d.ComZotoh;var j,e,c,a,k;j=(function(){function l(m){this.aws=m}l.prototype.awscall=function(p,o,n,m){return this.aws.doAjax(this.aws.ec2Arg(p,o,n,m))};return l})();e=(function(){function l(m){this.name=m;this.tags={};this.cr_tstamp=new Date()}l.prototype.getCurrentState=function(){return this.state};l.prototype.setCurrentState=function(m){return this.state=m!=null?m:""};l.prototype.getTags=function(){return this.tags};l.prototype.setTags=function(m){if(m!=null){return this.tags=m}};l.prototype.addTag=function(n,m){if(n!=null){return this.tags[n]=m}};l.prototype.getTag=function(m){if(m!=null){return this.tags[m]}else{return}};l.prototype.getName=function(){var m;return(m=this.name)!=null?m:""};l.prototype.setName=function(m){return this.name=m!=null?m:""};l.prototype.getProviderOwnerId=function(){return this.owner};l.prototype.setProviderOwnerId=function(m){return this.owner=m!=null?m:""};l.prototype.getProviderRegionId=function(){return this.region};l.prototype.setProviderRegionId=function(m){return this.region=m!=null?m:""};l.prototype.getDescription=function(){return this.desc};l.prototype.setDescription=function(m){return this.desc=m!=null?m:""};l.prototype.getCreationTimestamp=function(){return this.cr_tstamp};l.prototype.setCreationTimestamp=function(m){if(m!=null){return this.cr_tstamp=m}};return l})();a=(function(){function l(n,m){this.idstr=n;this.sstr=m}l.prototype.getShortString=function(){return this.sstr};l.prototype.toString=function(){return this.idstr};return l})();a.MON=new a("Monday","Mon");a.TUE=new a("Tuesday","Tue");a.WED=new a("Wednesday","Wed");a.THU=new a("Thursday","Thu");a.FRI=new a("Friday","Fri");a.SAT=new a("Saturday","Sat");a.SUN=new a("Sunday","Sun");a.values=function(){return[a.MON,a.TUE,a.WED,a.THU,a.FRI,a.SAT,a.SUN]};a.valueOf=function(l){l=l!=null?l.toLowerCase():"";switch(l){case"monday":case"mon":return a.MON;case"tuesday":case"tue":return a.TUE;case"wednesday":case"wed":return a.WED;case"thursday":case"thu":return a.THU;case"friday":case"fri":return a.FRI;case"saturday":case"sat":return a.SAT;case"sunday":case"sun":return a.SUN;default:return null}};c=(function(){function l(m){this.idstr=m}l.prototype.toString=function(){return this.idstr};return l})();c.CSV=new c("csv");c.JSON=new c("json");c.XML=new c("xml");c.TEXT=new c("text");c.values=function(){return[c.CSV,c.XML,c.JSON,c.TEXT]};c.valueOf=function(l){l=l!=null?l.toLowerCase():"";switch(l){case"csv":return c.CSV;case"xml":return c.XML;case"json":return c.JSON;case"text":return c.TEXT;default:return null}};k=(function(){function l(){this.startHour=0;this.endHour=0;this.endMin=0;this.startMin=0}l.prototype.toString=function(){var m;m=[];if(b(this.startOfWeek)){m.push(this.startOfWeek.getShortString(),":")}m.push(this.pad(this.startHour),":",this.pad(this.startMin));m.push("-");if(b(this.endOfWeek)){m.push(this.endOfWeek.getShortString(),":")}m.push(this.pad(this.endHour),":",this.pad(this.endMin));return m.join("").toLowerCase()};l.prototype.getEndDayOfWeek=function(){return this.endOfWeek};l.prototype.setEndDayOfWeek=function(m){if(m!=null){return this.endOfWeek=m}};l.prototype.getEndHour=function(){return this.endHour};l.prototype.setEndHour=function(m){if((m!=null)&&!isNaN(m)){return this.endHour=m}};l.prototype.getEndMinute=function(){return this.endMin};l.prototype.setEndMinute=function(m){if((m!=null)&&!isNaN(m)){return this.endMin=m}};l.prototype.getStartDayOfWeek=function(){return this.startOfWeek};l.prototype.setStartDayOfWeek=function(m){if(m!=null){return this.startOfWeek=m}};l.prototype.getStartHour=function(){return this.startHour};l.prototype.setStartHour=function(m){if((m!=null)&&!isNaN(m)){return this.startHour=m}};l.prototype.getStartMinute=function(){return this.startMin};l.prototype.setStartMinute=function(m){if((m!=null)&&!isNaN(m)){return this.startMin=m}};l.prototype.pad=function(m){if(m<10){return"0"+m}else{return""+m}};return l})();if(!b(g.CloudAPI)){g.CloudAPI={}}g.CloudAPI.DataFormat=c;g.CloudAPI.DayOfWeek=a;g.CloudAPI.TimeWindow=k;g.CloudAPI.CObject=e;g.CloudAPI.AbstractSupport=j})(window);(function(o){function k(t){return typeof t!=="undefined"&&t!==null}function s(t){return typeof t==="object"}if(!k(o.ComZotoh)){o.ComZotoh={}}var r=o.ComZotoh;var m="http://acs.amazonaws.com/groups/global/AllUsers";var e="FULL_CONTROL";var j="WRITE";var h="READ";var q='<?xml version="1.0" encoding="UTF-8"?>';var a=new DOMParser();var d=a.parseFromString(q,"text/xml");var l=new XMLSerializer();var c,p,g,n=Object.prototype.hasOwnProperty,b=function(w,u){for(var t in u){if(n.call(u,t)){w[t]=u[t]}}function v(){this.constructor=w}v.prototype=u.prototype;w.prototype=new v;w.__super__=u.prototype;return w};g=function(u,t){return u.getElementsByTagName(t)[0]};p=(function(){function t(){}return t})();p.newElement=function(w,B,x){var u,A,z,y,t;y=d.createElement(w);if(B!=null){for(u in B){if(!n.call(B,u)){continue}t=B[u];y.setAttribute(u,t)}}z=x!=null?x.length:void 0;for(A=0;0<=z?A<z:A>z;0<=z?A++:A--){y.appendChild(x[A])}return y};p.newText=function(t){return d.createTextNode(t)};p.clearXmlAttrs=function(v){var u,y,x,w,t;y=v!=null?v.attributes:void 0;w=y!=null?y.length:void 0;u=[];for(x=0;0<=w?x<w:x>w;0<=w?x++:x--){u.push(y[x].name)}w=u.length;if(v!=null){t=[];for(x=0;0<=w?x<w:x>w;0<=w?x++:x--){t.push(v.removeAttribute(u[x]))}return t}};p.toXml=function(t){return l.serializeToString(t)};p.getTag=function(v,D){var y,C,w,z,t,u,B,A,x;if(D.charAt(0)==="/"){D=D.replace(/^\//,"");u=1}else{u=0}A=D.split("/");C=A.length-1;B=v;t=[];if(C===0&&u===1){v=g(B,A[0]);if(v!=null){t.push(v)}return t}for(y=0;0<=C?y<C:y>C;0<=C?y++:y--){B=g(B,A[y]);if(!(B!=null)){break}}if((B!=null)&&C>=0){z=(x=B.childNodes)!=null?x.length:void 0;for(w=0;0<=z?w<z:w>z;0<=z?w++:w--){if(A[C]===B.childNodes[w].nodeName){t.push(B.childNodes[w])}}}return t};p.getCS=function(t){if(t!=null){return t.childNodes}else{return[]}};p.getFCN=function(t){var u;return t!=null?(u=t.firstChild)!=null?u.nodeValue:void 0:void 0};p.getNode=function(t,u){return p.getTag(t,u)[0]};p.getNVal=function(t,v){var u;u=p.getNode(t,v);if((u!=null)&&(u.firstChild!=null)){return u.firstChild.nodeValue}else{return""}};p.getNName=function(t){var u;return(u=t!=null?t.nodeName:void 0)!=null?u:""};p.ffcn=function(u,t){return p.getFCN(p.getTag(u,t)[0])};c=(function(u){b(t,u);function t(v){t.__super__.constructor.call(this,v)}t.prototype.break_acl=function(H){var A,I,D,x,C,G,J,E,w,v,z,F,y,B;B=this.aws.cfns(),y=B[0],I=B[1],x=B[2],A=B[3];E=x(H,"Grant");G=E.length;w=[];z={};for(C=0;0<=G?C<G:C>G;0<=G?C++:C--){J=E[C];v=A.ffcn(J,"Permission");D=x(J,"Grantee")[0];F=x(D,"URI")[0];if(m===F){z[v]=J}else{w.push(J)}}return[z,w]};t.prototype.patch_acl=function(F,w,A){var C,B,z,x,E,D,y;B=F!=null?F.childNodes():void 0;E=B!=null?B.length:void 0;C=[];for(x=0;0<=E?x<E:x>E;0<=E?x++:x--){C.push(B[x])}E=C.length;for(x=0;0<=E?x<E:x>E;0<=E?x++:x--){F.removeChild(C[x])}E=w.length;for(x=0;0<=E?x<E:x>E;0<=E?x++:x--){F.appendChild(w[i])}y=[];for(z in A){if(!n.call(A,z)){continue}D=A[z];if(k(D)){y.push(F.appendChild(D))}else{y.push(void 0)}}return y};return t})(r.CloudAPI.AbstractSupport);if(!k(r.DomAPI)){r.DomAPI=p}if(!k(r.CloudAPI)){r.CloudAPI={}}if(!k(r.CloudAPI.Storage)){r.CloudAPI.Storage={}}r.CloudAPI.Storage.BlobSupportDOM=c})(window);(function(d){function a(g){return typeof g!=="undefined"&&g!==null}function c(g){return typeof g==="object"}if(!a(d.ComZotoh)){d.ComZotoh={}}var e=d.ComZotoh;var b;b=(function(){function g(){}g.prototype.getCloudName=function(){return this.cloudName};g.prototype.getProviderName=function(){return this.providerName};g.prototype.getStorage=function(){return this.storage};g.prototype.getStorageCustomProperties=function(){return{}};g.prototype.getRegionId=function(){return this.region};g.prototype.setRegionId=function(h){return this.region=h||""};g.prototype.setCloudName=function(h){return this.cloudName=h||""};g.prototype.setProviderName=function(h){return this.providerName=h||""};g.prototype.getAccountNumber=function(){return this.acctNum};g.prototype.setAccountNumber=function(h){return this.acctNum=h||""};g.prototype.getStorageEndpoint=function(){return this.storageEndPoint};g.prototype.setEndpoint=function(h){return this.endPoint=h||""};g.prototype.getStorageAccountNumber=function(){return this.storageAcctNum};g.prototype.getStoragePublic=function(){return null};g.prototype.getStoragePrivate=function(){return null};g.prototype.setAccessKeys=function(j,h){this.setAccessPrivate(h);return this.setAccessPublic(j)};g.prototype.getStorageX509Cert=function(){return null};g.prototype.setX509Cert=function(h){};g.prototype.getStorageX509Key=function(){return null};g.prototype.setX509Key=function(h){};g.prototype.setCustomProperties=function(h){return this.customProps=h||{}};g.prototype.getAccessPrivate=function(){return this.accessPrivate};g.prototype.getAccessPublic=function(){return this.accessPublic};g.prototype.getCustomProperties=function(){return this.customProps};g.prototype.getEndpoint=function(){return this.endPoint};g.prototype.setAccessPrivate=function(h){return this.accessPrivate=h};g.prototype.setAccessPublic=function(h){return this.accessPublic=h};g.prototype.setStorageKeys=function(h,j){};g.prototype.setStoragePrivate=function(h){};g.prototype.setStoragePublic=function(h){};g.prototype.setStorage=function(h){return this.storage=h||""};g.prototype.setStorageAccountNumber=function(h){return this.storageAcctNum=h||""};g.prototype.getX509Cert=function(){return null};g.prototype.getX509Key=function(){return null};g.prototype.setStorageX509Cert=function(h){};g.prototype.setStorageX509Key=function(h){};g.prototype.setStorageEndpoint=function(h){return this.storageEndPoint=h||""};g.prototype.setStorageCustomProperties=function(h){return this.storageProps=h||{}};return g})();if(!a(e.CloudAPI)){e.CloudAPI={}}e.CloudAPI.ProviderContext=b})(window);(function(c){function a(g){return typeof g!=="undefined"&&g!==null}function b(g){return typeof g==="object"}if(!a(c.ComZotoh)){c.ComZotoh={}}var e=c.ComZotoh;var d;d=(function(){function g(h){this.ctx=h}g.prototype.getContext=function(){return this.ctx};g.prototype.close=function(){};g.prototype.release=function(){};g.prototype.getAdminServices=function(){return this.admSvcs};g.prototype.getComputeCloud=function(){return this};g.prototype.getCloudName=function(){return this.ctx.getCloudName()};g.prototype.getDataCenterServices=function(){return this.dcSvcs};g.prototype.getComputeServices=function(){return this.cmpSvcs};g.prototype.getIdentityServices=function(){return this.idSvcs};g.prototype.getNetworkServices=function(){return this.netSvcs};g.prototype.getPlatformServices=function(){return this.plfSvcs};g.prototype.getProviderName=function(){return this.ctx.getProviderName()};g.prototype.getStorageServices=function(){return this.stoSvcs};g.prototype.hasComputeServices=function(){return a(this.cmpSvcs)};g.prototype.hasIdentityServices=function(){return a(this.idSvcs)};g.prototype.hasNetworkServices=function(){return a(this.netSvcs)};g.prototype.hasPlatformServices=function(){return a(this.plfSvcs)};g.prototype.hasStorageServices=function(){return a(this.stoSvcs)};g.prototype.isConnected=function(){return true};g.prototype.testContext=function(){return a(this.ctx)};return g})();if(!a(e.CloudAPI)){e.CloudAPI={}}e.CloudAPI.CloudProvider=d})(window);(function(h){function e(m){return typeof m!=="undefined"&&m!==null}function k(m){return typeof m==="object"}if(!e(h.ComZotoh)){h.ComZotoh={}}var j=h.ComZotoh;var a,l,b,d,g=Object.prototype.hasOwnProperty,c=function(p,n){for(var m in n){if(g.call(n,m)){p[m]=n[m]}}function o(){this.constructor=p}o.prototype=n.prototype;p.prototype=new o;p.__super__=n.prototype;return p};a=(function(){function m(n){this.ec2=n;this.pps=new j.CloudAPI.Admin.PrepaymentSupport(this.ec2)}m.prototype.getPrepaymentSupport=function(){return this.pps};m.prototype.hasPrepaymentSupport=function(){return e(this.pps)};return m})();b=(function(n){c(m,n);function m(o){this.ppId=o;m.__super__.constructor.call(this)}m.prototype.getSize=function(){return this.iType};m.prototype.setSize=function(o){return this.iType=o!=null?o:""};m.prototype.getCurrencyCode=function(){return this.currency};m.prototype.getDataCenterId=function(){return this.zone};m.prototype.getFixedFee=function(){return this.fixedFee};m.prototype.getPeriodInDays=function(){return this.duration};m.prototype.getPlatform=function(){return this.platform};m.prototype.getSoftware=function(){return this.software};m.prototype.getUsageFee=function(){return this.usageFee};m.prototype.setCurrencyCode=function(o){return this.currency=o!=null?o:""};m.prototype.setDataCenterId=function(o){return this.zone=o!=null?o:""};m.prototype.setFixedFee=function(o){if((o!=null)&&!isNaN(o)){return this.fixedFee=o}};m.prototype.setPeriodInDays=function(o){if((o!=null)&&!isNaN(o)){return this.duration=o}};m.prototype.setPlatform=function(o){if(o!=null){return this.platform=o}};m.prototype.setSoftware=function(o){return this.software=o!=null?o:""};m.prototype.setUsageFee=function(o){if((o!=null)&&!isNaN(o)){return this.usageFee=o}};m.prototype.getCount=function(){return this.count};m.prototype.getPeriodStartTimestamp=function(){return this.tstamp};m.prototype.getProviderPrepaymentId=function(){return this.ppId};m.prototype.setCount=function(o){if((o!=null)&&!isNaN(o)){return this.count=o}};m.prototype.setPeriodStartTimestamp=function(o){if(o!=null){return this.tstamp=o}};m.prototype.setPrepaymentId=function(o){return this.ppId=o!=null?o:""};return m})(j.CloudAPI.CObject);d=(function(m){c(n,m);function n(o){n.__super__.constructor.call(this,o)}n.prototype.getOffering=function(t,o){var q,r,s;s=[["ReservedInstancesOfferingId.1",t]];r=this;q=function(p){return o!=null?typeof o.success==="function"?o.success(r.aws.ute().getFirst(r.munch_ofs(p))):void 0:void 0};return this.awscall("DescribeReservedInstancesOfferings",s,q,o)};n.prototype.getPrepayment=function(t,o){var q,r,s;s=[["ReservedInstancesId.1",t]];r=this;q=function(p){return o!=null?typeof o.success==="function"?o.success(r.aws.ute().getFirst(r.munch_pps(p))):void 0:void 0};return this.awscall("DescribeReservedInstances",s,q,o)};n.prototype.getProviderTermForOffering=function(o){return"Reserved Instances"};n.prototype.getProviderTermForPrepayment=function(o){return"Reserved Instances"};n.prototype.listOfferings=function(o){var p,q;q=this;p=function(r){return o!=null?typeof o.success==="function"?o.success(q.munch_ofs(r)):void 0:void 0};return this.awscall("DescribeReservedInstancesOfferings",[],p,o)};n.prototype.listPrepayments=function(o){var p,q;q=this;p=function(r){return o!=null?typeof o.success==="function"?o.success(q.munch_pps(r)):void 0:void 0};return this.awscall("DescribeReservedInstances",[],p,o)};n.prototype.prepay=function(o,t,q){var r,s,u;u=[["ReservedInstancesOfferingId",o]];if((t!=null)&&!isNaN(t)){u.push(["InstanceCount",t])}s=this;r=function(p){return s.on_prepay(p,q)};return this.awscall("PurchaseReservedInstancesOffering",u,r,q)};n.prototype.on_prepay=function(t,u){var w,r,x,p,o,v,q,s;s=this.aws.cfns(),q=s[0],x=s[1],p=s[2],r=s[3];v=r.getNode(t,"/PurchaseReservedInstancesOfferingResponse");o=r.ffcn(v,"reservedInstancesId");w=new j.CloudAPI.Admin.Prepayment(o);this.aws.cas(w);return u!=null?typeof u.success==="function"?u.success(w):void 0:void 0};n.prototype.munch_pps=function(u){var z,x,s,B,q,v,p,A,y,w,o,r,t;t=this.aws.cfns(),r=t[0],B=t[1],q=t[2],s=t[3];y=q(u,"/DescribeReservedInstances/reservedInstancesSet/item");A=y.length;o=[];for(v=0;0<=A?v<A:v>A;0<=A?v++:v--){p=s.ffcn(y[v],"reservedInstancesId");z=new j.CloudAPI.Admin.Prepayment(p);this.aws.cas(z);z.setCurrentState(s.ffcn(y[v],"state"));z.setSize(s.ffcn(y[v],"instanceType"));z.setDataCenterId(s.ffcn(y[v],"availabilityZone"));w=s.ffcn(y[v],"duration");z.setPeriodInDays(Number(w)/86400);w=s.ffcn(y[v],"fixedPrice");z.setFixedFee(Number(w));w=s.ffcn(y[v],"usagePrice");z.setUsageFee(Number(w));w=s.ffcn(y[v],"instanceCount");z.setCount(Number(w));x=s.ffcn(y[v],"productDescription");z.setDescription(x);if((x!=null?x:"").toLowerCase().indexOf("windows")>=0){z.setPlatform(j.CloudAPI.Compute.Platform.WINDOWS)}else{z.setPlatform(j.CloudAPI.Compute.Platform.LINUX)}o.push(z)}return o};n.prototype.munch_ofs=function(u){var z,x,s,B,q,v,p,A,y,w,o,r,t;t=this.aws.cfns(),r=t[0],B=t[1],q=t[2],s=t[3];y=q(u,"/DescribeReservedInstancesOfferings/reservedInstancesOfferingsSet/item");A=y.length;o=[];for(v=0;0<=A?v<A:v>A;0<=A?v++:v--){p=s.ffcn(y[v],"reservedInstancesOfferingId");z=new j.CloudAPI.Admin.Offering(p);this.aws.cas(z);z.setSize(s.ffcn(y[v],"instanceType"));z.setDataCenterId(s.ffcn(y[v],"availabilityZone"));w=s.ffcn(y[v],"duration");z.setPeriodInDays(Number(w)/86400);w=s.ffcn(y[v],"fixedPrice");z.setFixedFee(Number(w));w=s.ffcn(y[v],"usagePrice");z.setUsageFee(Number(w));z.addTag("instanceTenancy",s.ffcn(y[v],"instanceTenancy"));z.setCurrencyCode(s.ffcn(y[v],"currencyCode"));z.addTag("offeringType",s.ffcn(y[v],"offeringType"));x=s.ffcn(y[v],"productDescription");z.setDescription(x);if((x!=null?x:"").toLowerCase().indexOf("windows")>=0){z.setPlatform(j.CloudAPI.Compute.Platform.WINDOWS)}else{z.setPlatform(j.CloudAPI.Compute.Platform.LINUX)}o.push(z)}return o};return n})(j.CloudAPI.AbstractSupport);l=(function(m){c(n,m);function n(o){this.offerId=o;n.__super__.constructor.call(this)}n.prototype.getSize=function(){return this.vmSize};n.prototype.setSize=function(o){return this.vmSize=o!=null?o:""};n.prototype.getCurrencyCode=function(){return this.currency};n.prototype.getDataCenterId=function(){return this.zone};n.prototype.getFixedFee=function(){return this.fixedFee};n.prototype.getProviderOfferingId=function(){return this.offerId};n.prototype.getPeriodInDays=function(){return this.duration};n.prototype.getPlatform=function(){return this.platform};n.prototype.getSoftware=function(){return this.software};n.prototype.getUsageFee=function(){return this.usageFee};n.prototype.setCurrencyCode=function(o){return this.currency=o!=null?o:""};n.prototype.setDataCenterId=function(o){return this.zone=o!=null?o:""};n.prototype.setFixedFee=function(o){if((o!=null)&&!isNaN(o)){return this.fixedFee=o}};n.prototype.setOfferingId=function(o){return this.offerId=o!=null?o:""};n.prototype.setPeriodInDays=function(o){if((o!=null)&&!isNaN(o)){return this.duration=o}};n.prototype.setPlatform=function(o){if(o!=null){return this.platform=o}};n.prototype.setSoftware=function(o){return this.software=o!=null?o:""};n.prototype.setUsageFee=function(o){if((o!=null)&&!isNaN(o)){return this.usageFee=o}};return n})(j.CloudAPI.CObject);if(!e(j.CloudAPI)){j.CloudAPI={}}if(!e(j.CloudAPI.Admin)){j.CloudAPI.Admin={}}j.CloudAPI.Admin.AdminServices=a;j.CloudAPI.Admin.Prepayment=b;j.CloudAPI.Admin.PrepaymentSupport=d;j.CloudAPI.Admin.Offering=l})(window);(function(c){function n(w){return typeof w!=="undefined"&&w!==null}function h(w){return typeof w==="object"}if(!n(c.ComZotoh)){c.ComZotoh={}}var u=c.ComZotoh;var r,k,b,g,e,q,v,t,l,d,p,a,j,o,m=Object.prototype.hasOwnProperty,s=function(z,x){for(var w in x){if(m.call(x,w)){z[w]=x[w]}}function y(){this.constructor=z}y.prototype=x.prototype;z.prototype=new y;z.__super__=x.prototype;return z};r=(function(x){s(w,x);function w(A,z,y){this.target=A;this.apiVersion=z;this.cx=y;w.__super__.constructor.call(this);this.cx.addListener(this);this.set_nspace()}w.prototype.ec2Arg=function(B,C,A,z){var y;y=new u.Net.AjaxArgs("GET",B,C,z);y.action_handler=A;return y};w.prototype.cfns=function(){return[this.ute(),u.DomAPI.getFCN,u.DomAPI.getTag,u.DomAPI]};w.prototype.cb_badrequest=function(y){return y!=null?typeof y.error==="function"?y.error({code:400,status:"Bad Request"}):void 0:void 0};w.prototype.cbok=function(y){return y!=null?typeof y.success==="function"?y.success({code:200,status:"OK"}):void 0:void 0};w.prototype.cb_resultWithArg=function(A,y,z){var B;B={result:A};if(n(y)){B.ancillary=y}return z!=null?typeof z.success==="function"?z.success(B):void 0:void 0};w.prototype.cb_result=function(z,y){return this.cb_resultWithArg(z,null,y)};w.prototype.cb_boolean=function(y,z){return this.cb_result(y,z)};w.prototype.cb_string=function(z,y){return this.cb_result(z,y)};w.prototype.cas=function(y){if(y!=null){y.setProviderOwnerId(this.cx.getAccountNumber());return y.setProviderRegionId(this.cx.getRegionId())}};w.prototype.ctx=function(){return this.cx};w.prototype.memoize_new_site=function(z,y){return w.REDIRECT_SITEMAP[z]=y};w.prototype.has_redirect_site=function(y){var z;z=w.REDIRECT_SITEMAP[y];return this.ute().vstr(z)};w.prototype.get_redirect_site=function(y){return w.REDIRECT_SITEMAP[y]};w.prototype.getFriendlyAWSAccountID=function(y){if((y!=null)&&y.length===12){return[y.slice(0,4),y.slice(4,8),y.slice(8,12)].join("-")}else{return y}};w.prototype.testSDBDomainName=function(y){return this.test_name(y,/[a-zA-Z0-9][a-z0-9_\.\-]*/)};w.prototype.testS3BucketName=function(A){var z,y;y=this.test_name(A,/[a-z0-9][a-z0-9\.\-]*/);if(y){z=A.charAt(A.length-1);if("-"===z){y=false}}if(y){if(A.indexOf(".-")>=0||A.indexOf("-.")>=0){y=false}}return y};w.prototype.testS3ObjName=function(y){return this.test_name(y,/[a-zA-Z0-9][a-zA-Z0-9_\.\-]*/)};w.prototype.testSDBItemName=function(y){return this.test_name(y,/[a-zA-Z0-9][a-zA-Z0-9_()\-]*/)};w.prototype.testEC2Name=function(y){return this.test_name(y,/[a-zA-Z][a-zA-Z0-9_\-\.]*/)};w.prototype.testJSName=function(y){return this.test_name(y,/[a-zA-Z][a-zA-Z0-9_]*/)};w.prototype.test_name=function(z,B){var y,A;y=false;if(this.ute().vstr(z)){A=z.match(B);if((A!=null)&&A.length>0&&z===A[0]){y=true}}return y};w.prototype.setRegion=function(y){return this.setHost(this.target+"."+this.getRegion()+".amazonaws.com")};w.prototype.getRegion=function(){return this.cx.getRegionId()};w.prototype.getNSPResolver=function(){var y;y=this;return function(z){return y.nspace[z]||null}};w.prototype.reset=function(){return this.cx.setAccessKeys("","")};w.prototype.getAPIVersion=function(){return this.apiVersion};w.prototype.process_res_error=function(A,z,y){switch(A){case"json":return this.prc_json_error(z,y);case"xml":return this.prc_xml_error(z,y);default:return this.prc_text_error(z,y)}};w.prototype.prc_json_error=function(y,z){return false};w.prototype.prc_xml_error=function(y,z){return false};w.prototype.prc_text_error=function(y,z){y.faultString=(z!=null?z:"").toString();return true};w.prototype.pre_format=function(B,z,A){var y,F,E,C,D;C=this.format_date(new Date(),"yyyy-MM-ddThh:mm:ssZ");E=[];E.push(["AWSAccessKeyId",this.cx.getAccessPublic()]);E.push(["Action",B.action]);E.push(["SignatureVersion",z]);E.push(["SignatureMethod",A]);E.push(["Version",this.apiVersion]);E.push(["Timestamp",C]);y=((D=B.params)!=null?D.length:void 0)||0;for(F=0;0<=y?F<y:F>y;0<=y?F++:F--){E.push(B.params[F])}this.sort_params(E);return E};w.prototype.sort_params=function(y){return y.sort(function(z,A){if(z[0]<A[0]){return -1}else{if(z[0]>A[0]){return 1}else{return 0}}})};w.prototype.format_signature=function(z){var y,A,B,D,C;C=this.pre_format(z,"2","HmacSHA256");B=C.length;D="";for(A=0;0<=B?A<B:A>B;0<=B?A++:A--){y=C[A];y[0]=this.ute().urlencode(y[0]);y[1]=this.aws_urlenc(y[1]);if(D.length>0){D+="&"}D+=y[0];D+="=";D+=y[1]}return D};w.prototype.aws_urlenc=function(y){return this.ute().urlencode(y).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")};w.prototype.calc_uripart=function(y){return"/"};w.prototype.format_url=function(F){var E,C,y,H,G,A,B,z,D;if(!this.ute().vstr(F.url)){C=this.format_signature(F);E=this.get_url_prefix(F);D="GET";G="";A=this.get_url_site(F);B=this.calc_uripart(F);H=[D,"\n",A.toLowerCase(),"\n",B,"\n",C].join("");G=this.ute().urlencode(this.b64_hmac(H,this.cx.getAccessPrivate()));z=[E,"://",A,B,"?",C,"&Signature=",G].join("");z=this.post_jiggle_url(F,z);F.url=z;if(this.ute().isDbg()){this.ute().debug([["Params (",C,")"].join(""),["StrSig (",H,")"].join(""),["Sig (",G,")"].join(""),["URL (",z,")"].join("")].join("\n"))}}y=this.url_matcher(F.url);if((y!=null)&&y.length===4){y="/"+y[3]}else{y=""}if(this.ute().isDbg()){this.ute().debug("url-path:"+y)}return[F.url,y,{}]};w.prototype.post_jiggle_url=function(z,y){return y};w.prototype.format_date=function(B,A){var F,z,H,C,G,E,I,D,y;F=this.pad_zero(B.getUTCDate());G=this.pad_zero(B.getUTCMonth()+1);D=this.pad_zero(B.getUTCFullYear());y=this.pad_zero(B.getUTCFullYear().toString().substring(3,4));I=A.indexOf("yyyy")>-1?D:y;H=this.pad_zero(B.getUTCHours());C=this.pad_zero(B.getUTCMinutes());E=this.pad_zero(B.getUTCSeconds());z=A.replace(/dd/g,F).replace(/MM/g,G).replace(/y{1,4}/g,I);return z.replace(/hh/g,H).replace(/mm/g,C).replace(/ss/g,E)};w.prototype.pad_zero=function(y){return(y<10?"0":"")+y};w.prototype.set_nspace=function(){return this.nspace={s:"http://schemas.xmlsoap.org/soap/envelope/"}};w.prototype.pre_ajax=function(y,z){if("GET"===y.verb||"HEAD"===y.verb){z["If-Modified-Since"]="Tue, 15 Nov 1994 08:12:31 GMT"}return w.__super__.pre_ajax.call(this,y,z)};w.prototype.on_boolean_reply=function(A,y,z){return this.on_boolean2_reply(A,null,y,z)};w.prototype.on_boolean2_reply=function(D,I,G,E){var B,H,z,y,F,A,C;C=this.cfns(),A=C[0],H=C[1],z=C[2],B=C[3];F=B.getNode(D,G);y=H(z(F,"return")[0]);return this.cb_resultWithArg("true"===y,I,E)};return w})(u.Net.Ajaxer);r.REDIRECT_SITEMAP={};k=(function(w){s(x,w);function x(){x.__super__.constructor.call(this);this.setProviderName("Amazon");this.listeners=[];this.setCloudName("AWS")}x.prototype.setAccountNumber=function(y){if(y!=null){return x.__super__.setAccountNumber.call(this,y.replace(/[^0-9]/g,""))}};x.prototype.setRegionId=function(B){var A,D,z,C,y;x.__super__.setRegionId.call(this,B);C=this.listeners;y=[];for(D=0,z=C.length;D<z;D++){A=C[D];y.push(A.setRegion(B))}return y};x.prototype.setCustomProperties=function(y){x.__super__.setCustomProperties.call(this,y);this.setAccessKeys(y.accessKey,y.secretKey);return this.setAccountNumber(y.accountNumber)};x.prototype.addListener=function(y){if(y!=null){return this.listeners.push(y)}};x.prototype.get_url_prefix=function(y){return"https"};x.prototype.get_url_site=function(y){if(this.ute().vstr(y.host)){return y.host}else{return this.getHost()}};return x})(u.CloudAPI.ProviderContext);e=(function(x){s(w,x);function w(y){w.__super__.constructor.call(this,"cloudfront","2010-11-01",y);this.ute().mapPut(this.nspace,this.target,"http://cloudfront.amazonaws.com/doc/"+this.apiVersion+"/")}w.prototype.setRegion=function(y){return this.setHost(this.target+".amazonaws.com")};return w})(r);p=(function(x){s(w,x);function w(y){w.__super__.constructor.call(this,"sdb","2009-04-15",y);this.ute().mapPut(this.nspace,this.target,"http://sdb.amazonaws.com/doc/"+this.apiVersion+"/")}w.prototype.setRegion=function(y){var z;z="us-east-1"!==y?"."+this.getRegion():"";return this.setHost(this.target+z+".amazonaws.com")};return w})(r);o=(function(w){s(x,w);function x(A,z,y){x.__super__.constructor.call(this,A,z,y)}x.prototype.prc_xml_error=function(F,D){var B,G,y,A,H,E,z,C;C=this.cfns(),z=C[0],G=C[1],y=C[2],B=C[3];A=false;if(D!=null){E=y(D,"/ErrorResponse/Error")[0];H=G(y(E,"Message")[0]);F.faultString=H||"";H=G(y(E,"Code")[0]);F.faultCode=H||"";A=true}return A};return x})(r);g=(function(w){s(x,w);function x(y){x.__super__.constructor.call(this,"autoscaling","2011-01-01",y);this.ute().mapPut(this.nspace,this.target,"http://autoscaling.amazonaws.com/doc/"+this.apiVersion+"/")}return x})(o);l=(function(w){s(x,w);function x(y){x.__super__.constructor.call(this,"rds","2011-04-01",y);this.ute().mapPut(this.nspace,this.target,"http://rds.amazonaws.com/doc/"+this.apiVersion+"/")}return x})(o);a=(function(x){s(w,x);function w(y){w.__super__.constructor.call(this,"sns","2010-03-31",y);this.ute().mapPut(this.nspace,this.target,"http://sns.amazonaws.com/doc/"+this.apiVersion+"/")}return w})(o);q=(function(x){s(w,x);function w(y){w.__super__.constructor.call(this,"monitoring","2010-08-01",y);this.ute().mapPut(this.nspace,this.target,"http://monitoring.amazonaws.com/doc/"+this.apiVersion+"/")}w.prototype.get_url_prefix=function(){return"http"};return w})(o);j=(function(x){s(w,x);function w(y){w.__super__.constructor.call(this,"sqs","2011-10-01",y);this.ute().mapPut(this.nspace,this.target,"http://sqs.amazonaws.com/doc/"+this.apiVersion+"/")}w.prototype.calc_uripart=function(B){var A,z,y,C;C=w.__super__.calc_uripart.call(this,B);switch(B.action){case"DeleteQueue":case"SendMessage":case"ReceiveMessage":case"SetQueueAttributes":case"GetQueueAttributes":case"DeleteMessage":A=true;break;default:A=false}if(A===true){z=this.ctx().getAccountNumber();y=B.tags.QueueName;C=["/",z,"/",y,"/"].join("")}return C};return w})(o);v=(function(x){s(w,x);function w(y){w.__super__.constructor.call(this,"ec2","2012-03-01",y);this.ute().mapPut(this.nspace,this.target,"http://ec2.amazonaws.com/doc/"+this.apiVersion+"/")}w.prototype.prc_xml_error=function(F,D){var B,G,y,A,H,E,z,C;C=this.cfns(),z=C[0],G=C[1],y=C[2],B=C[3];A=false;if(D!=null){E=y(D,"/Response/Errors/Error")[0];H=G(y(E,"Message")[0]);F.faultString=H||"";H=G(y(E,"Code")[0]);F.faultCode=H||"";A=true}return A};return w})(r);t=(function(w){s(x,w);function x(y){x.__super__.constructor.call(this,y);this.target="elasticloadbalancing";this.apiVersion="2011-11-15";this.ute().mapPut(this.nspace,this.target,"http://elasticloadbalancing.amazonaws.com/doc/"+this.apiVersion+"/")}return x})(v);d=(function(x){s(w,x);function w(y){w.__super__.constructor.call(this,"s3","2006-03-01",y);this.ute().mapPut(this.nspace,this.target,"http://s3.amazonaws.com/doc/"+this.apiVersion+"/")}w.prototype.ec2Arg=function(E,F,B,A){var z,D,y,C;if(n((C=F.body)!=null?C.data:void 0)){y=F.body.size;D=F.body.data}else{y=0;D=null}z=new u.Net.AjaxArgs("GET",E,F,A,D,y);z.action_handler=B;z.content_type=this.ute().vstr(F.ctype)?F.ctype:"";if(this.ute().vstr(F.response_type)){z.response_type=F.response_type}if(this.ute().vstr(F.verb)){z.verb=F.verb}if(h(F.tags)){this.ute().sclone(F.tags,z.tags)}return z};w.prototype.prc_xml_error=function(F,D){var B,I,y,A,H,G,E,z,C;C=this.cfns(),z=C[0],I=C[1],y=C[2],B=C[3];A=false;if(D!=null){E=y(D,"/Error")[0];H=I(y(E,"Message")[0]);F.faultString=H||"";G=I(y(E,"Code")[0]);F.faultCode=G||"";A=z.vstr(H)&&z.vstr(G)}return A};w.prototype.setRegion=function(y){var z;z="us-east-1"!==y?"."+this.getRegion():"";return this.setHost(this.target+z+".amazonaws.com")};w.prototype.format_signature=function(H){var O,P,L,U,T,R,F,S,J,Q,I,W,V,M,B,z,K,N,G,E,D,C,A,y,X;F=new Date().toUTCString();V=H.tags.subres;K=H.tags.xhdrs;N=this.cfns(),M=N[0],T=N[1],R=N[2],U=N[3];P=M.b64();L=M.vstr(H.content_type)?H.content_type:"";G=this.do_calc_resource_element(V),I=G[0],W=G[1];E=this.do_calc_amz_element(K),B=E[0],z=E[1];switch(H.action){case"GET Service":case"PUT Bucket":D=this.do_xxx_bucket_yyy(H,L,F,z,W),Q=D[0],S=D[1],J=D[2];break;case"GET Bucket location":case"DELETE Bucket":C=this.do_aaa_bucket_bbb(H,L,F,z,W),Q=C[0],S=C[1],J=C[2];break;case"GET Bucket location":case"GET Bucket acl":case"GET Object ACL":case"PUT Bucket acl":case"PUT Object acl":case"DELETE Bucket":A=this.do_acl_xxx(H,L,F,z,W),Q=A[0],S=A[1],J=A[2];break;case"Head Object":y=this.do_peek_item(H,L,F,z,W),Q=y[0],S=y[1],J=y[2];break;default:X=this.do_aaa_bucket_bbb(H,L,F,z,W),Q=X[0],S=X[1],J=X[2]}J=P.utf8_encode(J);O=["AWS ",this.cx.getAccessPublic(),":",this.b64_hmac(J,this.cx.getAccessPrivate(),"sha1")].join("");return[Q,S,F,J,O,B]};w.prototype.do_peek_item=function(K,z,B,D,I){var C,J,G,L,F,A,N,M,y,E,H;H=this.cfns(),E=H[0],L=H[1],A=H[2],G=H[3];C=K.tags.bucket;F=K.tags.object;N="/"+F;J="/"+F;M=[K.verb,"","",B,""].join("\n")+D+J;y=C+"."+this.get_url_site(K);if(this.has_redirect_site(y)){y=this.get_redirect_site(y)}return[y,N,M]};w.prototype.do_aaa_bucket_bbb=function(B,D,A,z,Q){var R,G,N,M,P,J,L,K,O,y,C,I,E,H,F;F=this.cfns(),E=F[0],M=F[1],J=F[2],N=F[3];R=B.tags.bucket;P=B.tags.object;O=B.tags.query;K="/";G="/";if(E.vstr(P)){G+=R+"/"+P;K+=P}else{G+=R+"/"}K+=Q;G+=Q;y="";if(h(O)){for(L in O){if(!m.call(O,L)){continue}H=O[L];if(y.length>0){y+="&"}y+=this.ute().urlencode(L)+"="+this.ute().urlencode(H)}if(y.length>0){y=(K.indexOf("?")>=0?"&":"?")+y}}if(y.length>0){K+=y}C=[B.verb,"",D,A,""].join("\n")+z+G;I=R+"."+this.get_url_site(B);if(this.has_redirect_site(I)){I=this.get_redirect_site(I)}return[I,K,C]};w.prototype.format_url=function(G){var I,D,J,C,H,B,L,F,y,K,A,z,E;E=this.format_signature(G),A=E[0],L=E[1],B=E[2],K=E[3],D=E[4],I=E[5];F=this.get_url_prefix(G);if(!this.ute().vstr(G.url)){z=[F,"://",A,L].join("");G.url=z}if(this.ute().isDbg()){this.ute().debug([K,["Auth(",D,")"].join(""),["URL(",z,")"].join("")].join("\n"))}y=this.url_matcher(G.url);J={};if((y!=null)&&y.length===4){y="/"+y[3]}else{y=""}if(this.ute().isDbg()){this.ute().debug("content-type:"+G.content_type)}if(this.ute().isDbg()){this.ute().debug("url-path:"+y)}if(this.ute().vstr(G.content_type)){J["content-type"]=G.content_type}J.Authorization=D;J.Host=A;J.Date=B;H=I.length;for(C=0;0<=H?C<H:C>H;0<=H?C++:C--){J[I[C][0]]=I[C][1]}return[G.url,y,J]};w.prototype.do_calc_resource_element=function(A){var y,E,J,z,D,C,I,G,B,H,F;F=this.cfns(),B=F[0],J=F[1],z=F[2],E=F[3];G="";y=[];if(A!=null){for(D in A){if(!m.call(A,D)){continue}H=A[D];y.push([D,H])}}this.sort_params(y);I=y.length;for(C=0;0<=I?C<I:C>I;0<=I?C++:C--){if(G.length>0){G+="&"}G+=y[C][0].replace(/\?/g,"");if(B.vstr(y[C][1])){G+="="+y[C][1]}}if(G.length>0){G="?"+G}return[y,G]};w.prototype.do_calc_amz_element=function(E){var J,C,I,y,B,A,H,z,G,F,D;D=this.cfns(),z=D[0],I=D[1],y=D[2],C=D[3];J=[];F="";if(E!=null){for(B in E){if(!m.call(E,B)){continue}G=E[B];if(B.indexOf("x-amz-")===0){J.push([B,G])}}}this.sort_params(J);H=J.length;for(A=0;0<=H?A<H:A>H;0<=H?A++:A--){if(F.length>0){F+="\n"}F+=J[A][0]+":"+J[A][1]}if(F.length>0){F+="\n"}return[J,F]};w.prototype.do_acl_xxx=function(J,z,B,D,I){var C,K,G,L,F,A,N,M,y,E,H;H=this.cfns(),E=H[0],L=H[1],A=H[2],G=H[3];C=J.tags.bucket;F=J.tags.object;y=C+"."+this.get_url_site(J);if(this.has_redirect_site(y)){y=this.get_redirect_site(y)}if(E.vstr(F)){K="/"+C+"/"+F+I;N="/"+F+I}else{K="/"+C+"/"+I;N="/"+I}M=[J.verb,"",z,B,""].join("\n")+D+K;return[y,N,M]};w.prototype.do_xxx_bucket_yyy=function(H,z,B,C,G){var I,E,J,A,L,K,y,D,F;F=this.cfns(),D=F[0],J=F[1],A=F[2],E=F[3];if(D.vstr(H.tags.bucket)){I="/"+H.tags.bucket+G}else{I="/"+G}K=[H.verb,"",z,B,""].join("\n")+C+I;L=I;y=this.get_url_site(H);if(this.has_redirect_site(y)){y=this.get_redirect_site(y)}return[y,L,K]};return w})(o);b=(function(x){s(w,x);function w(y){w.__super__.constructor.call(this,new k());this.ctx.setCustomProperties(y);this.iniz()}w.prototype.iniz=function(){this.scaler=new g(this.ctx);this.sdb=new p(this.ctx);this.ec2=new v(this.ctx);this.elb=new t(this.ctx);this.sns=new a(this.ctx);this.sqs=new j(this.ctx);this.rds=new l(this.ctx);this.s3=new d(this.ctx);this.cwm=new q(this.ctx);this.admSvcs=new u.CloudAPI.Admin.AdminServices(this.ec2);this.idSvcs=new u.CloudAPI.Identity.IdentityServices(this.ec2);this.netSvcs=new u.CloudAPI.Network.NetworkServices(this.ec2,this.elb);this.dcSvcs=new u.CloudAPI.Dc.DataCenterServices(this.ec2);this.cmpSvcs=new u.CloudAPI.Compute.ComputeServices(this.ec2,this.scaler,this.cwm);this.plfSvcs=new u.CloudAPI.Platform.PlatformServices(this.ec2,this.sdb,this.sns,this.sqs,this.rds);return this.stoSvcs=new u.CloudAPI.Storage.StorageServices(this.s3)};return w})(u.CloudAPI.CloudProvider);if(!n(u.CloudAPI)){u.CloudAPI={}}u.CloudAPI.AmazonAWS=b})(window);(function(c){function s(E){return typeof E!=="undefined"&&E!==null}function o(E){return typeof E==="object"}function l(E){return s(E)&&isNaN(E)===false}if(!s(c.ComZotoh)){c.ComZotoh={}}var C=c.ComZotoh;var j,k,g,w,e,p,y,q,d,a,m,D,t,h,n,x,b,B,u,z,r=Object.prototype.hasOwnProperty,A=function(H,F){for(var E in F){if(r.call(F,E)){H[E]=F[E]}}function G(){this.constructor=H}G.prototype=F.prototype;H.prototype=new G;H.__super__=F.prototype;return H};u=(function(F){A(E,F);function E(G){this.volId=G;E.__super__.constructor.call(this)}E.prototype.equals=function(G){return this.volId===(G!=null?G.getProviderVolumeId():void 0)};E.prototype.toString=function(){return this.getProviderVolumeId()};E.prototype.getDeviceId=function(){return this.devId};E.prototype.getProviderDataCenterId=function(){return this.zone};E.prototype.setProviderDataCenterId=function(G){return this.zone=G!=null?G:""};E.prototype.getProviderSnapshotId=function(){return this.snapId};E.prototype.setProviderSnapshotId=function(G){return this.snapId=G!=null?G:""};E.prototype.getProviderVirtualMachineId=function(){return this.vmId};E.prototype.setProviderVirtualMachineId=function(G){return this.vmId=G!=null?G:""};E.prototype.getProviderVolumeId=function(){return this.volId};E.prototype.getSizeInGigabytes=function(){return Number(this.gbSize||"")};E.prototype.setDeviceId=function(G){return this.devId=G!=null?G:""};E.prototype.setProviderVolumeId=function(G){return this.volId=G!=null?G:""};E.prototype.setSizeInGigabytes=function(G){if((G!=null)&&!isNaN(G)){return this.gbSize=G}};E.prototype.getAttachedTimestamp=function(){return this.att_tstamp};E.prototype.setAttachedTimestamp=function(G){if(G!=null){return this.att_tstamp=G}};return E})(C.CloudAPI.CObject);e=(function(E){A(F,E);function F(G){this.imgId=G;F.__super__.constructor.call(this)}F.prototype.equals=function(G){return this.getProviderMachineImageId()===(G!=null?G.getProviderMachineImageId():void 0)};F.prototype.toString=function(){return this.getProviderMachineImageId()};F.prototype.getType=function(){return this.type};F.prototype.getPlatform=function(){return this.platform};F.prototype.getSoftware=function(){return this.software};F.prototype.setPlatform=function(G){if(G!=null){return this.platform=G}};F.prototype.setSoftware=function(G){return this.software=G!=null?G:""};F.prototype.getArchitecture=function(){return this.arch};F.prototype.setArchitecture=function(G){if(G!=null){return this.arch=G}};F.prototype.getProviderMachineImageId=function(){return this.imgId};F.prototype.setProviderMachineImageId=function(G){return this.imgId=G!=null?G:""};F.prototype.setType=function(G){if(G!=null){return this.type=G}};return F})(C.CloudAPI.CObject);t=(function(F){A(E,F);function E(G){this.gid=G;E.__super__.constructor.call(this);this.zones=[];this.sids=[]}E.prototype.getProviderLaunchConfigurationId=function(){return this.cfgnId};E.prototype.setProviderLaunchConfigurationId=function(G){return this.cfgnId=G!=null?G:""};E.prototype.getCooldown=function(){return this.coolDownSecs};E.prototype.setCooldown=function(G){if((G!=null)&&!isNaN(G)){return this.coolDownSecs=G}};E.prototype.getMaxServers=function(){return this.maxServers};E.prototype.setMaxServers=function(G){if((G!=null)&&!isNaN(G)){return this.maxServers=G}};E.prototype.getMinServers=function(){return this.minServers};E.prototype.setMinServers=function(G){if((G!=null)&&!isNaN(G)){return this.minServers=G}};E.prototype.getProviderDataCenterIds=function(){return this.zones};E.prototype.setProviderDataCenterIds=function(G){if(G!=null){return this.zones=G}};E.prototype.getProviderScalingGroupId=function(){return this.gid};E.prototype.setProviderScalingGroupId=function(G){return this.gid=G!=null?G:""};E.prototype.setProviderServerIds=function(G){if(G!=null){return this.sids=G}};E.prototype.getProviderServerIds=function(){return this.sids};E.prototype.setTargetCapacity=function(G){if((G!=null)&&!isNaN(G)){return this.targetCap=G}};E.prototype.getTargetCapacity=function(){return this.targetCap};return E})(C.CloudAPI.CObject);B=(function(F){A(E,F);function E(G){E.__super__.constructor.call(this,G)}E.prototype.clone=function(J,K,G,H,I){};E.prototype.hasSupport=function(){return true};E.prototype.boot=function(H,G){var I,J,K;K=[["InstanceId.1",H]];J=this;I=function(L){return J.aws.cb_boolean(true,G)};return this.awscall("StartInstances",K,I,G)};E.prototype.disableAnalytics=function(H,G){var I,J,K;K=[["InstanceId.1",H]];J=this;I=function(L){return J.aws.cb_boolean(true,G)};return this.awscall("UnmonitorInstances",K,I,G)};E.prototype.enableAnalytics=function(H,G){var I,J,K;K=[["InstanceId.1",H]];J=this;I=function(L){return J.aws.cb_boolean(true,G)};return this.awscall("MonitorInstances",K,I,G)};E.prototype.getConsoleOutput=function(H,G){var I,J,K;K=[["InstanceId",H]];J=this;I=function(L){return J.aws.cb_string(J.on_get_console_out(L),G)};return this.awscall("GetConsoleOutput",K,I,G)};E.prototype.getProduct=function(G){return C.CloudAPI.Compute.VirtualMachineProduct.entrySet()[G]};E.prototype.getProviderTermForServer=function(G){return"Instance"};E.prototype.getVirtualMachine=function(H,G){var I,J,K;K=[["InstanceId.1",H]];J=this;I=function(L){return G!=null?typeof G.success==="function"?G.success(J.aws.ute().getFirst(J.munch_xml(L))):void 0:void 0};return this.awscall("DescribeInstances",K,I,G)};E.prototype.launch=function(Y,H,Z,T,N,K,L,X,S){var O,I,W,Q,V,U,ab,aa,G,R,P,J,M;M=this.aws.cfns(),J=M[0],I=M[1],Q=M[2],W=M[3];O=J.b64();aa=this;ab=1;R=[];if(K){R.push(["Monitoring.Enabled","true"])}R.push(["ImageId",Y]);R.push(["InstanceType",H!=null?H.getProductId():void 0]);R.push(["MinCount",1]);if(J.vstr(T)){R.push(["KeyName",T])}if(J.vstr(N)){R.push(["SubnetId",N]);L=[]}else{if(J.vstr(Z)){R.push(["Placement.AvailabilityZone",Z])}}G=(L!=null?L.length:void 0)||0;for(U=0;0<=G?U<G:U>G;0<=G?U++:U--){R.push(["SecurityGroupId."+(U+1),L[U]])}if(X!=null){P=X.UserData;if(J.vstr(P)){R.push(["UserData",O.encode(P)])}P=X.MaxCount;if(s(P)&&!isNaN(P)&&Number(P)>=1){ab=Number(P)}}R.push(["MaxCount",ab]);V=function(ac){return aa.on_launch(ac,S)};return this.awscall("RunInstances",R,V,S)};E.prototype.listFirewalls=function(I,H){var J,G;G=H!=null?H.success:void 0;J=this;if(H!=null){H.success=function(K){return J.on_list_fwalls(K,H,G)}}return this.getVirtualMachine(I,H)};E.prototype.listProducts=function(L){var I,K,G,M,J,H;G=C.CloudAPI.Compute.VirtualMachineProduct.values();H=L!=null?L.toString():void 0;K=G.length;M=[];J="x86_64"===H?"64bit":"i386"===H?"32bit":"???";for(I=0;0<=K?I<K:I>K;0<=K?I++:I--){if(G[I].getDescription().indexOf(J)>=0){M.push(G[I])}}return M};E.prototype.listVirtualMachines=function(I,J){var K,M,H,N,O,L,G;I=I||{};M=this;H=[];N=0;G=function(){return["Filter.",N,".Value.1"].join("")};L=function(){return["Filter.",N,".Name"].join("")};O=function(P,Q){if(M.aws.ute().vstr(P)){++N;return H.push([L(),Q],[G(),P])}};O(I.vlan,"vpc-id");O(I.owner,"owner-id");O(I.image,"image-id");O(I.dc,"availability-zone");K=function(P){return J!=null?typeof J.success==="function"?J.success(M.munch_xml(P)):void 0:void 0};return this.awscall("DescribeInstances",H,K,J)};E.prototype.pause=function(H,G){var I,J,K;K=[["InstanceId.1",H]];J=this;I=function(L){return J.aws.cb_boolean(true,G)};return this.awscall("StopInstances",K,I,G)};E.prototype.reboot=function(H,G){var I,J,K;K=[["InstanceId.1",H]];J=this;I=function(L){return J.aws.on_boolean_reply(L,"/RebootInstancesResponse",G)};return this.awscall("RebootInstances",K,I,G)};E.prototype.supportsAnalytics=function(){return true};E.prototype.terminate=function(H,G){var I,J,K;K=[["InstanceId.1",H]];J=this;I=function(L){return J.aws.cb_boolean(true,G)};return this.awscall("TerminateInstances",K,I,G)};E.prototype.on_launch=function(L,M){var J,Q,G,O,N,H,R,P,I,K;K=this.aws.cfns(),I=K[0],Q=K[1],G=K[2],J=K[3];P=J.getNode(L,"/RunInstancesResponse");R=J.ffcn(P,"reservationId");H=J.ffcn(P,"ownerId");O=G(P,"instancesSet/item");N=[];if(O!=null){this.unpack_instances(N,R,H,O)}return M!=null?typeof M.success==="function"?M.success(I.getFirst(N)):void 0:void 0};E.prototype.on_list_fwalls=function(K,I,G){var H,J;H=(J=(K!=null?K.getTag("groupSet"):void 0))!=null?J:"";H=H.split(",");if(I!=null){I.success=G}return this.aws.cb_result(H,I)};E.prototype.munch_xml=function(N){var K,R,H,O,Q,J,P,M,G,S,I,L;L=this.aws.cfns(),I=L[0],R=L[1],H=L[2],K=L[3];P=H(N,"/DescribeInstancesResponse/reservationSet/item");Q=P.length;M=[];for(O=0;0<=Q?O<Q:O>Q;0<=Q?O++:O--){S=K.ffcn(P[O],"reservationId");G=K.ffcn(P[O],"ownerId");J=H(P[O],"instancesSet/item");if(J!=null){this.unpack_instances(M,S,G,J)}}return M};E.prototype.unpack_instances=function(X,T,H,N){var Z,Y,U,P,ab,R,S,I,O,W,aa,V,G,Q,J,K,M,L;Q=C.CloudAPI.Compute.VirtualMachineProduct.entrySet();aa=N.length;L=this.aws.cfns(),K=L[0],Y=L[1],R=L[2],Z=L[3];for(W=0;0<=aa?W<aa:W>aa;0<=aa?W++:W--){if("#text"===Z.getNName(N[W])){continue}O=R(N[W],"instanceState")[0];J=K.getNVal(O,"name");S=Z.ffcn(N[W],"instanceId");I=new C.CloudAPI.Compute.VirtualMachine(S);this.aws.cas(I);I.setCurrentState(J);I.setProviderOwnerId(H);P=R(N[W],"groupSet/item");ab=[];G=(P!=null?P.length:void 0)||0;for(V=0;0<=G?V<G:V>G;0<=G?V++:V--){U=Z.ffcn(P[V],"groupName");if(K.vstr(U)){ab.push(U)}}I.addTag("groupSet",ab.join(","));I.setProviderMachineImageId(Z.ffcn(N[W],"imageId"));I.addTag("kernelId",Z.ffcn(N[W],"kernelId"));I.addTag("ramdiskId",Z.ffcn(N[W],"ramdiskId"));I.setPublicDnsAddress(K.getNVal(N[W],"dnsName"));I.setPrivateDnsAddress(K.getNVal(N[W],"privateDnsName"));I.addTag("keyName",Z.ffcn(N[W],"keyName"));M=K.getNVal(N[W],"architecture");M=C.CloudAPI.Compute.Architecture.valueOf(M);I.setArchitecture(M);K.getNVal(N[W],"reason");K.getNVal(N[W],"amiLaunchIndex");M=Z.ffcn(N[W],"instanceType");M=M!=null?Q[M]:null;I.setProduct(M);M=K.getNVal(N[W],"launchTime");M=K.setISO8601(new Date(),M);I.setLastBootTimestamp(M);M=R(N[W],"placement")[0];M=K.getNVal(M,"availabilityZone");I.setProviderDataCenterId(M);M=K.getNVal(N[W],"privateIpAddress");I.setPrivateIpAddresses(K.vstr(M)?[M]:[]);M=K.getNVal(N[W],"ipAddress");I.setPublicIpAddresses(K.vstr(M)?[M]:[]);M=K.getNVal(N[W],"platform");M=C.CloudAPI.Compute.Platform.valueOf(M);I.setPlatform(M);I.setProviderSubnetId(K.getNVal(N[W],"subnetId"));I.setProviderVlanId(K.getNVal(N[W],"vpcId"));X.push(I)}return X};E.prototype.on_get_console_out=function(N){var I,K,Q,G,R,L,P,O,H,M,J;M=this.aws.cfns(),H=M[0],Q=M[1],G=M[2],K=M[3];I=H.b64();P=K.getNode(N,"/GetConsoleOutputResponse");R=K.ffcn(P,"instanceId");O=K.ffcn(P,"timestamp");L=G(P,"output")[0];if((L!=null)&&H.vstr(L.textContent)){L=(J=I.decode(L.textContent))!=null?J:"";L=L.replace(/\x1b/mg,"\n").replace(/\r/mg,"").replace(/\n+/mg,"\n")}else{L=""}return L};return E})(C.CloudAPI.AbstractSupport);j=(function(){function E(F){this.idstr=F}E.prototype.toString=function(){return this.idstr};return E})();j.I64=new j("x86_64");j.I32=new j("i386");j.values=function(){return[j.I64,j.I32]};j.valueOf=function(E){E=E!=null?E.toLowerCase():"";switch(E){case"x86_64":return j.I64;case"i386":return j.I32;default:return null}};z=(function(F){A(E,F);function E(G){E.__super__.constructor.call(this,G)}E.prototype.remove=function(G,H){var I,J,K;K=[["VolumeId",G]];J=this;I=function(L){return J.aws.on_boolean_reply(L,"/DeleteVolumeResponse",H)};return this.awscall("DeleteVolume",K,I,H)};E.prototype.create=function(L,I,G,H){var J,K,M;M=[];if(this.aws.ute().vstr(L)){M.push(["SnapshotId",L])}else{if((I!=null)&&(!isNaN(I))){M.push(["Size",I])}}if(this.aws.ute().vstr(G)){M.push(["AvailabilityZone",G])}K=this;J=function(N){return H!=null?typeof H.success==="function"?H.success(K.on_create(N)):void 0:void 0};return this.awscall("CreateVolume",M,J,H)};E.prototype.hasSupport=function(){return true};E.prototype.attach=function(Q,J,H,N){var L,R,I,O,P,G,K,M;M=this.aws.cfns(),K=M[0],R=M[1],I=M[2],L=M[3];G=[];if(K.vstr(Q)){G.push(["VolumeId",Q])}if(K.vstr(J)){G.push(["InstanceId",J])}if(K.vstr(H)){G.push(["Device",H])}P=this;O=function(S){return P.on_attach(S,N)};return this.awscall("AttachVolume",G,O,N)};E.prototype.detach=function(G,H){var I,J,K;K=[["VolumeId",G]];J=this;I=function(L){return J.aws.cb_boolean(true,H)};return this.awscall("DetachVolume",K,I,H)};E.prototype.getProviderTermForVolume=function(G){return"Volume"};E.prototype.getVolume=function(G,H){var I,J,K;K=[["VolumeId.1",G]];J=this;I=function(L){return H!=null?typeof H.success==="function"?H.success(J.aws.ute().getFirst(J.munch_xml(L))):void 0:void 0};return this.awscall("DescribeVolumes",K,I,H)};E.prototype.listPossibleDeviceIds=function(G){var H;H=[];if(C.CloudAPI.Compute.Platform.WINDOWS===G){H=["xvdf","xvdg","xvdh","xvdi","xvdj"]}else{if(C.CloudAPI.Compute.Platform.LINUX===G){H=["dev/sdf","dev/sdg","dev/sdh","dev/sdi","dev/sdj"]}}return H};E.prototype.listVolumes=function(G){var H,I;I=this;H=function(J){return G!=null?typeof G.success==="function"?G.success(I.munch_xml(J)):void 0:void 0};return this.awscall("DescribeVolumes",[],H,G)};E.prototype.on_create=function(K){var I,P,G,L,H,O,N,M,J;J=this.aws.cfns(),H=J[0],P=J[1],G=J[2],I=J[3];L=I.getNode(K,"/CreateVolumeResponse");N=I.ffcn(L,"volumeId");O=new C.CloudAPI.Compute.Volume(N);this.aws.cas(O);O.setProviderDataCenterId(I.ffcn(L,"availabilityZone"));M=I.ffcn(L,"size");O.setSizeInGigabytes(Number(M));O.setCurrentState(I.ffcn(L,"status"));O.setProviderSnapshotId(I.ffcn(L,"snapshotId"));M=H.setISO8601(new Date(),I.ffcn(L,"createTime"));O.setCreationTimestamp(M);return O};E.prototype.on_attach=function(K,L){var P,I,Q,G,M,H,O,N,J;J=this.aws.cfns(),H=J[0],Q=J[1],G=J[2],I=J[3];M=I.getNode(K,"/AttachVolumeResponse");O=I.ffcn(M,"volumeId");P=new C.CloudAPI.Compute.Volume(O);this.aws.cas(P);P.setProviderVirtualMachineId(I.ffcn(M,"instanceId"));P.setDeviceId(I.ffcn(M,"device"));P.setCurrentState(I.ffcn(M,"status"));N=H.setISO8601(new Date(),I.ffcn(M,"attachTime"));P.setAttachedTimestamp(N);return L!=null?typeof L.success==="function"?L.success(P):void 0:void 0};E.prototype.munch_xml=function(M){var J,O,T,H,N,G,S,P,L,I,R,Q,K;K=this.aws.cfns(),I=K[0],T=K[1],H=K[2],J=K[3];P=H(M,"/DescribeVolumesResponse/volumeSet/item");L=[];S=P.length;for(N=0;0<=S?N<S:N>S;0<=S?N++:N--){Q=J.ffcn(P[N],"status");if("deleting"===Q){continue}G=J.ffcn(P[N],"volumeId");R=new C.CloudAPI.Compute.Volume(G);this.aws.cas(R);R.setCurrentState(Q);Q=J.ffcn(P[N],"size");R.setSizeInGigabytes(Number(Q));R.setProviderSnapshotId(J.ffcn(P[N],"snapshotId"));R.setProviderDataCenterId(J.ffcn(P[N],"availabilityZone"));Q=I.setISO8601(new Date(),J.ffcn(P[N],"createTime"));R.setCreationTimestamp(Q);O=H(P[N],"attachmentSet/item")[0];if(O!=null){R.setProviderVirtualMachineId(J.ffcn(O,"instanceId"));R.setDeviceId(J.ffcn(O,"device"));J.ffcn(O,"status");Q=I.setISO8601(new Date(),J.ffcn(O,"attachTime"));R.setAttachedTimestamp(Q)}L.push(R)}return L};return E})(C.CloudAPI.AbstractSupport);n=(function(F){A(E,F);function E(G){E.__super__.constructor.call(this,G)}E.prototype.remove=function(J,G){var H,I,K;K=[["SnapshotId",J]];I=this;H=function(L){return I.aws.on_boolean_reply(L,"/DeleteSnapshotResponse",G)};return this.awscall("DeleteSnapshot",K,H,G)};E.prototype.isPublic=function(J,G){var H,I,K;K=[["SnapshotId",J],["Attribute","createVolumePermission"]];I=this;H=function(L){return I.aws.cb_boolean(I.on_ispublic(L),G)};return this.awscall("DescribeSnapshotAttribute",K,H,G)};E.prototype.create=function(G,L,H){var I,J,K;K=[["VolumeId",G],["Description",L||"new snapshot"]];J=this;I=function(M){return J.on_newsnap(M,H)};return this.awscall("CreateSnapshot",K,I,H)};E.prototype.hasSupport=function(){return true};E.prototype.listShares=function(J,G){var H,I,K;K=[["SnapshotId",J],["Attribute","createVolumePermission"]];I=this;H=function(L){return G!=null?typeof G.success==="function"?G.success(I.on_listshares(L)):void 0:void 0};return this.awscall("DescribeSnapshotAttribute",K,H,G)};E.prototype.getProviderTermForSnapshot=function(G){return"Snapshot"};E.prototype.getSnapshot=function(J,G){var H,I,K;K=[["SnapshotId.1",J]];I=this;H=function(L){return G!=null?typeof G.success==="function"?G.success(I.aws.ute().getFirst(I.munch_xml(L))):void 0:void 0};return this.awscall("DescribeSnapshots",K,H,G)};E.prototype.listSnapshots=function(G){var H,I,J;J=[["Filter.1.Name","owner-id"],["Filter.1.Value.1",this.aws.ctx().getAccountNumber()]];I=this;H=function(K){return G!=null?typeof G.success==="function"?G.success(I.munch_xml(K)):void 0:void 0};return this.awscall("DescribeSnapshots",J,H,G)};E.prototype.sharePublic=function(I,J,G){var H;H=J?"Add":"Remove";return this.share_xxx(I,H,"Group","all",G)};E.prototype.shareSnapshot=function(I,K,J,G){var H;H=J?"Add":"Remove";return this.share_xxx(I,H,"UserId",K,G)};E.prototype.supportsSnapshotSharing=function(){return true};E.prototype.supportsSnapshotSharingWithPublic=function(){return true};E.prototype.share_xxx=function(M,G,J,L,H){var I,K,N;N=[];N.push(["SnapshotId",M]);N.push(["createVolumePermission."+G+".1."+J,L]);K=this;I=function(O){return K.aws.on_boolean_reply(O,"/ModifySnapshotAttributeResponse",H)};return this.awscall("ModifySnapshotAttribute",N,I,H)};E.prototype.on_listshares=function(M){var J,O,R,H,N,Q,P,L,G,I,K;K=this.aws.cfns(),I=K[0],R=K[1],H=K[2],J=K[3];P=H(M,"/DescribeSnapshotAttributeResponse/createVolumePermission/item");Q=P.length;L=[];for(N=0;0<=Q?N<Q:N>Q;0<=Q?N++:N--){O=H(P[N],"userId");G=(O!=null)&&O.length>0?R(O[0]):"";if(I.vstr(G)){L.push(G)}O=H(P[N],"group");G=(O!=null)&&O.length>0?R(O[0]):"";if(I.vstr(G)){L.push(G)}}return L};E.prototype.on_ispublic=function(K){var I,P,M,G,L,O,N,H,J;J=this.aws.cfns(),H=J[0],P=J[1],G=J[2],I=J[3];N=G(K,"/DescribeSnapshotAttributeResponse/createVolumePermission/item");O=N.length;for(L=0;0<=O?L<O:L>O;0<=O?L++:L--){M=G(N[L],"group");if((M!=null)&&M.length>0){if("all"===P(M[0])){return true}}}return false};E.prototype.munch_xml=function(M){var Q,J,S,H,N,G,R,O,L,I,P,K;K=this.aws.cfns(),I=K[0],S=K[1],H=K[2],J=K[3];O=H(M,"/DescribeSnapshotsResponse/snapshotSet/item");L=[];R=O.length;for(N=0;0<=R?N<R:N>R;0<=R?N++:N--){G=J.ffcn(O[N],"snapshotId");Q=new C.CloudAPI.Compute.Snapshot(G);this.aws.cas(Q);Q.setDescription(J.ffcn(O[N],"description"));Q.setVolumeId(J.ffcn(O[N],"volumeId"));Q.setCurrentState(J.ffcn(O[N],"status"));P=I.setISO8601(new Date(),J.ffcn(O[N],"startTime"));Q.setSnapshotTimestamp(P);Q.setProgress(J.ffcn(O[N],"progress"));L.push(Q)}return L};E.prototype.on_newsnap=function(L,M){var P,J,Q,G,H,N,I,O,K;K=this.aws.cfns(),I=K[0],Q=K[1],G=K[2],J=K[3];N=J.getNode(L,"/CreateSnapshotResponse");H=J.ffcn(N,"snapshotId");P=new C.CloudAPI.Compute.Snapshot(H);this.aws.cas(P);P.setVolumeId(J.ffcn(N,"volumeId"));P.setCurrentState(J.ffcn(N,"status"));O=I.setISO8601(new Date(),J.ffcn(N,"startTime"));P.setSnapshotTimestamp(O);P.setProgress(J.ffcn(N,"progress"));P.setProviderOwnerId(J.ffcn(N,"ownerId"));O=J.ffcn(N,"volumeSize");P.setSizeInGb(Number(O));P.setDescription(J.ffcn(N,"description"));return M!=null?typeof M.success==="function"?M.success(P):void 0:void 0};return E})(C.CloudAPI.AbstractSupport);p=(function(E){A(F,E);function F(G){F.__super__.constructor.call(this,G)}F.prototype.remove=function(H,G){var I,J,K;K=[["ImageId",H]];J=this;I=function(L){return J.aws.on_boolean_reply(L,"/DeregisterImageResponse",G)};return this.awscall("DeregisterImage",K,I,G)};F.prototype.transfer=function(H,I,G){};F.prototype.downloadImage=function(I,G,H){};F.prototype.getMachineImage=function(H,G){var I,J,K;K=[["ImageId.1",H]];J=this;I=function(L){return G!=null?typeof G.success==="function"?G.success(J.aws.ute().getFirst(J.munch_xml(L))):void 0:void 0};return this.awscall("DescribeImages",K,I,G)};F.prototype.getProviderTermForImage=function(G){return"AMI"};F.prototype.hasPublicLibrary=function(){return true};F.prototype.imageVirtualMachine=function(I,H,N,L,G){var J,K,M;M=[["InstanceId",I],["Name",H]];if(this.aws.ute().vstr(N)){M.push(["Description",N])}if(!L){M.push(["NoReboot",true])}K=this;J=function(O){return K.on_image_vm(O,G)};return this.awscall("CreateImage",M,J,G)};F.prototype.imageVirtualMachineToStorage=function(I,H,K,J,L,G){return null};F.prototype.isImageSharedWithPublic=function(I,H){var J,G;G=H!=null?H.success:void 0;J=this;if(H!=null){H.success=function(L){var K;K=L!=null?L.getTag("isPublic"):false;H.success=G;return J.aws.cb_boolean(K,H)}}return this.getMachineImage(I,H)};F.prototype.hasSupport=function(){return true};F.prototype.listPublicImages=function(G){var H,I,J;J=[["Filter.1.Name","is-public"],["Filter.1.Value.1","true"],["Filter.2.Name","image-type"],["Filter.2.Value.1","machine"]];I=this;H=function(K){return G!=null?typeof G.success==="function"?G.success(I.munch_xml(K)):void 0:void 0};return this.awscall("DescribeImages",J,H,G)};F.prototype.fmtFilter_public=function(I,J,K){var H,G;G=["Filter.",K,".Value.1"].join("");H=["Filter.",K,".Name"].join("");return I.push([H,"is-public"],[G,J])};F.prototype.fmtFilter_arch=function(I,J,K){var H,G;G=["Filter.",K,".Value.1"].join("");H=["Filter.",K,".Name"].join("");return I.push([H,"architecture"],[G,J])};F.prototype.fmtFilter_type=function(I,J,K){var H,G;G=["Filter.",K,".Value.1"].join("");H=["Filter.",K,".Name"].join("");return I.push([H,"root-device-type"],[G,J])};F.prototype.fmtFilter_platform=function(J,G,K){var I,H;if("windows"===G){H=["Filter.",K,".Value.1"].join("");I=["Filter.",K,".Name"].join("");return J.push([I,"platform"],[H,G])}};F.prototype.fmtFilter_owner=function(H,G,I){switch(G){case"shared":return H.push(["ExecutableBy."+I,"self"]);case"amazon":return H.push(["Owner."+I,"amazon"]);case"self":return H.push(["Owner."+I,"self"]);case"others":return this.fmtFilter_public(H,true,I)}};F.prototype.listImages=function(L,I){var J,K,H,M,N,G;J=[["Filter.1.Name","image-type"],["Filter.1.Value.1","machine"]];L=L||{owner:"self"};M=this;N=2;for(H in L){if(!r.call(L,H)){continue}G=L[H];switch(H){case"platform":this.fmtFilter_platform(J,G,N++);break;case"arch":this.fmtFilter_arch(J,G,N++);break;case"type":this.fmtFilter_type(J,G,N++);break;case"owner":this.fmtFilter_owner(J,G,N++)}}if(L.owner!=="others"&&L["public"]===true){this.fmtFilter_public(J,true,N++)}K=function(O){return I!=null?typeof I.success==="function"?I.success(M.munch_xml(O)):void 0:void 0};return this.awscall("DescribeImages",J,K,I)};F.prototype.listImagesOwnedBy=function(K,G){var H,I,J;if(K==null){K=""}J=[["Filter.1.Name","owner-id"],["Filter.1.Value.1",K.replace(/[^0-9]/g,"")],["Filter.2.Name","image-type"],["Filter.2.Value.1","machine"]];I=this;H=function(L){return G!=null?typeof G.success==="function"?G.success(I.munch_xml(L)):void 0:void 0};return this.awscall("DescribeImages",J,H,G)};F.prototype.listShares=function(H,G){var I,J,K;K=[["ImageId",H],["Attribute","launchPermission"]];J=this;I=function(L){return G!=null?typeof G.success==="function"?G.success(J.munch_perms(L)):void 0:void 0};return this.awscall("DescribeImageAttribute",K,I,G)};F.prototype.registerMachineImage=function(N,L){var J,P,H,M,O,G,I,K;G=[["ImageLocation",N]];K=this.aws.cfns(),I=K[0],P=K[1],H=K[2],J=K[3];O=this;M=function(R){var Q,T,S;S=J.getNode(R,"/RegisterImageResponse");T=J.ffcn(S,"imageId");Q=new C.CloudAPI.Compute.MachineImage(T);O.aws.cas(Q);return L!=null?typeof L.success==="function"?L.success(Q):void 0:void 0};return this.awscall("RegisterImage",G,M,L)};F.prototype.searchMachineImages=function(M,I,L,J){var G,K,N,H,O;H=[["ExecutableBy.1","all"]];O=1;if(C.CloudAPI.Compute.Platform.WINDOWS===I){H.push(["Filter."+O+".Name","platform"]);H.push(["Filter."+O+".Value.1","windows"]);++O}if(L!=null){H.push(["Filter."+O+".Name","architecture"]);H.push(["Filter."+O+".Value.1",L.toString()]);++O}H.push(["Filter."+O+".Name","state"]);H.push(["Filter."+O+".Value.1","available"]);++O;M=(M||"").toLowerCase();N=this;G=function(Q,P,T,S,R){return N.aws.ute().join("\n",Q,P,T,S,R).toLowerCase().indexOf(M)>=0};K=function(P){return J!=null?typeof J.success==="function"?J.success(N.munch_xml(P,G)):void 0:void 0};return this.awscall("DescribeImages",H,K,J)};F.prototype.sharePublic=function(H,I,G){var J;J={};J.all=I;return this.shareMachineImageBatch(H,{groups:J},G)(function(){})};F.prototype.shareMachineImageBatch=function(I,G,H){return this.share_xxx(I,G,H)};F.prototype.shareMachineImage=function(H,K,I,G){var J;J={};J[K]=I;return this.shareMachineImageBatch(H,{accts:J},G)};F.prototype.supportsCustomImages=function(){return true};F.prototype.supportsImageSharing=function(){return true};F.prototype.supportsImageSharingWithPublic=function(){return true};F.prototype.share_xxx=function(I,H,G){var L,J,K,M;M=[];L=function(O,S,T){var Q,R,P,N;N=[];for(Q in O){if(!r.call(O,Q)){continue}P=O[Q];R=P===true?"Add":"Remove";R=["LaunchPermission.",R,".",T,".",S].join("");if("UserId"===S){Q=Q.replace(/[^0-9]/g,"")}M.push([R,Q]);N.push(++T)}return N};L(H.groups||{},"Group",1);L(H.accts||{},"UserId",1);M.push(["ImageId",I]);K=this;J=function(N){return K.aws.on_boolean_reply(N,"/ModifyImageAttributeResponse",G)};return this.awscall("ModifyImageAttribute",M,J,G)};F.prototype.on_image_vm=function(K,L){var M,I,O,G,H,N,J;J=this.aws.cfns(),H=J[0],O=J[1],G=J[2],I=J[3];N=I.ffcn(K,"/CreateImageResponse/imageId");M=new C.CloudAPI.Compute.MachineImage(N);this.aws.cas(N);return L!=null?typeof L.success==="function"?L.success(M):void 0:void 0};F.prototype.munch_perms=function(K){var I,Q,G,L,O,N,M,P,H,J;J=this.aws.cfns(),H=J[0],Q=J[1],G=J[2],I=J[3];N=G(K,"/DescribeImageAttributeResponse/launchPermission/item");O=N.length;M=[];for(L=0;0<=O?L<O:L>O;0<=O?L++:L--){P=I.ffcn(N[L],"userId");if(H.vstr(P)){M.push(P)}P=I.ffcn(N[L],"group");if(H.vstr(P)){M.push(P)}}return M};F.prototype.munch_xml=function(ac,Q){var aa,ad,Z,Y,X,U,W,R,V,L,T,O,P,ae,S,H,ab,G,J,I,K,N,M;M=this.aws.cfns(),K=M[0],X=M[1],U=M[2],Y=M[3];T=U(ac,"/DescribeImagesResponse/imagesSet/item");P=[];R=T.length;for(W=0;0<=R?W<R:W>R;0<=R?W++:W--){V=Y.ffcn(T[W],"imageId");Z=Y.ffcn(T[W],"description");O=Y.ffcn(T[W],"imageLocation");J=Y.ffcn(T[W],"imageState");H=Y.ffcn(T[W],"imageOwnerId");I=Y.ffcn(T[W],"imageType");N=Y.ffcn(T[W],"hypervisor");G=Y.ffcn(T[W],"rootDeviceType");L=Y.ffcn(T[W],"isPublic");ad=Y.ffcn(T[W],"architecture");ab=K.getNVal(T[W],"platform");ae=K.getNVal(T[W],"name");S=Q!=null?Q(V,ae,Z,O,H):true;if(S){aa=new C.CloudAPI.Compute.MachineImage(V);this.aws.cas(aa);aa.setName(ae);aa.addTag("imageLocation",O);aa.setProviderOwnerId(H);aa.setDescription(Z);aa.setArchitecture(C.CloudAPI.Compute.Architecture.valueOf(ad));aa.setPlatform(C.CloudAPI.Compute.Platform.valueOf(ab));aa.setCurrentState(J);aa.addTag("isPublic","true"===L);aa.addTag("hypervisor",N||"");aa.addTag("rootDeviceType",G||"");P.push(aa)}}return P};return F})(C.CloudAPI.AbstractSupport);w=(function(F){A(E,F);function E(G){this.cid=G;E.__super__.constructor.call(this)}E.prototype.getProviderFirewallIds=function(){return this.fwIds};E.prototype.setProviderFirewallIds=function(G){if(G!=null){return this.fwIds=G}};E.prototype.getProviderImageId=function(){return this.amiId};E.prototype.setProviderImageId=function(G){return this.amiId=G!=null?G:""};E.prototype.getProviderLaunchConfigurationId=function(){return this.cid};E.prototype.setProviderLaunchConfigurationId=function(G){return this.cid=G!=null?G:""};E.prototype.getServerSizeId=function(){return this.serverSize};E.prototype.setServerSizeId=function(G){return this.serverSize=G!=null?G:""};return E})(C.CloudAPI.CObject);k=(function(F){A(E,F);function E(G){E.__super__.constructor.call(this,G)}E.prototype.createAutoScalingGroup=function(X,W,Q,H,V,K,M,O){var T,R,L,S,P,U,G,N,I,J;N=[["AutoScalingGroupName",X],["LaunchConfigurationName",W],["MinSize",Q],["MaxSize",H]];G=(K!=null?K.length:void 0)||0;for(P=0;0<=G?P<G:P>G;0<=G?P++:P--){N.push(["AvailabilityZones.member."+(P+1),K[P]])}if((V!=null)&&!isNaN(V)){N.push(["DefaultCooldown",V])}J=this.aws.cfns(),I=J[0],R=J[1],L=J[2],T=J[3];if(s(M)){if(s(M.DesiredCapacity)){N.push(["DesiredCapacity",M.DesiredCapacity])}if(s(M.vpcs)&&M.vpcs.length>0){N.push(["VPCZoneIdentifier",M.vpcs.join(",")])}if(s(M.ldbs)){G=M.ldbs.length||0;for(P=0;0<=G?P<G:P>G;0<=G?P++:P--){N.push(["LoadBalancerNames.member."+(P+1),M.ldbs[P]])}}}U=this;S=function(Y){var Z;Z=T.getNode(Y,"/CreateAutoScalingGroupResponse");return U.aws.cb_boolean(s(Z),O)};return this.awscall("CreateAutoScalingGroup",N,S,O)};E.prototype.createLaunchConfiguration=function(X,V,G,J,H,O,Q){var L,U,S,N,T,R,M,W,P,I,K;P=[["LaunchConfigurationName",X],["ImageId",V],["InstanceType",G.getProductId()]];H=H===true?"true":"false";P.push(["InstanceMonitoring.Enabled",H]);M=(J!=null?J.length:void 0)||0;for(R=0;0<=M?R<M:R>M;0<=M?R++:R--){P.push(["SecurityGroups.member."+(R+1),J[R]])}K=this.aws.cfns(),I=K[0],S=K[1],N=K[2],U=K[3];L=I.b64();if(s(O)){if(I.vstr(O.KeyName)){P.push(["KeyName",O.KeyName])}if(I.vstr(O.UserData)){P.push(["UserData",L.encode(O.UserData)])}}W=this;T=function(Y){var Z;Z=U.getNode(Y,"/CreateLaunchConfigurationResponse");return W.aws.cb_boolean(s(Z),Q)};return this.awscall("CreateLaunchConfiguration",P,T,Q)};E.prototype.deleteAutoScalingGroup=function(G,K,N){var L,Q,I,O,P,H,J,M;H=[["AutoScalingGroupName",G]];if(K){H.push(["ForceDelete","true"])}M=this.aws.cfns(),J=M[0],Q=M[1],I=M[2],L=M[3];P=this;O=function(R){var S;S=L.getNode(R,"/DeleteAutoScalingGroupResponse");return P.aws.cb_boolean(s(S),N)};return this.awscall("DeleteAutoScalingGroup",H,O,N)};E.prototype.deleteLaunchConfiguration=function(G,M){var K,P,I,N,O,H,J,L;H=[["LaunchConfigurationName",G]];L=this.aws.cfns(),J=L[0],P=L[1],I=L[2],K=L[3];O=this;N=function(Q){var R;R=K.getNode(Q,"/DeleteLaunchConfigurationResponse");return O.aws.cb_boolean(s(R),M)};return this.awscall("DeleteLaunchConfiguration",H,N,M)};E.prototype.getLaunchConfiguration=function(H,G){var I,J,K;K=["LaunchConfigurationNames.member.1",H];J=this;I=function(O){var L,N,M;M=J.munch_cfgns(O),N=M[0],L=M[1];return G!=null?typeof G.success==="function"?G.success(J.aws.ute().getFirst(N)):void 0:void 0};return this.awscall("DescribeLaunchConfigurations",K,I,G)};E.prototype.getScalingGroup=function(H,G){var I,J,K;K=["AutoScalingGroupNames.member.1",H];J=this;I=function(O){var L,N,M;M=J.munch_grps(O),N=M[0],L=M[1];return G!=null?typeof G.success==="function"?G.success(J.aws.ute().getFirst(N)):void 0:void 0};return this.awscall("DescribeAutoScalingGroups",K,I,G)};E.prototype.listScalingGroups=function(O,L){var J,P,H,M,N,G,I,K;K=this.aws.cfns(),I=K[0],P=K[1],H=K[2],J=K[3];G=[];if(I.vstr(O)){G.push(["NextToken",O])}N=this;M=function(S){var Q,R,T;T=N.munch_grps(S),R=T[0],Q=T[1];return L!=null?typeof L.success==="function"?L.success(R,Q):void 0:void 0};return this.awscall("DescribeAutoScalingGroups",G,M,L)};E.prototype.listLaunchConfigurations=function(O,L){var J,P,H,M,N,G,I,K;K=this.aws.cfns(),I=K[0],P=K[1],H=K[2],J=K[3];G=[];if(I.vstr(O)){G.push(["NextToken",O])}N=this;M=function(S){var Q,R,T;T=N.munch_cfgns(S),R=T[0],Q=T[1];return L!=null?typeof L.success==="function"?L.success(R,Q):void 0:void 0};return this.awscall("DescribeLaunchConfigurations",G,M,L)};E.prototype.setDesiredCapacity=function(H,G,N){var L,Q,J,O,P,I,K,M;I=[["AutoScalingGroupName",H],["DesiredCapacity",G]];M=this.aws.cfns(),K=M[0],Q=M[1],J=M[2],L=M[3];P=this;O=function(R){var S;S=L.getNode(R,"/SetDesiredCapacityResponse");return P.aws.cb_boolean(s(S),N)};return this.awscall("SetDesiredCapacity",I,O,N)};E.prototype.updateAutoScalingGroup=function(G,P,N,S,V,L,Q){var M,W,I,R,U,H,J,T,K,O;H=[["AutoScalingGroupName",G]];O=this.aws.cfns(),J=O[0],W=O[1],I=O[2],M=O[3];if(P!=null){H.push(["LaunchConfigurationName",P])}if((N!=null)&&!isNaN(N)){H.push(["MinSize",N])}if((S!=null)&&!isNaN(S)){H.push(["MaxSize",S])}if((V!=null)&&!isNaN(V)){H.push(["DefaultCooldown",V])}K=(L!=null?L.length:void 0)||0;for(T=0;0<=K?T<K:T>K;0<=K?T++:T--){H.push(["AvailabilityZones.member."+(T+1),L[T]])}U=this;R=function(X){var Y;Y=M.getNode(X,"/UpdateAutoScalingGroupResponse");return U.aws.cb_boolean(s(Y),Q)};return this.awscall("UpdateAutoScalingGroup",H,R,Q)};E.prototype.munch_grps=function(X){var W,V,U,P,S,M,O,Q,Z,I,Y,G,R,T,J,L,N,H,K;K=this.aws.cfns(),J=K[0],U=K[1],P=K[2],V=K[3];O=P(X,"/DescribeAutoScalingGroupsResponse/DescribeAutoScalingGroupsResult/AutoScalingGroups/member");G=V.ffcn(X,"/DescribeAutoScalingGroupsResponse/DescribeAutoScalingGroupsResult/NextToken");if(J.vstr(G)){J.debug("DescribeAutoScalingGroupsResponse: more to come, cursor="+G)}M=O.length;R=[];for(S=0;0<=M?S<M:S>M;0<=M?S++:S--){Z=V.ffcn(O[S],"AutoScalingGroupName");W=new C.CloudAPI.Compute.ScalingGroup(Z);this.aws.cas(W);L=J.setISO8601(new Date(),V.ffcn(O[S],"CreatedTime"));W.setCreationTimestamp(L);W.setProviderLaunchConfigurationId(V.ffcn(O[S],"LaunchConfigurationName"));L=V.ffcn(O[S],"DesiredCapacity");W.setTargetCapacity(Number(L));W.setCurrentState(V.ffcn(O[S],"Status"));L=V.ffcn(O[S],"MinSize");W.setMinServers(Number(L));L=V.ffcn(O[S],"MaxSize");W.setMaxServers(Number(L));L=V.ffcn(O[S],"DefaultCooldown");W.setCooldown(Number(L));W.addTag("AutoScalingGroupARN",V.ffcn(O[S],"AutoScalingGroupARN"));H=P(O[S],"AvailabilityZones/member");I=(H!=null?H.length:void 0)||0;N=[];for(Q=0;0<=I?Q<I:Q>I;0<=I?Q++:Q--){N.push(U(H[Q]))}W.setProviderDataCenterIds(N);Y=P(O[S],"Instances/member");T=[];I=(Y!=null?Y.length:void 0)||0;for(Q=0;0<=I?Q<I:Q>I;0<=I?Q++:Q--){T.push(V.ffcn(Y[Q],"InstanceId"))}W.setProviderServerIds(T);R.push(W)}return[R,G]};E.prototype.munch_cfgns=function(W){var V,R,Q,S,T,N,U,M,P,K,L,X,G,O,H,J,I;I=this.aws.cfns(),H=I[0],Q=I[1],M=I[2],R=I[3];L=M(W,"/DescribeLaunchConfigurationsResponse/DescribeLaunchConfigurationsResult/LaunchConfigurations/member");G=R.ffcn(W,"/DescribeLaunchConfigurationsResponse/DescribeLaunchConfigurationsResult/NextToken");if(H.vstr(G)){H.debug("DescribeLaunchConfigurationsResponse: more to come, cursor="+G)}K=L.length;O=[];for(P=0;0<=K?P<K:P>K;0<=K?P++:P--){X=R.ffcn(L[P],"LaunchConfigurationName");V=new C.CloudAPI.Compute.LaunchConfiguration(X);this.aws.cas(V);V.setServerSizeId(R.ffcn(L[P],"InstanceType"));V.addTag("KeyName",R.ffcn(L[P],"KeyName"));V.addTag("InstanceMonitoring","false"===R.ffcn(M(L[P],"InstanceMonitoring"),"Enabled"));V.setProviderImageId(R.ffcn(L[P],"ImageId"));J=H.setISO8601(new Date(),R.ffcn(L[P],"CreatedTime"));V.setCreationTimestamp(J);V.addTag("LaunchConfigurationARN",R.ffcn(L[P],"LaunchConfigurationARN"));N=M(L[P],"SecurityGroups/member");U=[];T=(N!=null?N.length:void 0)||0;for(S=0;0<=T?S<T:S>T;0<=T?S++:S--){U.push(Q(N[S]))}V.setProviderFirewallIds(U);O.push(V)}return[O,G]};return E})(C.CloudAPI.AbstractSupport);x=(function(F){A(E,F);function E(G){this.vmId=G;E.__super__.constructor.call(this);this.pubIP=[];this.prvIP=[]}E.prototype.equals=function(G){return this.getProviderVirtualMachineId()===(G!=null?G.getProviderVirtualMachineId():void 0)};E.prototype.toString=function(){return this.vmId};E.prototype.getPlatform=function(){return this.platform};E.prototype.setPlatform=function(G){if(G!=null){return this.platform=G}};E.prototype.getProviderDataCenterId=function(){return this.dc};E.prototype.setProviderDataCenterId=function(G){return this.dc=G!=null?G:""};E.prototype.getProduct=function(){return this.product};E.prototype.getArchitecture=function(){return this.arch};E.prototype.setArchitecture=function(G){if(G!=null){return this.arch=G}};E.prototype.getProviderMachineImageId=function(){return this.imgId};E.prototype.setProviderMachineImageId=function(G){return this.imgId=G!=null?G:""};E.prototype.getProviderVirtualMachineId=function(){return this.vmId};E.prototype.setRootPassword=function(G){return this.rootPwd=G!=null?G:""};E.prototype.getRootPassword=function(){return this.rootPwd};E.prototype.isClonable=function(){return true};E.prototype.setClonable=function(G){};E.prototype.isImagable=function(){return true};E.prototype.setImagable=function(G){};E.prototype.getLastBootTimestamp=function(){return this.lastBootTS};E.prototype.setLastBootTimestamp=function(G){if(G!=null){return this.lastBootTS=G}};E.prototype.getLastPauseTimestamp=function(){return this.lastPauseTS};E.prototype.setLastPauseTimestamp=function(G){if(G!=null){return this.lastPauseTS=G}};E.prototype.isPausable=function(){return true};E.prototype.setPausable=function(G){};E.prototype.isPersistent=function(){return true};E.prototype.setPersistent=function(G){};E.prototype.getPrivateDnsAddress=function(){return this.prvDns};E.prototype.setPrivateDnsAddress=function(G){return this.prvDns=G!=null?G:""};E.prototype.getPrivateIpAddresses=function(){return this.prvIP};E.prototype.setPrivateIpAddresses=function(G){if(G!=null){return this.prvIP=G}};E.prototype.getProviderAssignedIpAddressId=function(){};E.prototype.setProviderAssignedIpAddressId=function(G){};E.prototype.setProviderVirtualMachineId=function(G){return this.vmId=G!=null?G:""};E.prototype.getPublicDnsAddress=function(){return this.pubDns};E.prototype.setPublicDnsAddress=function(G){return this.pubDns=G!=null?G:""};E.prototype.getPublicIpAddresses=function(){return this.pubIP};E.prototype.setPublicIpAddresses=function(G){if(G!=null){return this.pubIP=G}};E.prototype.isRebootable=function(){return true};E.prototype.setRebootable=function(G){};E.prototype.getRootUser=function(){return this.root};E.prototype.setRootUser=function(G){return this.root=G!=null?G:""};E.prototype.getTerminationTimestamp=function(){return this.termTS};E.prototype.setTerminationTimestamp=function(G){if(G!=null){return this.termTS=G}};E.prototype.setProduct=function(G){if(G!=null){return this.product=G}};E.prototype.setProviderSubnetId=function(G){return this.subnet=G!=null?G:""};E.prototype.getProviderSubnetId=function(){return this.subnet};E.prototype.setProviderVlanId=function(G){if(G!=null){return this.vlanId=G}};E.prototype.getProviderVlanId=function(){return this.vlanId};return E})(C.CloudAPI.CObject);h=(function(F){A(E,F);function E(G){this.snapId=G;E.__super__.constructor.call(this)}E.prototype.equals=function(G){return this.snapId===(G!=null?G.getProviderSnapshotId():void 0)};E.prototype.toString=function(){return this.getProviderSnapshotId()};E.prototype.getProviderSnapshotId=function(){return this.snapId};E.prototype.getSnapshotTimestamp=function(){return this.tstamp};E.prototype.getVolumeId=function(){return this.volId};E.prototype.setProviderSnapshotId=function(G){return this.snapId=G!=null?G:""};E.prototype.setSnapshotTimestamp=function(G){if(G!=null){return this.tstamp=G}};E.prototype.setVolumeId=function(G){return this.volId=G!=null?G:""};E.prototype.getProgress=function(){return this.progress};E.prototype.setProgress=function(G){return this.progress=G!=null?G:""};E.prototype.getSizeInGb=function(){return this.gbSize};E.prototype.setSizeInGb=function(G){if((G!=null)&&!isNaN(G)){return this.gbSize=G}};return E})(C.CloudAPI.CObject);b=(function(E){A(F,E);function F(K,G,H,I,J){this.prodId=K;this.cpus=G;this.ram=H;this.gbSize=I;F.__super__.constructor.call(this,this.prodId);this.setDescription(J)}F.prototype.equals=function(G){return this.getProductId()===(G!=null?G.getProductId():void 0)};F.prototype.toString=function(){return this.getProductId()};F.prototype.getProductId=function(){return this.prodId};F.prototype.getCpuCount=function(){return this.cpus};F.prototype.setCpuCount=function(G){if((G!=null)&&!isNaN(G)){return this.cpus=G}};F.prototype.getDiskSizeInGb=function(){return this.gbSize};F.prototype.setDiskSizeInGb=function(G){if((G!=null)&&!isNaN(G)){return this.gbSize=G}};F.prototype.setProductId=function(G){return this.prodId=G!=null?G:""};F.prototype.getRamInMb=function(){return this.ram};F.prototype.setRamInMb=function(G){if((G!=null)&&!isNaN(G)){return this.ram=G}};return F})(C.CloudAPI.CObject);a=(function(){function E(F){this.idstr=F}E.prototype.toString=function(){return this.idstr};return E})();a.CPU=new a("cpu-utilization");a.NETIO_OUT=new a("netio-bytes-out");a.NETIO_IN=new a("netio-bytes-in");a.DISK_WRITE_BYTES=new a("disk-write-bytes");a.DISK_WRITE_OPS=new a("disk-write-ops");a.DISK_READ_BYTES=new a("disk-read-bytes");a.DISK_READ_OPS=new a("disk-read-ops");q=(function(){function E(F){this.name=F;this.members=[]}E.prototype.getProviderGroupId=function(){return this.group};E.prototype.setProviderGroupId=function(F){return this.group=F!=null?F:""};E.prototype.addMember=function(F){if(F!=null){return this.members.push(F)}};E.prototype.getMembers=function(){return this.members};E.prototype.getName=function(){return this.name};E.prototype.setName=function(F){return this.name=F!=null?F:""};return E})();m=(function(F){A(E,F);function E(G){E.__super__.constructor.call(this,G)}E.prototype.listMetrics=function(K,G){var H,I,J;I=this;J=[];if(this.aws.ute().vstr(K)){J.push(["NextToken",K])}H=function(O){var L,N,M;M=I.munch_xml(O),N=M[0],L=M[1];return G!=null?typeof G.success==="function"?G.success(N,L):void 0:void 0};return this.awscall("ListMetrics",J,H,G)};E.prototype.getVMStatistics=function(I,K,Q,O,M){var R,L,N,J,P,H,G,S;H=[["Dimensions.member.1.Name","InstanceId"],["Dimensions.member.1.Value",I]];R=C.CloudAPI.Compute;H.push(["Namespace","AWS/EC2"]);G=this.aws.ute().toISO8601String(Q,5);L=this.aws.ute().toISO8601String(O,5);H.push(["StartTime",G],["EndTime",L]);H.push(["Period",60]);H.push(["Statistics.member.1","Average"]);H.push(["Statistics.member.2","Sum"]);H.push(["Statistics.member.3","SampleCount"]);H.push(["Statistics.member.4","Maximum"]);H.push(["Statistics.member.5","Minimum"]);S="";J="";switch(K){case R.MetricType.DISK_WRITE_BYTES:J="DiskWriteBytes";S="Bytes";break;case R.MetricType.DISK_WRITE_OPS:J="DiskWriteOps";S="Count";break;case R.MetricType.DISK_READ_BYTES:J="DiskReadBytes";S="Bytes";break;case R.MetricType.DISK_READ_OPS:J="DiskReadOps";S="Count";break;case R.MetricType.NETIO_OUT:J="NetworkOut";S="Bytes";break;case R.MetricType.NETIO_IN:J="NetworkIn";S="Bytes";break;case R.MetricType.CPU:J="CPUUtilization";S="Percent"}H.push(["MetricName",J]);H.push(["Unit",S]);P=this;N=function(T){return M!=null?typeof M.success==="function"?M.success(P.munch_stats(T,K)):void 0:void 0};return this.awscall("GetMetricStatistics",H,N,M)};E.prototype.munch_stats=function(L,O){var Q,J,S,H,M,R,N,G,I,P,K;K=this.aws.cfns(),I=K[0],S=K[1],H=K[2],J=K[3];N=H(L,"/GetMetricStatisticsResponse/GetMetricStatisticsResult/Datapoints/member");R=N.length;G=[];for(M=0;0<=R?M<R:M>R;0<=R?M++:M--){Q=new C.CloudAPI.Compute.MetricStats(O);P=J.ffcn(N[M],"Timestamp");Q.setTimestamp(I.setISO8601(new Date(),P));Q.setUnit(J.ffcn(N[M],"Unit"));Q.setSampleCount(J.ffcn(N[M],"SampleCount"));Q.setMin(J.ffcn(N[M],"Minimum"));Q.setMax(J.ffcn(N[M],"Maximum"));Q.setTotalSum(J.ffcn(N[M],"Sum"));Q.setAverage(J.ffcn(N[M],"Average"));G.push(Q)}return G};E.prototype.munch_xml=function(O){var R,M,V,J,P,T,Q,I,L,H,U,S,G,K,N;N=this.aws.cfns(),K=N[0],V=N[1],J=N[2],M=N[3];Q=J(O,"/ListMetricsResponse/ListMetricsResult/Metrics/member");S=M.ffcn(O,"/ListMetricsResponse/ListMetricsResult/NextToken");T=Q.length;G=[];for(P=0;0<=T?P<T:P>T;0<=T?P++:P--){H=M.ffcn(Q[P],"MetricName");R=new C.CloudAPI.Compute.Metric(H);R.setProviderGroupId(M.ffcn(Q[P],"Namespace"));I=J(Q[P],"Dimensions/member");U=(I!=null?I.length:void 0)||0;for(L=0;0<=U?L<U:L>U;0<=U?L++:L--){R.addMember({name:M.ffcn(I[L],"Name"),value:M.ffcn(I[L],"Value")})}G.push(R)}return[G,S]};return E})(C.CloudAPI.AbstractSupport);g=(function(){function E(G,H,F){this.ec2=G;this.scaler=H;this.cwm=F;this.autos=new C.CloudAPI.Compute.AutoScalingSupport(this.scaler);this.vms=new C.CloudAPI.Compute.VirtualMachineSupport(this.ec2);this.ss=new C.CloudAPI.Compute.SnapshotSupport(this.ec2);this.vs=new C.CloudAPI.Compute.VolumeSupport(this.ec2);this.mis=new C.CloudAPI.Compute.MachineImageSupport(this.ec2);this.sts=new C.CloudAPI.Compute.MetricsSupport(this.cwm)}E.prototype.getMetricsSupport=function(){return this.sts};E.prototype.getAutoScalingSupport=function(){return this.autos};E.prototype.getImageSupport=function(){return this.mis};E.prototype.getSnapshotSupport=function(){return this.ss};E.prototype.getVirtualMachineSupport=function(){return this.vms};E.prototype.getVolumeSupport=function(){return this.vs};E.prototype.hasAutoScalingSupport=function(){return s(this.autos)};E.prototype.hasImageSupport=function(){return s(this.mis)};E.prototype.hasSnapshotSupport=function(){return s(this.ss)};E.prototype.hasVirtualMachineSupport=function(){return s(this.vms)};E.prototype.hasVolumeSupport=function(){return s(this.vs)};E.prototype.hasMetricsSupport=function(){return s(this.sts)};return E})();d=(function(){function E(F){this.metric=F}E.prototype.setAverage=function(F){if(l(F)){return this.average=F}};E.prototype.getAverage=function(){return this.average};E.prototype.setMax=function(F){if(l(F)){return this.max_val=F}};E.prototype.getMax=function(){return this.max_val};E.prototype.setMin=function(F){if(l(F)){return this.min_val=F}};E.prototype.getMin=function(){return this.min_val};E.prototype.setSampleCount=function(F){if(l(F)){return this.samples=F}};E.prototype.getSampleCount=function(){return this.samples};E.prototype.setTotalSum=function(F){if(l(F)){return this.total=F}};E.prototype.getTotalSum=function(){return this.total};E.prototype.setUnit=function(F){return this.unit=F!=null?F:""};E.prototype.getUnit=function(){return this.unit};E.prototype.setTimestamp=function(F){if(F!=null){return this.tstamp=F}};E.prototype.getTimestamp=function(){return this.tstamp};E.prototype.setMetricType=function(F){if(F!=null){return this.metric=F}};E.prototype.getMetricType=function(){return this.metric};return E})();D=(function(){function E(G,F){this.idstr=G;this.linux=F}E.prototype.toString=function(){return this.idstr};E.prototype.isLinux=function(){return this.linux};E.prototype.isWindows=function(){return !this.linux};return E})();D.WINDOWS=new D("windows",false);D.LINUX=new D("linux",true);D.values=function(){return[D.WINDOWS,D.LINUX]};D.valueOf=function(E){E=E!=null?E.toLowerCase():"";switch(E){case"windows":return D.WINDOWS;case"linux":case"":return D.LINUX;default:return null}};y=(function(){function E(F){this.idstr=F}E.prototype.toString=function(){return this.idstr};return E})();y.STORAGE=new y("storage");y.VOLUME=new y("volume");y.values=function(){return[y.STORAGE,y.VOLUME]};y.valueOf=function(E){E=E!=null?E.toLowerCase():"";switch(E){case"storage":return y.STORAGE;case"volume":return y.VOLUME;default:return null}};function v(){var F=C.CloudAPI.Compute.VirtualMachineProduct;var E=[new F("m1.small",1,1.7,160,"Small/32bit/1 virtual core"),new F("m1.large",4,7.5,850,"Large/64bit/2 virtual cores"),new F("m1.xlarge",8,15,1690,"Extra Large/64bit/4 virtual cores"),new F("t1.micro",2,0.613,0,"Micro/32bit & 64bit"),new F("c1.medium",5,1.7,350,"High-CPU Medium/32bit/2 virtual cores"),new F("c1.xlarge",20,7,1690,"High-CPU Extra Large/64bit/8 virtual cores"),new F("m2.xlarge",6.5,17.1,420,"High-Memory Extra Large/64bit/2 virtual cores"),new F("m2.2xlarge",13,34.2,850,"High-Memory Double Extra Large/64bit/4 virtual cores"),new F("m2.4xlarge",26,68.4,1690,"High-Memory Quadruple Extra Large/64bit/8 virtual cores"),new F("cc1.4xlarge",33.5,23,1690,'Cluster Compute Quadruple Extra Large/64bit/2 x Intel Xeon X5570, quad-core "Nehalem" architecture'),new F("cc2.8xlarge",88,60.5,3370,"Cluster Compute Eight Extra Large/64bit/2 x Intel Xeon CPU with 8 cores"),new F("cg1.4xlarge",33.5,22,1690,'Cluster GPU Quadruple Extra Large/64bit/2 x Intel Xeon X5570, quad-core "Nehalem" architecture, plus 2 NVIDIA Tesla M2050 "Fermi" GPUs')];C.CloudAPI.Compute.VirtualMachineProduct.entrySet=function(){var G={};for(var H=0;H<E.length;++H){G[E[H].getProductId()]=E[H]}return G};C.CloudAPI.Compute.VirtualMachineProduct.values=function(){var G=[];for(var H=0;H<E.length;++H){G[H]=E[H]}return G}}if(!s(C.CloudAPI)){C.CloudAPI={}}if(!s(C.CloudAPI.Compute)){C.CloudAPI.Compute={}}C.CloudAPI.Compute.Volume=u;C.CloudAPI.Compute.MachineImage=e;C.CloudAPI.Compute.ScalingGroup=t;C.CloudAPI.Compute.VirtualMachineSupport=B;C.CloudAPI.Compute.Architecture=j;C.CloudAPI.Compute.VolumeSupport=z;C.CloudAPI.Compute.SnapshotSupport=n;C.CloudAPI.Compute.MachineImageSupport=p;C.CloudAPI.Compute.LaunchConfiguration=w;C.CloudAPI.Compute.AutoScalingSupport=k;C.CloudAPI.Compute.VirtualMachine=x;C.CloudAPI.Compute.Snapshot=h;C.CloudAPI.Compute.VirtualMachineProduct=b;C.CloudAPI.Compute.ComputeServices=g;C.CloudAPI.Compute.MetricStats=d;C.CloudAPI.Compute.MetricsSupport=m;C.CloudAPI.Compute.MetricType=a;C.CloudAPI.Compute.Metric=q;C.CloudAPI.Compute.Platform=D;C.CloudAPI.Compute.MachineImageType=y;v()})(window);(function(e){function b(l){return typeof l!=="undefined"&&l!==null}function h(l){return typeof l==="object"}if(!b(e.ComZotoh)){e.ComZotoh={}}var g=e.ComZotoh;var j,d,k,c=Object.prototype.hasOwnProperty,a=function(o,m){for(var l in m){if(c.call(m,l)){o[l]=m[l]}}function n(){this.constructor=o}n.prototype=m.prototype;o.prototype=new n;o.__super__=m.prototype;return o};k=(function(l){a(m,l);function m(n,o){this.jurDic=o;m.__super__.constructor.call(this);this.available=true;this.active=true;this.setProviderRegionId(n)}m.prototype.equals=function(n){return this.getProviderRegionId()===(n!=null?n.getProviderRegionId():void 0)&&(n!=null?n.getJurisdiction():void 0)===this.getJurisdiction()};m.prototype.toString=function(){return this.getProviderRegionId()};m.prototype.isActive=function(){return this.active};m.prototype.isAvailable=function(){return this.available};m.prototype.setActive=function(n){if(n!=null){return this.active=n}};m.prototype.setAvailable=function(n){if(n!=null){return this.available=n}};m.prototype.setJurisdiction=function(o){return this.jurDic=o!=null?o:""};m.prototype.getJurisdiction=function(){return this.jurDic};return m})(g.CloudAPI.CObject);j=(function(l){a(m,l);function m(o,n){this.dcid=o;m.__super__.constructor.call(this);this.available=true;this.active=true;this.setProviderRegionId(n)}m.prototype.equals=function(n){return(n!=null?n.getProviderDataCenterId():void 0)===this.getProviderDataCenterId()&&(n!=null?n.getProviderRegionId():void 0)===this.getProviderRegionId()};m.prototype.toString=function(){return this.getProviderDataCenterId()};m.prototype.getProviderDataCenterId=function(){return this.dcid};m.prototype.isActive=function(){return this.active};m.prototype.isAvailable=function(){return this.available};m.prototype.setActive=function(n){if(n!=null){return this.active=n}};m.prototype.setAvailable=function(n){if(n!=null){return this.available=n}};m.prototype.setProviderDataCenterId=function(n){return this.dcid=n!=null?n:""};return m})(g.CloudAPI.CObject);d=(function(m){a(l,m);function l(n){l.__super__.constructor.call(this,n)}l.prototype.getDataCenter=function(o,n){var q,r,s;s=[["ZoneName.1",o]];r=this;q=function(p){return n!=null?typeof n.success==="function"?n.success(r.aws.ute().getFirst(r.munch_dcs(p))):void 0:void 0};return this.awscall("DescribeAvailabilityZones",s,q,n)};l.prototype.getProviderTermForDataCenter=function(n){return"Availability Zone"};l.prototype.getProviderTermForRegion=function(n){return"Region"};l.prototype.getRegion=function(s,n){var o,q,t;t=[["RegionName.1",s]];q=this;o=function(p){return n!=null?typeof n.success==="function"?n.success(q.aws.ute().getFirst(q.munch_xml(p))):void 0:void 0};return this.awscall("DescribeRegions",t,o,n)};l.prototype.listDataCenters=function(s,n){var o,q,t;t=[["Filter.1.Name","region-name"],["Filter.1.Value.1",s]];q=this;o=function(p){return n!=null?typeof n.success==="function"?n.success(q.munch_dcs(p)):void 0:void 0};return this.awscall("DescribeAvailabilityZones",t,o,n)};l.prototype.listRegions=function(n){var o,p;p=this;o=function(q){return n!=null?typeof n.success==="function"?n.success(p.munch_xml(q)):void 0:void 0};return this.awscall("DescribeRegions",[],o,n)};l.prototype.munch_xml=function(u){var s,z,p,v,y,x,w,o,n,q,t;t=this.aws.cfns(),q=t[0],z=t[1],p=t[2],s=t[3];x=p(u,"/DescribeRegionsResponse/regionInfo/item");y=x.length;w=[];for(v=0;0<=y?v<y:v>y;0<=y?v++:v--){o=s.ffcn(x[v],"regionName");n=new g.CloudAPI.Dc.Region();this.aws.cas(n);n.setProviderRegionId(o);n.addTag("regionEndpoint",s.ffcn(x[v],"regionEndpoint"));w.push(n)}return w};l.prototype.munch_dcs=function(v){var y,s,A,p,w,z,x,u,o,n,q,t;t=this.aws.cfns(),q=t[0],A=t[1],p=t[2],s=t[3];x=p(v,"/DescribeAvailabilityZonesResponse/availabilityZoneInfo/item");z=x.length;u=[];for(w=0;0<=z?w<z:w>z;0<=z?w++:w--){o=s.ffcn(x[w],"zoneName");n=s.ffcn(x[w],"regionName");y=new g.CloudAPI.Dc.DataCenter(o);this.aws.cas(y);y.setProviderRegionId(n);y.setAvailable("available"===s.ffcn(x[w],"zoneState"));u.push(y)}return u};return l})(g.CloudAPI.AbstractSupport);if(!b(g.CloudAPI)){g.CloudAPI={}}if(!b(g.CloudAPI.Dc)){g.CloudAPI.Dc={}}g.CloudAPI.Dc.Region=k;g.CloudAPI.Dc.DataCenterServices=d;g.CloudAPI.Dc.DataCenter=j})(window);(function(e){function a(k){return typeof k!=="undefined"&&k!==null}function b(k){return typeof k==="object"}if(!a(e.ComZotoh)){e.ComZotoh={}}var j=e.ComZotoh;var d,h,c=Object.prototype.hasOwnProperty,g=function(n,l){for(var k in l){if(c.call(l,k)){n[k]=l[k]}}function m(){this.constructor=n}m.prototype=l.prototype;n.prototype=new m;n.__super__=l.prototype;return n};h=(function(k){g(l,k);function l(m){l.__super__.constructor.call(this,m)}l.prototype.list=function(m){var n,o;o=this;n=function(p){return m!=null?typeof m.success==="function"?m.success(o.munch_xml(p)):void 0:void 0};return this.awscall("DescribeKeyPairs",[],n,m)};l.prototype.createKeypair=function(n,m){var o,q,r;r=[["KeyName",n]];q=this;o=function(p){return q.on_create(p,m)};return this.awscall("CreateKeyPair",r,o,m)};l.prototype.deleteKeypair=function(n,m){var o,q,r;r=[["KeyName",n]];q=this;o=function(p){return q.aws.on_boolean_reply(p,"/DeleteKeyPairResponse",m)};return this.awscall("DeleteKeyPair",r,o,m)};l.prototype.getFingerprint=function(n,m){var o,q,r;r=[["KeyName",n]];q=this;o=function(s){var p;p=q.aws.ute().getFirst(q.munch_xml(s));p=p!=null?p.keyFingerprint:"";return q.aws.cb_string(p,m)};return this.awscall("DescribeKeyPairs",r,o,m)};l.prototype.getProviderTermForKeypair=function(m){return"Keypair"};l.prototype.on_create=function(r,s){var p,v,t,n,m,w,u,o,q;q=this.aws.cfns(),o=q[0],v=q[1],n=q[2],p=q[3];u=o.getNode(r,"/CreateKeyPairResponse");m=p.ffcn(u,"keyMaterial");t=p.ffcn(u,"keyFingerprint");w=p.ffcn(u,"keyName");return s!=null?typeof s.success==="function"?s.success({keyName:w,keyFingerprint:t,keyMaterial:m}):void 0:void 0};l.prototype.munch_xml=function(s){var p,x,v,n,t,w,u,r,m,o,q;q=this.aws.cfns(),o=q[0],x=q[1],n=q[2],p=q[3];w=n(s,"/DescribeKeyPairsResponse/keySet/item");u=w.length;r=[];for(t=0;0<=u?t<u:t>u;0<=u?t++:t--){v=p.ffcn(w[t],"keyFingerprint");m=p.ffcn(w[t],"keyName");r.push({keyName:m,keyFingerprint:v})}return r};return l})(j.CloudAPI.AbstractSupport);d=(function(){function k(l){this.ec2=l;this.key=new j.CloudAPI.Identity.ShellKeySupport(this.ec2)}k.prototype.getShellKeySupport=function(){return this.key};k.prototype.hasShellKeySupport=function(){return a(this.key)};return k})();if(!a(j.CloudAPI)){j.CloudAPI={}}if(!a(j.CloudAPI.Identity)){j.CloudAPI.Identity={}}j.CloudAPI.Identity.ShellKeySupport=h;j.CloudAPI.Identity.IdentityServices=d})(window);(function(g){function z(K){return typeof K!=="undefined"&&K!==null}function v(K){return typeof K==="object"}if(!z(g.ComZotoh)){g.ComZotoh={}}var J=g.ComZotoh;var E,r,t,G,q,a,s,j,l,F,k,c,u,I,o,h,D,d,m,C,B,w,y,p,b,e,n,A,x=Object.prototype.hasOwnProperty,H=function(N,L){for(var K in L){if(x.call(L,K)){N[K]=L[K]}}function M(){this.constructor=N}M.prototype=L.prototype;N.prototype=new M;N.__super__=L.prototype;return N};m=(function(K){H(L,K);function L(M){this.netId=M;L.__super__.constructor.call(this)}L.prototype.equals=function(M){return this.getProviderNetworkInterfaceId()===(M!=null?M.getProviderNetworkInterfaceId():void 0)};L.prototype.getProviderNetworkInterfaceId=function(){return this.netId};L.prototype.setProviderNetworkInterfaceId=function(M){return this.netId=M!=null?M:""};L.prototype.setIpAddress=function(M){return this.addr=M!=null?M:""};L.prototype.getIpAddress=function(){return this.addr};L.prototype.setNetmask=function(M){return this.netmask=M!=null?M:""};L.prototype.getNetmask=function(){return this.netmask};L.prototype.setProviderVirtualMachineId=function(M){return this.vmId=M!=null?M:""};L.prototype.getProviderVirtualMachineId=function(){return this.vmId};L.prototype.setProviderVlanId=function(M){return this.vlanId=M!=null?M:""};L.prototype.getProviderVlanId=function(){return this.vlanId};return L})(J.CloudAPI.CObject);b=(function(L){H(K,L);function K(M){K.__super__.constructor.call(this,M)}K.prototype.hasSupport=function(){return true};K.prototype.allowsNewVlanCreation=function(){return true};K.prototype.allowsNewSubnetCreation=function(){return true};K.prototype.createDHCPSet=function(Q,U,V,N,S){var Y,P,T,W,O,Z,M,X,R;X=1;M=[];P=function(ab,aa){return"DhcpConfiguration."+ab+".Value."+aa};Y=function(aa){return"DhcpConfiguration."+aa+".Key"};if(this.aws.ute().vstr(Q)){M.push([Y(X),"domain-name"],[P(X,1),Q]);++X}Z=(U!=null?U.length:void 0)||0;for(O=0;0<=Z?O<Z:O>Z;0<=Z?O++:O--){M.push([Y(X),"domain-name-servers"],[P(X,O+1),U[O]])}++X;Z=(V!=null?V.length:void 0)||0;for(O=0;0<=Z?O<Z:O>Z;0<=Z?O++:O--){M.push([Y(X),"ntp-servers"],[P(X,O+1),V[O]])}++X;if(z(N)){Z=((R=N.addrs)!=null?R.length:void 0)||0;for(O=0;0<=Z?O<Z:O>Z;0<=Z?O++:O--){M.push([Y(X),"netbios-name-servers"]);M.push([P(X,O+1),N.addrs[O]])}++X;M.push([Y(X),"netbios-node-type"]);M.push([P(X,1),N.type||2]);++X}W=this;T=function(aa){return W.on_new_dhcp(aa,S)};return this.awscall("CreateDhcpOptions",M,T,S)};K.prototype.createSubnet=function(M,R,O,T,N){var P,Q,S;S=[["CidrBlock",R],["VpcId",M]];if(this.aws.ute().vstr(O)){S.push(["AvailabilityZone",O])}Q=this;P=function(U){return Q.on_new_snet(U,N)};return this.awscall("CreateSubnet",S,P,N)};K.prototype.createVlan=function(P,R,M){var N,O,Q;Q=[["CidrBlock",P]];if(this.aws.ute().vstr(R!=null?R.type:void 0)){Q.push(["instanceTenancy",R.type])}O=this;N=function(S){return O.on_new_vlan(S,M)};return this.awscall("CreateVpc",Q,N,M)};K.prototype.getMaxVlanCount=function(){return 1};K.prototype.getProviderTermForNetworkInterface=function(M){return"NetworkInterface"};K.prototype.getProviderTermForSubnet=function(M){return"Subnet"};K.prototype.getProviderTermForVlan=function(M){return"VPC"};K.prototype.getDHCPSet=function(M,N){var O,P,Q;Q=[["DhcpOptionsId.1",M]];P=this;O=function(R){return N!=null?typeof N.success==="function"?N.success(P.aws.ute().getFirst(P.munch_dhcps(R))):void 0:void 0};return this.awscall("DescribeDhcpOptions",Q,O,N)};K.prototype.getSubnet=function(Q,M){var N,O,P;P=[["SubnetId.1",Q]];O=this;N=function(R){return M!=null?typeof M.success==="function"?M.success(O.aws.ute().getFirst(O.munch_subnets(R))):void 0:void 0};return this.awscall("DescribeSubnets",P,N,M)};K.prototype.getVlan=function(M,N){var O,P,Q;Q=[["VpcId.1",M]];P=this;O=function(R){return N!=null?typeof N.success==="function"?N.success(P.aws.ute().getFirst(P.munch_vpcs(R))):void 0:void 0};return this.awscall("DescribeVpcs",Q,O,N)};K.prototype.bindDHCPSet=function(N,M,O){var P,Q,R;if(!this.aws.ute().vstr(N)){N="default"}R=[["VpcId",M],["DhcpOptionsId",N]];Q=this;P=function(S){return Q.aws.on_boolean_reply(S,"/AssociateDhcpOptionsResponse",O)};return this.awscall("AssociateDhcpOptions",R,P,O)};K.prototype.isSubnetDataCenterConstrained=function(){return false};K.prototype.isVlanDataCenterConstrained=function(){return false};K.prototype.listNetworkInterfaces=function(M){var N,O,P;P=[];O=this;N=function(Q){return M!=null?typeof M.success==="function"?M.success(O.munch_netwifs(Q)):void 0:void 0};return this.awscall("DescribeNetworkInterfaces",P,N,M)};K.prototype.listDHCPSets=function(M){var N,O,P;P=[];O=this;N=function(Q){return M!=null?typeof M.success==="function"?M.success(O.munch_dhcps(Q)):void 0:void 0};return this.awscall("DescribeDhcpOptions",P,N,M)};K.prototype.listSubnets=function(M,N){var O,P,Q;Q=[];if(this.aws.ute().vstr(M)){Q.push(["Filter.1.Name","vpc-id"],["Filter.1.Value.1",M])}P=this;O=function(R){return N!=null?typeof N.success==="function"?N.success(P.munch_subnets(R)):void 0:void 0};return this.awscall("DescribeSubnets",Q,O,N)};K.prototype.listVlans=function(M){var N,O;O=this;N=function(P){return M!=null?typeof M.success==="function"?M.success(O.munch_vpcs(P)):void 0:void 0};return this.awscall("DescribeVpcs",[],N,M)};K.prototype.removeDHCPSet=function(M,N){var O,P,Q;Q=[["DhcpOptionsId",M]];P=this;O=function(R){return P.aws.on_boolean_reply(R,"/DeleteDhcpOptionsResponse",N)};return this.awscall("DeleteDhcpOptions",Q,O,N)};K.prototype.removeSubnet=function(Q,M){var N,O,P;P=[["SubnetId",Q]];O=this;N=function(R){return O.aws.on_boolean_reply(R,"/DeleteSubnetResponse",M)};return this.awscall("DeleteSubnet",P,N,M)};K.prototype.removeVlan=function(M,N){var O,P,Q;Q=[["VpcId",M]];P=this;O=function(R){return P.aws.on_boolean_reply(R,"/DeleteVpcResponse",N)};return this.awscall("DeleteVpc",Q,O,N)};K.prototype.munch_dhcps=function(S,T){var Q,W,N,U,P,V,M,O,R;R=this.aws.cfns(),O=R[0],W=R[1],N=R[2],Q=R[3];U=N(S,"/DescribeDhcpOptionsResponse/dhcpOptionsSet/item");V=U.length;M=[];for(P=0;0<=V?P<V:P>V;0<=V?P++:P--){M.push(this.on_one_dhcp(U[P]))}return M};K.prototype.on_new_dhcp=function(Q,R){var T,O,U,M,S,N,P;P=this.aws.cfns(),N=P[0],U=P[1],M=P[2],O=P[3];S=M(Q,"/CreateDhcpOptionsResponse/dhcpOptions");T=this.on_one_dhcp(S[0]);return R!=null?typeof R.success==="function"?R.success(T):void 0:void 0};K.prototype.on_one_dhcp=function(aa){var V,Q,Z,M,S,W,T,P,O,Y,N,X,U,R;R=this.aws.cfns(),N=R[0],Z=R[1],M=R[2],Q=R[3];U=Q.ffcn(aa,"dhcpOptionsId");V=new J.CloudAPI.Network.DHCPSet(U);this.aws.cas(V);T=M(aa,"dhcpConfigurationSet/item");W=T.length;for(S=0;0<=W?S<W:S>W;0<=W?S++:S--){P=Q.ffcn(T[S],"key");X=M(T[S],"valueSet/item");Y=X.length;U=[];for(O=0;0<=Y?O<Y:O>Y;0<=Y?O++:O--){U=Q.ffcn(X[O],"value")}V.addKeyValue(P,U)}return V};K.prototype.munch_netwifs=function(S){var X,V,Q,aa,ab,N,T,Y,U,P,Z,M,O,W,R;R=this.aws.cfns(),O=R[0],aa=R[1],N=R[2],Q=R[3];U=N(S,"/DescribeNetworkInterfacesResponse/networkInterfaceSet/item");Y=U.length;M=[];for(T=0;0<=Y?T<Y:T>Y;0<=Y?T++:T--){X=new J.CloudAPI.Network.NetworkInterface();this.aws.cas(X);X.setProviderNetworkInterfaceId(Q.ffcn(U[T],"networkInterfaceId"));X.addTag("subnetId",Q.ffcn(U[T],"subnetId"));X.setProviderVlanId(Q.ffcn(U[T],"vpcId"));X.addTag("availabilityZone",Q.ffcn(U[T],"availabilityZone"));X.setDescription(Q.ffcn(U[T],"description"));X.setProviderOwnerId(Q.ffcn(U[T],"ownerId"));X.addTag("requesterManaged",Q.ffcn(U[T],"requesterManaged"));X.setCurrentState(Q.ffcn(U[T],"status"));X.addTag("macAddress",Q.ffcn(U[T],"macAddress"));X.setIpAddress(Q.ffcn(U[T],"privateIpAddress"));X.addTag("privateDnsName",Q.ffcn(U[T],"privateDnsName"));X.addTag("sourceDestCheck",Q.ffcn(U[T],"sourceDestCheck"));ab=N(U[T],"groupSet/item");Z=(ab!=null?ab.length:void 0)||0;W=[];for(P=0;0<=Z?P<Z:P>Z;0<=Z?P++:P--){W.push({groupName:Q.ffcn(ab[P],"groupName"),groupId:Q.ffcn(ab[P],"groupId")})}X.addTag("groupSet",W);V=N(U[T],"attachment")[0];if(V!=null){Q.ffcn(V,"attachmentId");X.setProviderVirtualMachineId(Q.ffcn(V,"instanceId"));X.addTag("instanceOwnerId",Q.ffcn(V,"instanceOwnerId"));Q.ffcn(V,"deviceIndex");Q.ffcn(V,"status");Q.ffcn(V,"attachTime");Q.ffcn(V,"deleteOnTermination")}M.push(X)}return M};K.prototype.on_new_snet=function(R,S){var U,P,V,N,M,W,O,T,Q;Q=this.aws.cfns(),O=Q[0],V=Q[1],N=Q[2],P=Q[3];W=N(R,"/CreateSubnetResponse/subnet")[0];M=P.ffcn(W,"subnetId");U=new J.CloudAPI.Network.Subnet(M);this.aws.cas(U);U.setCurrentState(P.ffcn(W,"state"));U.setProviderVlanId(P.ffcn(W,"vpcId"));U.setCidr(P.ffcn(W,"cidrBlock"));U.setProviderDataCenterId(P.ffcn(W,"availabilityZone"));T=P.ffcn(W,"availableIpAddressCount");U.setAvailableIpAddresses(Number(T));return S!=null?typeof S.success==="function"?S.success(U):void 0:void 0};K.prototype.on_new_vlan=function(R,S){var T,P,U,N,M,V,O,Q;Q=this.aws.cfns(),O=Q[0],U=Q[1],N=Q[2],P=Q[3];V=N(R,"/CreateVpcResponse/vpc")[0];M=P.ffcn(V,"vpcId");T=new J.CloudAPI.Network.VLAN(M);this.aws.cas(T);T.addTag("dhcpOptionsId",P.ffcn(V,"dhcpOptionsId"));T.setCurrentState(P.ffcn(V,"state"));T.setCidr(P.ffcn(V,"cidrBlock"));return S!=null?typeof S.success==="function"?S.success(T):void 0:void 0};K.prototype.munch_subnets=function(S){var W,Q,Y,O,T,X,U,N,M,P,V,R;R=this.aws.cfns(),P=R[0],Y=R[1],O=R[2],Q=R[3];U=O(S,"/DescribeSubnetsResponse/subnetSet/item");X=U.length;N=[];for(T=0;0<=X?T<X:T>X;0<=X?T++:T--){M=Q.ffcn(U[T],"subnetId");W=new J.CloudAPI.Network.Subnet(M);this.aws.cas(W);W.setCidr(Q.ffcn(U[T],"cidrBlock"));W.setProviderVlanId(Q.ffcn(U[T],"vpcId"));W.setCurrentState(Q.ffcn(U[T],"state"));V=Q.ffcn(U[T],"availableIpAddressCount");W.setAvailableIpAddresses(Number(V));W.setProviderDataCenterId(Q.ffcn(U[T],"availabilityZone"));N.push(W)}return N};K.prototype.munch_vpcs=function(S){var V,Q,X,O,T,N,W,U,M,P,R;R=this.aws.cfns(),P=R[0],X=R[1],O=R[2],Q=R[3];U=O(S,"/DescribeVpcsResponse/vpcSet/item");W=U.length;M=[];for(T=0;0<=W?T<W:T>W;0<=W?T++:T--){N=Q.ffcn(U[T],"vpcId");V=new J.CloudAPI.Network.VLAN(N);this.aws.cas(V);V.setCurrentState(Q.ffcn(U[T],"state"));V.setCidr(Q.ffcn(U[T],"cidrBlock"));V.addTag("dhcpOptionsId",Q.ffcn(U[T],"dhcpOptionsId"));V.addTag("instanceTenancy",Q.ffcn(U[T],"instanceTenancy"));M.push(V)}return M};return K})(J.CloudAPI.AbstractSupport);l=(function(L){H(K,L);function K(M){K.__super__.constructor.call(this,M)}K.prototype.list=function(M){var N,O;O=this;N=function(P){return M!=null?typeof M.success==="function"?M.success(O.munch_xml(P)):void 0:void 0};return this.awscall("DescribeSecurityGroups",[],N,M)};K.prototype["delete"]=function(N,M){var O,P,Q;Q=[["GroupName",N]];P=this;O=function(R){return P.aws.on_boolean_reply(R,"/DeleteSecurityGroupResponse",M)};return this.awscall("DeleteSecurityGroup",Q,O,M)};K.prototype.create=function(N,O,M){return this.createInVLAN(N,O,"",M)};K.prototype.authorize=function(M,N,P,U,S,R,Q){var O,T;T=new g.ComZotoh.CloudAPI.Network.FirewallRule(U,S,R);this.aws.cas(T);T.setProviderFirewallId(N);T.setCidr(P);O=[["GroupId",N]];O.push(["IpPermissions.1.IpProtocol",U.toString()]);O.push(["IpPermissions.1.FromPort",S]);O.push(["IpPermissions.1.ToPort",R]);O.push(["IpPermissions.1.IpRanges.1.CidrIp",P]);return this.call_xxx("AuthorizeSecurityGroupIngress",T,O,Q)};K.prototype.createInVLAN=function(O,S,M,N){var P,Q,R;R=[["GroupName",O],["GroupDescription",S]];if(this.aws.ute().vstr(M)){R.push(["VpcId",M])}Q=this;P=function(T){return Q.on_create(T,O,S,N)};return this.awscall("CreateSecurityGroup",R,P,N)};K.prototype.getFirewall=function(N,M){var O,P,Q;Q=[["GroupName",N]];P=this;O=function(R){return M!=null?typeof M.success==="function"?M.success(P.aws.ute().getFirst(P.munch_xml(R))):void 0:void 0};return this.awscall("DescribeSecurityGroups",Q,O,M)};K.prototype.getProviderTermForFirewall=function(M){return"Security Group"};K.prototype.getRules=function(O,N){var M;M=N!=null?N.success:void 0;if(N!=null){N.success=function(P){return typeof M==="function"?M(P!=null?P.getRules():[]):void 0}}return this.getFirewall(O,N)};K.prototype.revoke=function(M,N,P,U,S,R,Q){var O,T;T=new g.ComZotoh.CloudAPI.Network.FirewallRule(U,S,R);this.aws.cas(T);T.setProviderFirewallId(N);T.setCidr(P);O=[["GroupId",N]];O.push(["IpPermissions.1.IpProtocol",U.toString()]);O.push(["IpPermissions.1.FromPort",S]);O.push(["IpPermissions.1.ToPort",R]);O.push(["IpPermissions.1.IpRanges.1.CidrIp",P]);return this.call_xxx("RevokeSecurityGroupIngress",T,O,Q)};K.prototype.allowAccess=function(N,M,R,U,S,Q,P){var O,T;T=new g.ComZotoh.CloudAPI.Network.FirewallRule(U,S,Q);this.aws.cas(T);T.setProviderFirewallId(N);T.setGroup(R,M,"");O=[["GroupId",N]];O.push(["IpPermissions.1.IpProtocol",U.toString()]);O.push(["IpPermissions.1.FromPort",S]);O.push(["IpPermissions.1.ToPort",Q]);O.push(["IpPermissions.1.Groups.1.GroupId",M]);O.push(["IpPermissions.1.Groups.1.UserId",R]);return this.call_xxx("AuthorizeSecurityGroupIngress",T,O,P)};K.prototype.revokeAccess=function(N,M,R,U,S,Q,P){var O,T;T=new g.ComZotoh.CloudAPI.Network.FirewallRule(U,S,Q);this.aws.cas(T);T.setProviderFirewallId(N);T.setGroup(R,M,"");O=[["GroupId",N]];O.push(["IpPermissions.1.IpProtocol",U.toString()]);O.push(["IpPermissions.1.FromPort",S]);O.push(["IpPermissions.1.ToPort",Q]);O.push(["IpPermissions.1.Groups.1.GroupId",M]);O.push(["IpPermissions.1.Groups.1.UserId",R]);return this.call_xxx("RevokeSecurityGroupIngress",T,O,P)};K.prototype.call_xxx=function(P,S,R,N){var O,Q,M;M="/"+P+"Response";Q=this;O=function(T){return Q.aws.on_boolean2_reply(T,S,M,N)};return this.awscall(P,R,O,N)};K.prototype.on_create=function(R,M,T,S){var V,P,W,N,U,O,Q;Q=this.aws.cfns(),O=Q[0],W=Q[1],N=Q[2],P=Q[3];U=P.getNode(R,"/CreateSecurityGroupResponse");V=new J.CloudAPI.Network.Firewall(M,T);this.aws.cas(V);V.setProviderFirewallId(P.ffcn(U,"groupId"));return S!=null?typeof S.success==="function"?S.success(V):void 0:void 0};K.prototype.munch_xml=function(am){var aj,aa,ai,P,al,M,ac,ah,Z,ad,ae,U,S,R,O,ab,ag,ak,af,N,W,Y,Q,T,X,V;V=this.aws.cfns(),T=V[0],ai=V[1],ac=V[2],aj=V[3];ab=ac(am,"/DescribeSecurityGroupsResponse/securityGroupInfo/item");Z=ab.length;W=[];for(ah=0;0<=Z?ah<Z:ah>Z;0<=Z?ah++:ah--){P=new J.CloudAPI.Network.Firewall(aj.ffcn(ab[ah],"groupName"));this.aws.cas(P);P.setProviderFirewallId(aj.ffcn(ab[ah],"groupId"));P.setProviderOwnerId(aj.ffcn(ab[ah],"ownerId"));P.setDescription(aj.ffcn(ab[ah],"groupDescription"));O=[];ad=aj.getNode(ab[ah],"ipPermissions");ae=aj.getCS(ad);ak=(ae!=null?ae.length:void 0)||0;for(ag=0;0<=ak?ag<ak:ag>ak;0<=ak?ag++:ag--){if(aj.getNName(ae[ag])==="#text"){continue}X=aj.ffcn(ae[ag],"ipProtocol");U=J.CloudAPI.Network.Protocol.valueOf(X);if(U===null){U=new J.CloudAPI.Network.Protocol(X)}aa=aj.ffcn(ae[ag],"fromPort");Q=aj.ffcn(ae[ag],"toPort");al=ac(ae[ag],"groups")[0];M=al!=null?aj.getCS(al):null;N=(M!=null?M.length:void 0)||0;for(af=0;0<=N?af<N:af>N;0<=N?af++:af--){if(aj.getNName(M[af])==="#text"){continue}Y=new J.CloudAPI.Network.FirewallRule(U,aa,Q);this.aws.cas(Y);Y.setGroup(aj.ffcn(M[af],"userId"),aj.ffcn(M[af],"groupId"),aj.ffcn(M[af],"groupName"));O.push(Y)}S=ac(ae[ag],"ipRanges")[0];R=S!=null?aj.getCS(S):null;N=(R!=null?R.length:void 0)||0;for(af=0;0<=N?af<N:af>N;0<=N?af++:af--){if(aj.getNName(R[af])==="#text"){continue}Y=new J.CloudAPI.Network.FirewallRule(U,aa,Q);this.aws.cas(Y);Y.setCidr(aj.ffcn(R[af],"cidrIp"));O.push(Y)}}P.setRules(O);W.push(P)}return W};return K})(J.CloudAPI.AbstractSupport);A=(function(L){H(K,L);function K(M){K.__super__.constructor.call(this,M)}K.prototype.hasSupport=function(){return true};K.prototype.listGateways=function(N){var O,M;M=N.success;O=this;N.success=function(P){N.success=function(Q){N.success=function(R){return M([].concat(P,Q,R))};return O.listVPNGateways("vlan",N)};return O.listVPNGateways("private",N)};return this.listVPNGateways("internet",N)};K.prototype.listVPNGateways=function(T,R){var S,O,U,M,Q,N,P;P=this.aws.cfns(),N=P[0],U=P[1],M=P[2],O=P[3];Q=null;if("internet"===T){Q=["DescribeInternetGateways","/DescribeInternetGatewaysResponse/internetGatewaySet/item"];S=function(W,V){V.setProviderVpnGatewayId(O.ffcn(W,"internetGatewayId"));V.setCurrentState("available");return M(W,"attachmentSet/item")};Q.push(S)}if("private"===T){Q=["DescribeCustomerGateways","/DescribeCustomerGatewaysResponse/customerGatewaySet/item"];S=function(W,V){V.setProviderVpnGatewayId(O.ffcn(W,"customerGatewayId"));V.setCurrentState(O.ffcn(W,"state"));V.setProtocol(O.ffcn(W,"type"));V.setEndpoint(O.ffcn(W,"ipAddress"));V.setBgpAsn(O.ffcn(W,"bgpAsn"));return[]};Q.push(S)}if("vlan"===T){Q=["DescribeVpnGateways","/DescribeVpnGatewaysResponse/vpnGatewaySet/item"];S=function(W,V){V.setProviderVpnGatewayId(O.ffcn(W,"vpnGatewayId"));V.setCurrentState(O.ffcn(W,"state"));V.setProtocol(O.ffcn(W,"type"));V.setProviderDataCenterId(O.ffcn(W,"availabilityZone"));return M(W,"attachments/item")};Q.push(S)}if(Q!=null){return this.list_xxx_gateways(T,Q,R)}};K.prototype.attachToVLAN=function(Q,M,O){var P,N;N=O!=null?O.success:void 0;P=this;if(O!=null){O.success=function(R){return P.attach_to_vlan(R,M,N,O)}}return this.getVPN(Q,O)};K.prototype.disconnectGateway=function(P,S,M,N){var O,R,Q,T;switch(P){case"internet":R=["InternetGatewayId","DetachInternetGateway","/DetachInternetGatewayResponse"];break;case"vlan":R=["VpnGatewayId","DetachVpnGateway","/DetachVpnGatewayResponse"];break;default:R=["","",""]}T=[["VpcId",M],[R[0],S]];Q=this;O=function(U){return Q.aws.on_boolean_reply(U,R[2],N)};return this.awscall(R[1],T,O,N)};K.prototype.connectGateway=function(P,S,M,N){var O,R,Q,T;switch(P){case"internet":R=["InternetGatewayId","AttachInternetGateway","/AttachInternetGatewayResponse"];break;case"vlan":R=["VpnGatewayId","AttachVpnGateway","/AttachVpnGatewayResponse"];break;default:R=["","",""]}T=[["VpcId",M],[R[0],S]];Q=this;O=function(U){return Q.aws.on_boolean_reply(U,R[2],N)};return this.awscall(R[1],T,O,N)};K.prototype.createVPN=function(N,S,R,M){var O,P,Q;Q=[["Type",S]];if(R!=null){Q.push(["CustomerGatewayId",R.privateGatewayId],["VpnGatewayId",R.awsGatewayId])}P=this;O=function(T){return P.on_new_vpn(T,M)};return this.awscall("CreateVpnConnection",Q,O,M)};K.prototype.createVPNGateway=function(W,Z,U,X,O,P,T){var V,Q,Y,M,S,N,R;R=this.aws.cfns(),N=R[0],Y=R[1],M=R[2],Q=R[3];S=null;if("internet"===W){S=["CreateInternetGateway",[]];S.push("/CreateInternetGatewayResponse/internetGateway");V=function(ab,aa){aa.setProviderVpnGatewayId(Q.ffcn(ab,"internetGatewayId"));return aa.setCurrentState("available")};S.push(V)}if("private"===W){S=["CreateCustomerGateway"];S.push([["Type",Z],["IpAddress",U],["BgpAsn",O]]);S.push("/CreateCustomerGatewayResponse/customerGateway");V=function(ab,aa){aa.setProviderVpnGatewayId(Q.ffcn(ab,"customerGatewayId"));aa.setCurrentState(Q.ffcn(ab,"state"));aa.setProtocol(Q.ffcn(ab,"type"));aa.setEndpoint(Q.ffcn(ab,"ipAddress"));return aa.setBgpAsn(Q.ffcn(ab,"bgpAsn"))};S.push(V)}if("vlan"===W){S=["CreateVpnGateway",[["Type",Z]]];if(N.vstr(X)){S[1].push(["AvailabilityZone",X])}S.push("/CreateVpnGatewayResponse/vpnGateway");V=function(ab,aa){aa.setProviderVpnGatewayId(Q.ffcn(ab,"vpnGatewayId"));aa.setCurrentState(Q.ffcn(ab,"state"));aa.setProtocol(Q.ffcn(ab,"type"));return aa.setProviderDataCenterId(Q.ffcn(ab,"availabilityZone"))};S.push(V)}if(S!=null){return this.new_xxx_gateway(W,S,T)}};K.prototype.deleteVPN=function(Q,M){var N,O,P;P=[["VpnConnectionId",Q]];O=this;N=function(R){return O.aws.on_boolean_reply(R,"/DeleteVpnConnectionResponse",M)};return this.awscall("DeleteVpnConnection",P,N,M)};K.prototype.deleteVPNGateway=function(N,P,M){var O;O=null;if("internet"===N){O=["DeleteInternetGateway",[["InternetGatewayId",P]]];O.push("/DeleteInternetGatewayResponse")}if("private"===N){O=["DeleteCustomerGateway",[["CustomerGatewayId",P]]];O.push("/DeleteCustomerGatewayResponse")}if("vlan"===N){O=["DeleteVpnGateway",[["VpnGatewayId",P]]];O.push("/DeleteVpnGatewayResponse")}if(O!=null){return this.del_xxx_gateway(O,M)}};K.prototype.detachFromVLAN=function(Q,M,O){var P,N;N=O!=null?O.success:void 0;P=this;if(O!=null){O.success=function(R){return P.detach_from_vlan(R,M,N,O)}}return this.getVPN(Q,O)};K.prototype.getVPN=function(Q,M){var N,O,P;P=[["VpnConnectionId.1",Q]];O=this;N=function(R){return M!=null?typeof M.success==="function"?M.success(O.aws.ute().getFirst(O.munch_vpns(R))):void 0:void 0};return this.awscall("DescribeVpnConnections",P,N,M)};K.prototype.listVPNs=function(M){var N,O,P;P=[];O=this;N=function(Q){return M!=null?typeof M.success==="function"?M.success(O.munch_vpns(Q)):void 0:void 0};return this.awscall("DescribeVpnConnections",P,N,M)};K.prototype.detach_from_vlan=function(Q,W,R,U){var S,Y,O,N,V,X,M,P,T;N=Q.getTag("vpnGatewayId");if(U!=null){U.success=R}T=this.aws.cfns(),P=T[0],Y=T[1],O=T[2],S=T[3];X=this;M=[["VpcId",W],["VpnGatewayId",N]];V=function(Z){return X.aws.on_boolean_reply(Z,"/DetachVpnGatewayResponse",U)};return this.awscall("DetachVpnGateway",M,V,U)};K.prototype.del_xxx_gateway=function(P,M){var N,O;O=this;N=function(Q){return O.aws.on_boolean_reply(Q,P[2],M)};return this.awscall(P[0],P[1],N,M)};K.prototype.new_xxx_gateway=function(O,Q,M){var N,P;P=this;N=function(R){return P.on_new_gway(R,O,Q,M)};return this.awscall(Q[0],Q[1],N,M)};K.prototype.on_new_gway=function(Q,T,R,S){var U,O,W,M,V,N,P;P=this.aws.cfns(),N=P[0],W=P[1],M=P[2],O=P[3];V=M(Q,R[2])[0];U=new J.CloudAPI.Network.VPNGateway(T);this.aws.cas(U);R[3](V,U);return S!=null?typeof S.success==="function"?S.success(U):void 0:void 0};K.prototype.on_new_vpn=function(Q,R){var S,O,T,M,U,N,P;P=this.aws.cfns(),N=P[0],T=P[1],M=P[2],O=P[3];U=M(Q,"/CreateVpnConnectionResponse/vpnConnection")[0];S=this.munch_one_vpn(U);return R!=null?typeof R.success==="function"?R.success(S):void 0:void 0};K.prototype.attach_to_vlan=function(T,M,N,O){var R,P,Q,S;R=T.getTag("vpnGatewayId");if(O!=null){O.success=N}Q=this;S=[["VpcId",M],["VpnGatewayId",R]];P=function(U){return Q.on_attach_vlan(U,O)};return this.awscall("AttachVpnGateway",S,P,O)};K.prototype.on_attach_vlan=function(R,N){var T,S,M,P,O,Q;Q=this.aws.cfns(),O=Q[0],S=Q[1],M=Q[2],T=Q[3];P=M(R,"/AttachVpnGatewayResponse/attachment");return this.aws.cb_boolean(z(P),N)};K.prototype.list_xxx_gateways=function(O,Q,M){var N,P,R;R=[];P=this;N=function(S){return M!=null?typeof M.success==="function"?M.success(P.munch_gways(S,O,Q)):void 0:void 0};return this.awscall(Q[0],R,N,M)};K.prototype.munch_vpns=function(R){var U,P,W,N,S,V,T,M,O,Q;Q=this.aws.cfns(),O=Q[0],W=Q[1],N=Q[2],P=Q[3];T=N(R,"/DescribeVpnConnectionsResponse/vpnConnectionSet/item");V=T.length;M=[];for(S=0;0<=V?S<V:S>V;0<=V?S++:S--){U=this.munch_one_vpn(T[S]);M.push(U)}return M};K.prototype.munch_one_vpn=function(P){var N,S,R,M,O,Q;Q=this.aws.cfns(),O=Q[0],R=Q[1],M=Q[2],S=Q[3];N=new J.CloudAPI.Network.VPN(S.ffcn(P,"vpnConnectionId"));this.aws.cas(N);N.setCurrentState(S.ffcn(P,"state"));N.addTag("customerGatewayConfiguration",S.ffcn(P,"customerGatewayConfiguration"));N.setProtocol(S.ffcn(P,"type"));N.addTag("customerGatewayId",S.ffcn(P,"customerGatewayId"));N.addTag("vpnGatewayId",S.ffcn(P,"vpnGatewayId"));return N};K.prototype.munch_gways=function(ad,N,V){var ac,W,O,ab,aa,U,Z,S,T,X,M,Y,P,R,Q;Q=this.aws.cfns(),P=Q[0],aa=Q[1],U=Q[2],ab=Q[3];T=U(ad,V[1]);S=T.length;Y=[];O=V[2];for(Z=0;0<=S?Z<S:Z>S;0<=S?Z++:Z--){ac=new J.CloudAPI.Network.VPNGateway(N);this.aws.cas(ac);W=O(T[Z],ac);M=(W!=null?W.length:void 0)||0;R=[];for(X=0;0<=M?X<M:X>M;0<=M?X++:X--){R.push({vpcId:ab.ffcn(W[X],"vpcId"),state:ab.ffcn(W[X],"state")})}ac.addTag("attachments",R);Y.push(ac)}return Y};return K})(J.CloudAPI.AbstractSupport);h=(function(K){H(L,K);function L(M){this.lbId=M;L.__super__.constructor.call(this);this.servers=[];this.zones=[];this.addTag("Subnets",[])}L.prototype.equals=function(M){return this.getProviderLoadBalancerId()===(M!=null?M.getProviderLoadBalancerId():void 0)};L.prototype.toString=function(){return this.getProviderLoadBalancerId()};L.prototype.getAddress=function(){return this.addr};L.prototype.getProviderDataCenterIds=function(){return this.zones};L.prototype.setProviderDataCenterIds=function(M){if(M!=null){return this.zones=M}};L.prototype.setProviderServerIds=function(M){if(M!=null){return this.servers=M}};L.prototype.getProviderServerIds=function(){return this.servers};L.prototype.getAddressType=function(){return this.type};L.prototype.getProviderLoadBalancerId=function(){return this.lbId};L.prototype.setAddress=function(M){return this.addr=M!=null?M:""};L.prototype.setProviderLoadBalancerId=function(M){return this.lbId=M!=null?M:""};L.prototype.setAddressType=function(M){if(M!=null){return this.type=M}};L.prototype.getPublicPorts=function(){return this.ports};L.prototype.setPublicPorts=function(M){if(M!=null){return this.ports=M}};L.prototype.setListeners=function(M){if(M!=null){return this.listeners=M}};L.prototype.getListeners=function(){return this.listeners};return L})(J.CloudAPI.CObject);y=(function(L){H(K,L);function K(M){this.subnetId=M;K.__super__.constructor.call(this)}K.prototype.equals=function(M){return this.getProviderSubnetId()===(M!=null?M.getProviderSubnetId():void 0)};K.prototype.toString=function(){return this.getProviderSubnetId()};K.prototype.getProviderDataCenterId=function(){return this.zone};K.prototype.setProviderDataCenterId=function(M){return this.zone=M!=null?M:""};K.prototype.setProviderSubnetId=function(M){return this.subnetId=M!=null?M:""};K.prototype.getProviderSubnetId=function(){return this.subnetId};K.prototype.setProviderVlanId=function(M){return this.vlanId=M!=null?M:""};K.prototype.getProviderVlanId=function(){return this.vlanId};K.prototype.getAvailableIpAddresses=function(){return this.ipAddrCount};K.prototype.setAvailableIpAddresses=function(M){if((M!=null)&&!isNaN(M)){return this.ipAddrCount=M}};K.prototype.getCidr=function(){return this.cidrStr};K.prototype.setCidr=function(M){return this.cidrStr=M!=null?M:""};return K})(J.CloudAPI.CObject);a=(function(){function K(L){this.idstr=L}K.prototype.toString=function(){return this.idstr};return K})();a.INGRESS=new a("INGRESS");a.EGRESS=new a("EGRESS");a.values=function(){return[a.INGRESS,a.EGRESS]};a.valueOf=function(K){K=K!=null?K.toUpperCase():"";switch(K){case"INGRESS":return a.INGRESS;case"EGRESS":return a.EGRESS;default:return null}};s=(function(L){H(K,L);function K(N,M){K.__super__.constructor.call(this,N);this.available=true;this.active=true;this.rules=[];this.setDescription(M)}K.prototype.toString=function(){return this.getName()+"|"+this.getProviderFirewallId()};K.prototype.isActive=function(){return this.active};K.prototype.isAvailable=function(){return this.available};K.prototype.setActive=function(M){if(M!=null){return this.active=M}};K.prototype.setAvailable=function(M){if(M!=null){return this.available=M}};K.prototype.setProviderVlanId=function(M){return this.vlanId=M!=null?M:""};K.prototype.getProviderVlanId=function(){return this.vlanId};K.prototype.getProviderFirewallId=function(){return this.fwId};K.prototype.setProviderFirewallId=function(M){return this.fwId=M!=null?M:""};K.prototype.getRules=function(){return this.rules};K.prototype.setRules=function(O){var M,N;if(O!=null){N=O.length;for(M=0;0<=N?M<N:M>N;0<=N?M++:M--){O[M].setProviderFirewallId(this.getProviderFirewallId())}return this.rules=O}};return K})(J.CloudAPI.CObject);C=(function(){function K(L,M){this.ec2=L;this.elb=M;this.fwall=new J.CloudAPI.Network.FirewallSupport(this.ec2);this.ipa=new J.CloudAPI.Network.IpAddressSupport(this.ec2);this.dns=null;this.lbs=new J.CloudAPI.Network.LoadBalancerSupport(this.elb);this.vls=new J.CloudAPI.Network.VLANSupport(this.ec2);this.vpn=new J.CloudAPI.Network.VPNSupport(this.ec2)}K.prototype.getDnsSupport=function(){return this.dns};K.prototype.getFirewallSupport=function(){return this.fwall};K.prototype.getIpAddressSupport=function(){return this.ipa};K.prototype.getLoadBalancerSupport=function(){return this.lbs};K.prototype.getVlanSupport=function(){return this.vls};K.prototype.getVpnSupport=function(){return this.vpn};K.prototype.hasDnsSupport=function(){return z(this.dns)};K.prototype.hasFirewallSupport=function(){return z(this.fwall)};K.prototype.hasIpAddressSupport=function(){return z(this.ipa)};K.prototype.hasLoadBalancerSupport=function(){return z(this.lbs)};K.prototype.hasVlanSupport=function(){return z(this.vls)};K.prototype.hasVpnSupport=function(){return z(this.vpn)};return K})();r=(function(L){H(K,L);function K(M){this.dhcpId=M;K.__super__.constructor.call(this);this.kvs={}}K.prototype.toString=function(){return this.getProviderDhcpId()};K.prototype.setProviderDhcpId=function(M){return this.dhcpId=M!=null?M:""};K.prototype.getProviderDhcpId=function(){return this.dhcpId};K.prototype.addKeyValues=function(M,N){return this.kvs[M]=N||[]};K.prototype.addKeyValue=function(N,M){if(!z(this.kvs[N])){this.kvs[N]=[]}return this.kvs[N].push(M)};K.prototype.getKey=function(M){return this.kvs[M]};return K})(J.CloudAPI.CObject);e=(function(L){H(K,L);function K(M){this.vpnId=M;K.__super__.constructor.call(this)}K.prototype.toString=function(){return this.getProviderVpnId()};K.prototype.getProtocol=function(){return this.protocol};K.prototype.getProviderDataCenterId=function(){return this.zone};K.prototype.setProviderDataCenterId=function(M){return this.zone=M!=null?M:""};K.prototype.setProviderVlanId=function(M){return this.vlanId=M!=null?M:""};K.prototype.getProviderVlanId=function(){return this.vlanId};K.prototype.setProtocol=function(M){if(M!=null){return this.protocol=M}};K.prototype.getProviderVpnId=function(){return this.vpnId};K.prototype.setProviderVpnId=function(M){return this.vpnId=M!=null?M:""};return K})(J.CloudAPI.CObject);t=(function(L){H(K,L);function K(){K.__super__.constructor.call(this)}K.prototype.getType=function(){return this.type};K.prototype.setType=function(M){return this.type=M!=null?M:""};K.prototype.getTtl=function(){return this.ttl};K.prototype.setTtl=function(M){if((M!=null)&&!isNaN(M)){return this.ttl=M}};K.prototype.getValues=function(){return this.vals};K.prototype.setValues=function(M){if(M!=null){return this.vals=M}};K.prototype.setProviderZoneId=function(M){return this.dnsZone=M!=null?M:""};K.prototype.getProviderZoneId=function(){return this.dnsZone};return K})(J.CloudAPI.CObject);d=(function(K){H(L,K);function L(M){L.__super__.constructor.call(this,M)}L.prototype.remove=function(M,S){var Q,V,O,T,U,N,P,R;N=[["LoadBalancerName",M]];R=this.aws.cfns(),P=R[0],V=R[1],O=R[2],Q=R[3];U=this;T=function(W){var X;X=Q.getNode(W,"/DeleteLoadBalancerResponse");return U.aws.cb_boolean(z(X),S)};return this.awscall("DeleteLoadBalancer",N,T,S)};L.prototype.create=function(N,U,M,T,Z,Y,V,R){var Q,S,W,X,P,aa,O;O=[["LoadBalancerName",N]];aa=(Y!=null?Y.length:void 0)||0;for(P=0;0<=aa?P<aa:P>aa;0<=aa?P++:P--){W=Y[P];Q="Listeners.member."+(P+1)+".";O.push([Q+"LoadBalancerPort",W.getPublicPort()]);O.push([Q+"InstancePort",W.getPrivatePort()]);O.push([Q+"Protocol",W.getPublicProtocol().toString()]);O.push([Q+"InstanceProtocol",W.getPrivateProtocol().toString()]);if(W.isSecure()){O.push([Q+"SSLCertificateId",W.getSSLCert().toString()])}}aa=(T!=null?T.length:void 0)||0;for(P=0;0<=aa?P<aa:P>aa;0<=aa?P++:P--){O.push(["AvailabilityZones.member."+(P+1),T[P]])}aa=(Z!=null?Z.length:void 0)||0;for(P=0;0<=aa?P<aa:P>aa;0<=aa?P++:P--){O.push(["Subnets.member."+(P+1),Z[P]])}aa=(V!=null?V.length:void 0)||0;for(P=0;0<=aa?P<aa:P>aa;0<=aa?P++:P--){O.push(["SecurityGroups.member."+(P+1),V[P]])}X=this;S=function(ab){return X.on_create(ab,N,U,R)};return this.awscall("CreateLoadBalancer",O,S,R)};L.prototype.hasSupport=function(){return true};L.prototype.addDataCenters=function(O,M,N){var P,Q,T,S,R;R=[["LoadBalancerName",O]];S=(M!=null?M.length:void 0)||0;for(T=0;0<=S?T<S:T>S;0<=S?T++:T--){R.push(["AvailabilityZones.member."+(T+1),M[T]])}Q=this;P=function(U){return Q.on_xxx_dcs(U,"/EnableAvailabilityZonesForLoadBalancerResponse/EnableAvailabilityZonesForLoadBalancerResult",N)};return this.awscall("EnableAvailabilityZonesForLoadBalancer",R,P,N)};L.prototype.addServers=function(N,O,M){var P,Q,T,S,R;R=[["LoadBalancerName",N]];S=(O!=null?O.length:void 0)||0;for(T=0;0<=S?T<S:T>S;0<=S?T++:T--){R.push(["Instances.member."+(T+1)+".InstanceId",O[T]])}Q=this;P=function(U){return Q.on_xxx_servers(U,"/RegisterInstancesWithLoadBalancerResponse/RegisterInstancesWithLoadBalancerResult",M)};return this.awscall("RegisterInstancesWithLoadBalancer",R,P,M)};L.prototype.getLoadBalancer=function(N,M){var O,P,Q;Q=[["LoadBalancerNames.member.1",N]];P=this;O=function(R){return M!=null?typeof M.success==="function"?M.success(P.aws.ute().getFirst(P.munch_xml(R))):void 0:void 0};return this.awscall("DescribeLoadBalancers",Q,O,M)};L.prototype.getAddressType=function(){return J.CloudAPI.Network.LoadBalancerAddressType.DNS};L.prototype.getProviderTermForLoadBalancer=function(M){return"Elastic Load Balancing"};L.prototype.listSupportedAlgorithms=function(){return[J.CloudAPI.Network.LbAlgorithm.ROUND_ROBIN]};L.prototype.listSupportedProtocols=function(){return[J.CloudAPI.Network.LbProtocol.SSL,J.CloudAPI.Network.LbProtocol.HTTPS,J.CloudAPI.Network.LbProtocol.HTTP,J.CloudAPI.Network.LbProtocol.TCP]};L.prototype.isAddressAssignedByProvider=function(){return true};L.prototype.isDataCenterLimited=function(){return true};L.prototype.requiresListenerOnCreate=function(){return true};L.prototype.requiresServerOnCreate=function(){return false};L.prototype.supportsMonitoring=function(){return true};L.prototype.listLoadBalancers=function(M){var N,O;O=this;N=function(P){return M!=null?typeof M.success==="function"?M.success(O.munch_xml(P)):void 0:void 0};return this.awscall("DescribeLoadBalancers",[],N,M)};L.prototype.removeDataCenters=function(O,M,N){var P,Q,T,S,R;R=[["LoadBalancerName",O]];S=(M!=null?M.length:void 0)||0;for(T=0;0<=S?T<S:T>S;0<=S?T++:T--){R.push(["AvailabilityZones.member."+(T+1),M[T]])}Q=this;P=function(U){return Q.on_xxx_dcs(U,"/DisableAvailabilityZonesForLoadBalancerResponse/DisableAvailabilityZonesForLoadBalancerResult",N)};return this.awscall("DisableAvailabilityZonesForLoadBalancer",R,P,N)};L.prototype.removeServers=function(N,O,M){var P,Q,T,S,R;R=[["LoadBalancerName",N]];S=(O!=null?O.length:void 0)||0;for(T=0;0<=S?T<S:T>S;0<=S?T++:T--){R.push(["Instances.member."+(T+1)+".InstanceId",O[T]])}Q=this;P=function(U){return Q.on_xxx_servers(U,"/DeregisterInstancesFromLoadBalancerResponse/DeregisterInstancesFromLoadBalancerResult",M)};return this.awscall("DeregisterInstancesFromLoadBalancer",R,P,M)};L.prototype.on_xxx_servers=function(R,V,T){var P,X,N,S,W,U,M,O,Q;Q=this.aws.cfns(),O=Q[0],X=Q[1],N=Q[2],P=Q[3];U=N(R,V+"/Instances/member/InstanceId");W=U.length;M=[];for(S=0;0<=W?S<W:S>W;0<=W?S++:S--){M.push(X(U[S]))}return T!=null?typeof T.success==="function"?T.success(M):void 0:void 0};L.prototype.on_xxx_dcs=function(R,V,T){var P,X,N,S,W,U,M,O,Q;Q=this.aws.cfns(),O=Q[0],X=Q[1],N=Q[2],P=Q[3];U=N(R,V+"/AvailabilityZones/member");W=U.length;M=[];for(S=0;0<=W?S<W:S>W;0<=W?S++:S--){M.push(X(U[S]))}return T!=null?typeof T.success==="function"?T.success(M):void 0:void 0};L.prototype.munch_xml=function(aj){var ai,ah,ag,N,Y,af,U,P,X,Q,ad,aa,O,ae,V,Z,ac,R,T,ab,W,M,ak,S;S=this.aws.cfns(),R=S[0],ag=S[1],Y=S[2],ah=S[3];X=Y(aj,"/DescribeLoadBalancersResponse/DescribeLoadBalancersResult/LoadBalancerDescriptions/member");U=X.length;ae=[];for(af=0;0<=U?af<U:af>U;0<=U?af++:af--){ai=new J.CloudAPI.Network.LoadBalancer(ah.ffcn(X[af],"LoadBalancerName"));this.aws.cas(ai);ai.setAddressType(J.CloudAPI.Network.LoadBalancerAddressType.DNS);T=R.setISO8601(new Date(),ah.ffcn(X[af],"CreatedTime"));ai.setCreationTimestamp(T);ai.setAddress(ah.ffcn(X[af],"DNSName"));N=Y(X[af],"SecurityGroups/member");Z=Y(X[af],"Subnets/member");Q=[];O=(Z!=null?Z.length:void 0)||0;for(aa=0;0<=O?aa<O:aa>O;0<=O?aa++:aa--){Q.push(ag(Z[aa]))}ai.addTag("Subnets",Q);W=Y(X[af],"AvailabilityZones/member");Q=[];O=(W!=null?W.length:void 0)||0;for(aa=0;0<=O?aa<O:aa>O;0<=O?aa++:aa--){Q.push(ag(W[aa]))}ai.setProviderDataCenterIds(Q);P=Y(X[af],"Instances/member/InstanceId");Q=[];O=(P!=null?P.length:void 0)||0;for(aa=0;0<=O?aa<O:aa>O;0<=O?aa++:aa--){Q.push(ag(P[aa]))}ai.setProviderServerIds(Q);ad=Y(X[af],"ListenerDescriptions/member");ab=J.CloudAPI.Network.LbProtocol;O=(ad!=null?ad.length:void 0)||0;Q=[];for(aa=0;0<=O?aa<O:aa>O;0<=O?aa++:aa--){ac=Y(ad[aa],"Listener");ak=(ac!=null?ac.length:void 0)||0;for(V=0;0<=ak?V<ak:V>ak;0<=ak?V++:V--){M=new J.CloudAPI.Network.LbListener();M.setPublicProtocol(ab.valueOf(ag(Y(ac[V],"Protocol")[0])));M.setPublicPort(Number(ag(Y(ac[V],"LoadBalancerPort")[0])));M.setPrivateProtocol(ab.valueOf(ag(Y(ac[V],"InstanceProtocol")[0])));M.setPrivatePort(Number(ag(Y(ac[V],"InstancePort")[0])));Q.push(M)}}ai.setListeners(Q);ae.push(ai)}return ae};L.prototype.on_create=function(R,M,T,S){var U,P,V,N,O,Q;Q=this.aws.cfns(),O=Q[0],V=Q[1],N=Q[2],P=Q[3];U=new J.CloudAPI.Network.LoadBalancer(M);this.aws.cas(U);U.setAddress(P.ffcn(R,"/CreateLoadBalancerResponse/CreateLoadBalancerResult/DNSName"));U.setAddressType(J.CloudAPI.Network.LoadBalancerAddressType.DNS);U.setCreationTimestamp(new Date());U.setDescription(T);return S!=null?typeof S.success==="function"?S.success(U):void 0:void 0};return L})(J.CloudAPI.AbstractSupport);w=(function(){function K(L){this.idstr=L}K.prototype.toString=function(){return this.idstr};return K})();w.ICMP=new w("icmp");w.TCP=new w("tcp");w.UDP=new w("udp");w.values=function(){return[w.TCP,w.UDP,w.ICMP]};w.valueOf=function(K){K=K!=null?K.toLowerCase():"";switch(K){case"icmp":return w.ICMP;case"tcp":return w.TCP;case"udp":return w.UDP;default:return null}};G=(function(){function K(){}K.prototype.hasSupport=function(){return false};K.prototype.addDnsRecord=function(Q,P,O,N,M,L){};K.prototype.createDnsZone=function(O,N,M,L){};K.prototype.deleteDnsRecords=function(M,L){};K.prototype.deleteDnsZone=function(M,L){};K.prototype.getDnsZone=function(M,L){};K.prototype.getProviderTermForRecord=function(M,L){};K.prototype.getProviderTermForZone=function(M,L){};K.prototype.listDnsRecords=function(O,N,M,L){};K.prototype.listDnsZones=function(L){};return K})();B=(function(){function K(L){this.idstr=L}K.prototype.toString=function(){return this.idstr};return K})();B.ALLOW=new B("ALLOW");B.DENY=new B("DENY");B.values=function(){return[B.ALLOW,B.DENY]};B.valueOf=function(K){K=K!=null?K.toUpperCase():"";switch(K){case"ALLOW":return B.ALLOW;case"DENY":return B.DENY;default:return null}};c=(function(K){H(L,K);function L(M){this.ruleId=M;L.__super__.constructor.call(this)}L.prototype.equals=function(M){return this.getProviderRuleId()===(M!=null?M.getProviderRuleId():void 0)};L.prototype.toString=function(){return this.getProviderRuleId()};L.prototype.getProtocol=function(){return this.protocol};L.prototype.getServerId=function(){return this.vmId};L.prototype.setServerId=function(M){return this.vmId=M!=null?M:""};L.prototype.getPrivatePort=function(){return this.prvPort};L.prototype.setPrivatePort=function(M){if((M!=null)&&!isNaN(M)){return this.prvPort=M}};L.prototype.getPublicPort=function(){return this.pubPort};L.prototype.setPublicPort=function(M){if((M!=null)&&!isNaN(M)){return this.pubPort=M}};L.prototype.setProtocol=function(M){if(M!=null){return this.protocol=M}};L.prototype.getAddressId=function(){return this.addr};L.prototype.getProviderRuleId=function(){return this.ruleId};L.prototype.setAddressId=function(M){return this.addr=M!=null?M:""};L.prototype.setProviderRuleId=function(M){return this.ruleId=M!=null?M:""};return L})(J.CloudAPI.CObject);p=(function(L){H(K,L);function K(M){this.vlanId=M;K.__super__.constructor.call(this)}K.prototype.equals=function(M){return this.getProviderVlanId()===(M!=null?M.getProviderVlanId():void 0)};K.prototype.toString=function(){return this.getProviderVlanId()};K.prototype.getProviderDataCenterId=function(){return this.zone};K.prototype.setProviderDataCenterId=function(M){return this.zone=M!=null?M:""};K.prototype.setProviderVlanId=function(M){return this.vlanId=M!=null?M:""};K.prototype.getProviderVlanId=function(){return this.vlanId};K.prototype.getDomainName=function(){return this.domain};K.prototype.setDomainName=function(M){return this.domain=M!=null?M:""};K.prototype.getCidr=function(){return this.cidrStr};K.prototype.setCidr=function(M){return this.cidrStr=M!=null?M:""};K.prototype.setDnsServers=function(M){if(M!=null){return this.dnss=M}};K.prototype.getDnsServers=function(){return this.dnss};K.prototype.setGateway=function(M){return this.gateway=M!=null?M:""};K.prototype.getGateway=function(){return this.gateway};K.prototype.setNtpServers=function(M){if(M!=null){return this.ntpss=M}};K.prototype.getNtpServers=function(){return this.ntpss};return K})(J.CloudAPI.CObject);I=(function(L){H(K,L);function K(){K.__super__.constructor.call(this);this.algo=J.CloudAPI.Network.LbAlgorithm.ROUND_ROBIN;this.prvProtocol=J.CloudAPI.Network.LbProtocol.HTTP;this.pubProtocol=J.CloudAPI.Network.LbProtocol.HTTP;this.prvPort=7501;this.pubPort=8090}K.prototype.isSecure=function(){var M,N;M=(N=this.pubProtocol)!=null?N.toString():void 0;if("https"===M||"ssl"===M){return true}else{return false}};K.prototype.getSSLCert=function(){return this.sslCert};K.prototype.setSSLCert=function(M){if(M!=null){return this.sslCert=M}};K.prototype.getAlgorithm=function(){return this.algo};K.prototype.setAlgorithm=function(M){if(M!=null){return this.algo=M}};K.prototype.getPrivateProtocol=function(){return this.prvProtocol};K.prototype.setPrivateProtocol=function(M){if(M!=null){return this.prvProtocol=M}};K.prototype.getPublicProtocol=function(){return this.pubProtocol};K.prototype.setPublicProtocol=function(M){if(M!=null){return this.pubProtocol=M}};K.prototype.getPrivatePort=function(){return this.prvPort};K.prototype.setPrivatePort=function(M){if((M!=null)&&!isNaN(M)){return this.prvPort=M}};K.prototype.getPublicPort=function(){return this.pubPort};K.prototype.setPublicPort=function(M){if((M!=null)&&!isNaN(M)){return this.pubPort=M}};return K})(J.CloudAPI.CObject);o=(function(){function K(L){this.idstr=L}K.prototype.toString=function(){return this.idstr};return K})();o.AJP=new o("ajp");o.HTTPS=new o("https");o.SSL=new o("ssl");o.HTTP=new o("http");o.RAW_TCP=new o("tcp");o.values=function(){return[o.SSL,o.AJP,o.HTTPS,o.HTTP,o.RAW_TCP]};o.valueOf=function(K){K=K!=null?K.toLowerCase():"";switch(K){case"ajp":return o.AJP;case"https":return o.HTTPS;case"ssl":return o.SSL;case"http":return o.HTTP;case"tcp":return o.RAW_TCP;default:return null}};u=(function(){function K(L){this.idstr=L}K.prototype.toString=function(){return this.idstr};return K})();u.ROUND_ROBIN=new u("round_robin");u.LEAST_CONN=new u("least_conn");u.SOURCE=new u("source");u.values=function(){return[u.ROUND_ROBIN,u.LEAST_CONN,u.SOURCE]};u.valueOf=function(K){K=K!=null?K.toLowerCase():"";switch(K){case"round-robin":return u.ROUND_ROBIN;case"least-conn":return u.LEAST_CONN;case"source":return u.SOURCE;default:return null}};D=(function(){function K(L){this.idstr=L}K.prototype.toString=function(){return this.idstr};return K})();D.DNS=new D("dns");D.IP=new D("ip");D.valueOf=function(K){K=K!=null?K.toLowerCase():"";switch(K){case"dns":return D.DNS;case"ip":return D.IP;default:return null}};D.values=function(){return[D.DNS,D.IP]};F=(function(L){H(K,L);function K(N,M){this.addr=N;this.type=M;K.__super__.constructor.call(this)}K.prototype.equals=function(M){return(M!=null?M.getProviderIpAddressId():void 0)===this.getProviderIpAddressId()&&(M!=null?M.getAddressType():void 0)===this.getAddressType()};K.prototype.toString=function(){return this.getProviderIpAddressId()};K.prototype.getServerId=function(){return this.server};K.prototype.setServerId=function(M){return this.server=M!=null?M:""};K.prototype.isAssigned=function(){return z(this.server)&&this.server.length>0};K.prototype.getAddressType=function(){return this.type};K.prototype.getProviderIpAddressId=function(){return this.addr};K.prototype.getProviderLoadBalancerId=function(){return this.lbId};K.prototype.setProviderIpAddressId=function(M){return this.addr=M!=null?M:""};K.prototype.setProviderLoadBalancerId=function(M){return this.lbId=M!=null?M:""};K.prototype.setAddressType=function(M){if(M!=null){return this.type=M}};return K})(J.CloudAPI.CObject);q=(function(K){H(L,K);function L(M){this.dnsZone=M;L.__super__.constructor.call(this)}L.prototype.equals=function(M){return this.getProviderDnsZoneId()===(M!=null?M.getProviderDnsZoneId():void 0)};L.prototype.toString=function(){return this.getProviderDnsZoneId()};L.prototype.getDomainName=function(){return this.domain};L.prototype.setDomainName=function(M){return this.domain=M!=null?M:""};L.prototype.getNameservers=function(){return this.namess};L.prototype.setNameservers=function(M){if(M!=null){return this.namess=M}};L.prototype.getProviderDnsZoneId=function(){return this.dnsZone};L.prototype.setProviderDnsZoneId=function(M){return this.dnsZone=M!=null?M:""};return L})(J.CloudAPI.CObject);k=(function(L){H(K,L);function K(M){K.__super__.constructor.call(this,M)}K.prototype.hasSupport=function(){return true};K.prototype.assign=function(S,Q,R,M){var N,O,P;P=[["PublicIp",S],["InstanceId",Q]];if(z(R)&&_.has(R,"allocationId")){P.push(["AllocationId",R.allocationId])}O=this;N=function(T){return O.aws.on_boolean2_reply(T,Q,"/AssociateAddressResponse",M)};return this.awscall("AssociateAddress",P,N,M)};K.prototype.forward=function(R,O,Q,P,M,N){};K.prototype.getIpAddress=function(Q,M){var N,O,P;P=[["PublicIp",Q]];O=this;N=function(R){return M!=null?typeof M.success==="function"?M.success(O.aws.ute().getFirst(O.munch_xml(R))):void 0:void 0};return this.awscall("DescribeAddresses",P,N,M)};K.prototype.getProviderTermForIpAddress=function(M){return"Elastic IP"};K.prototype.isRequestable=function(M){if(J.CloudAPI.Network.AddressType.PUBLIC===M){return true}else{return false}};K.prototype.isForwarding=function(){return false};K.prototype.listPrivateIpPool=function(N,M){return this.list_ips("vpc",N,M)};K.prototype.listPublicIpPool=function(N,M){return this.list_ips("standard",N,M)};K.prototype.listRules=function(N,M){};K.prototype.releaseFromPool=function(Q,M){var N,O,P;P=[["PublicIp",Q]];O=this;N=function(R){return O.aws.on_boolean_reply(R,"/ReleaseAddressResponse",M)};return this.awscall("ReleaseAddress",P,N,M)};K.prototype.releaseFromServer=function(Q,M){var N,O,P;P=[["PublicIp",Q]];O=this;N=function(R){return O.aws.on_boolean_reply(R,"/DisassociateAddressResponse",M)};return this.awscall("DisassociateAddress",P,N,M)};K.prototype.request=function(U,R){var O,V,M,S,T,Q,N,P;P=this.aws.cfns(),N=P[0],V=P[1],M=P[2],O=P[3];Q=[];T=this;if(J.CloudAPI.Network.AddressType.PRIVATE===U){Q=["Domain","vpc"]}S=function(X){var Z,Y,W;Y=O.getNode(X,"/AllocateAddressResponse");W=O.ffcn(Y,"publicIp");Z=new J.CloudAPI.Network.IpAddress(W,U);this.aws.cas(Z);W=O.ffcn(Y,"associationId");if(N.vstr(W)){Z.addTag("associationId",W)}W=O.ffcn(Y,"allocationId");if(N.vstr(W)){Z.addTag("allocationId",W)}return R!=null?typeof R.success==="function"?R.success(Z):void 0:void 0};return this.awscall("AllocateAddress",Q,S,R)};K.prototype.stopForward=function(N,M){};K.prototype.list_ips=function(O,Q,M){var N,P,R;R=[["Filter.1.Name","domain"],["Filter.1.Value.1",O]];P=this;N=function(S){return M!=null?typeof M.success==="function"?M.success(P.munch_xml(S,Q?-1:0)):void 0:void 0};return this.awscall("DescribeAddresses",R,N,M)};K.prototype.munch_xml=function(T,M){var Y,P,Q,ac,N,U,aa,ab,V,S,Z,W,O,X,R;R=this.aws.cfns(),O=R[0],ac=R[1],N=R[2],P=R[3];V=N(T,"/DescribeAddressesResponse/addressesSet/item");S=[];aa=V.length;if(M==null){M=0}for(U=0;0<=aa?U<aa:U>aa;0<=aa?U++:U--){Z=P.ffcn(V[U],"publicIp");Q=P.ffcn(V[U],"domain");W=J.CloudAPI.Network.AddressType.valueOf(Q);Y=new J.CloudAPI.Network.IpAddress(Z,W);this.aws.cas(Y);ab=P.ffcn(V[U],"instanceId");Y.setServerId(ab);X=P.ffcn(V[U],"associationId");if(O.vstr(X)){Y.addTag("associationId",X)}X=P.ffcn(V[U],"allocationId");if(O.vstr(X)){Y.addTag("allocationId",X)}switch(M){case -1:if(!O.vstr(ab)){S.push(Y)}break;case 0:S.push(Y);break;case 1:if(O.vstr(ab)){S.push(Y)}}}return S};return K})(J.CloudAPI.AbstractSupport);n=(function(L){H(K,L);function K(N,M){this.type=N;this.gwayId=M;K.__super__.constructor.call(this)}K.prototype.toString=function(){return this.getProviderVpnGatewayId()};K.prototype.setProviderDataCenterId=function(M){return this.zone=M!=null?M:""};K.prototype.getProviderDataCenterId=function(){return this.zone};K.prototype.getCategory=function(){return this.type};K.prototype.getProtocol=function(){return this.protocol};K.prototype.setEndpoint=function(M){return this.endPoint=M!=null?M:""};K.prototype.getEndpoint=function(){return this.endPoint};K.prototype.setProtocol=function(M){if(M!=null){return this.protocol=M}};K.prototype.getBgpAsn=function(){return this.bgpAsn};K.prototype.setBgpAsn=function(M){return this.bgpAsn=M!=null?M:""};K.prototype.getProviderVpnGatewayId=function(){return this.gwayId};K.prototype.setProviderVpnGatewayId=function(M){return this.gwayId=M!=null?M:""};return K})(J.CloudAPI.CObject);E=(function(){function K(L){this.idstr=L}K.prototype.toString=function(){return this.idstr};return K})();E.PRIVATE=new E("private");E.PUBLIC=new E("public");E.values=function(){return[E.PUBLIC,E.PRIVATE]};E.valueOf=function(K){K=K!=null?K.toLowerCase():"";switch(K){case"private":case"vpc":return E.PRIVATE;case"public":case"standard":return E.PUBLIC;default:return null}};j=(function(K){H(L,K);function L(O,N,M){this.protocol=O;this.fromPort=N;this.toPort=M;L.__super__.constructor.call(this);this.perm=J.CloudAPI.Network.Permission.ALLOW;this.dir=J.CloudAPI.Network.Direction.INGRESS;this.group=[]}L.prototype.toString=function(){return this.getProviderRuleId()};L.prototype.setPermission=function(M){if(M!=null){return this.perm=M}};L.prototype.getPermission=function(){return this.perm};L.prototype.getProtocol=function(){return this.protocol};L.prototype.getCidr=function(){return this.cidrStr};L.prototype.setCidr=function(M){return this.cidrStr=M!=null?M:""};L.prototype.getGroup=function(){return this.group};L.prototype.setGroup=function(N,O,M){return this.group=[N!=null?N:"",O!=null?O:"",M!=null?M:""]};L.prototype.setProtocol=function(M){if(M!=null){return this.protocol=M}};L.prototype.getEndPort=function(){return Number(this.toPort||"")};L.prototype.getStartPort=function(){return Number(this.fromPort||"")};L.prototype.setEndPort=function(M){if(M!=null){return this.toPort=M}};L.prototype.setStartPort=function(M){if(M!=null){return this.fromPort=M}};L.prototype.setDirection=function(M){if(M!=null){return this.dir=M}};L.prototype.getDirection=function(){return this.dir};L.prototype.setProviderFirewallId=function(M){return this.fwId=M!=null?M:""};L.prototype.getProviderFirewallId=function(){return this.fwId};L.prototype.setProviderRuleId=function(M){};L.prototype.getProviderRuleId=function(){var M;return[this.fwId,(M=this.protocol)!=null?M.toString():void 0,this.cidrStr,this.fromPort,this.toPort,this.group.join("|")].join("")};return L})(J.CloudAPI.CObject);if(!z(J.CloudAPI)){J.CloudAPI={}}if(!z(J.CloudAPI.Network)){J.CloudAPI.Network={}}J.CloudAPI.Network.VLANSupport=b;J.CloudAPI.Network.FirewallSupport=l;J.CloudAPI.Network.VPNSupport=A;J.CloudAPI.Network.LoadBalancer=h;J.CloudAPI.Network.Subnet=y;J.CloudAPI.Network.Direction=a;J.CloudAPI.Network.Firewall=s;J.CloudAPI.Network.NetworkServices=C;J.CloudAPI.Network.VPN=e;J.CloudAPI.Network.DNSRecord=t;J.CloudAPI.Network.LoadBalancerSupport=d;J.CloudAPI.Network.Protocol=w;J.CloudAPI.Network.DNSSupport=G;J.CloudAPI.Network.Permission=B;J.CloudAPI.Network.VLAN=p;J.CloudAPI.Network.LoadBalancerAddressType=D;J.CloudAPI.Network.IpAddress=F;J.CloudAPI.Network.DNSZone=q;J.CloudAPI.Network.DHCPSet=r;J.CloudAPI.Network.IpAddressSupport=k;J.CloudAPI.Network.VPNGateway=n;J.CloudAPI.Network.AddressType=E;J.CloudAPI.Network.FirewallRule=j;J.CloudAPI.Network.LbAlgorithm=u;J.CloudAPI.Network.LbProtocol=o;J.CloudAPI.Network.LbListener=I;J.CloudAPI.Network.NetworkInterface=m})(window);(function(d){function o(D){return typeof D!=="undefined"&&D!==null}function h(D){return typeof D==="object"}if(!o(d.ComZotoh)){d.ComZotoh={}}var z=d.ComZotoh;var p,t,x,l,C,k,A,q,B,a,s,n,e,c,v,r,g,u,b,j,y,m=Object.prototype.hasOwnProperty,w=function(G,E){for(var D in E){if(m.call(E,D)){G[D]=E[D]}}function F(){this.constructor=G}F.prototype=E.prototype;G.prototype=new F;G.__super__=E.prototype;return G};t=(function(E){w(D,E);function D(G,F){this.value=F;D.__super__.constructor.call(this);this.immediate=true;this.dynamic=true;this.setName(G)}D.prototype.getSource=function(){return this.source};D.prototype.setSource=function(F){return this.source=F!=null?F:""};D.prototype.getDynamic=function(){return this.dynamic};D.prototype.setDynamic=function(F){return this.dynamic=true===F};D.prototype.getValue=function(){return this.value};D.prototype.setValue=function(F){return this.value=F};D.prototype.setImmediate=function(F){return this.immediate=true===F};D.prototype.isImmediate=function(){return this.immediate};D.prototype.setModifiable=function(F){return this.modifiable=true===F};D.prototype.isModifiable=function(){return this.modifiable};D.prototype.setDataType=function(F){return this.data=F!=null?F:""};D.prototype.getDataType=function(){return this.data};return D})(z.CloudAPI.CObject);t.ALL=1;t.SYSTEM=2;t.ENGINE=4;t.USER=8;l=(function(D){w(E,D);function E(F){this.dbid=F;E.__super__.constructor.call(this)}E.prototype.equals=function(F){return this.getProviderDatabaseId()===(F!=null?F.getProviderDatabaseId():void 0)};E.prototype.toString=function(){return this.getProviderDatabaseId()};E.prototype.getHostName=function(){return this.host};E.prototype.getProviderDataCenterId=function(){return this.zone};E.prototype.setProviderDataCenterId=function(F){return this.zone=F!=null?F:""};E.prototype.getConfiguration=function(){};E.prototype.getProviderDatabaseId=function(){return this.dbid};E.prototype.setProviderDatabaseId=function(F){return this.dbid=F!=null?F:""};E.prototype.getAdminUser=function(){return this.admin};E.prototype.setAdminUser=function(F){return this.admin=F!=null?F:""};E.prototype.getAllocatedStorageInGb=function(){return Number(this.gbSize||"")};E.prototype.setAllocatedStorageInGb=function(F){if((F!=null)&&!isNaN(F)){return this.gbSize=F}};E.prototype.getEngine=function(){return this.engine};E.prototype.setEngine=function(F){if(F!=null){return this.engine=F}};E.prototype.getHostPort=function(){return Number(this.hostPort||"")};E.prototype.setHostPort=function(F){if((F!=null)&&!isNaN(F)){return this.hostPort=F}};E.prototype.setHostName=function(F){return this.host=F!=null?F:""};E.prototype.getRecoveryPointTimestamp=function(){return this.ckptTS};E.prototype.setRecoveryPointTimestamp=function(F){if(F!=null){return this.ckptTS=F}};E.prototype.getProductSize=function(){};E.prototype.setProductSize=function(F){};E.prototype.getSnapshotRetentionInDays=function(){return Number(this.retentionDays||"")};E.prototype.setSnapshotRetentionInDays=function(F){if((F!=null)&&!isNaN(F)){return this.retentionDays=F}};E.prototype.setConfiguration=function(F){};E.prototype.getMaintenanceWindow=function(){return this.maintenanceWnd};E.prototype.setMaintenanceWindow=function(F){if(F!=null){return this.maintenanceWnd=F}};E.prototype.getSnapshotWindow=function(){return this.snapshotWnd};E.prototype.setSnapshotWindow=function(F){if(F!=null){return this.snapshotWnd=F}};E.prototype.setHighAvailability=function(F){if(F!=null){return this.highAvail=F}};E.prototype.isHighAvailability=function(){return this.highAvail};return E})(z.CloudAPI.CObject);r=(function(E){w(D,E);function D(F){D.__super__.constructor.call(this,F)}D.prototype.createQueue=function(G,K,F,N,I){var J,L,H,M;M=1;H=[["QueueName",G]];if(o(F)&&!isNaN(F)){H.push(["Attribute."+M+".Name","MessageRetentionPeriod"],["Attribute."+M+".Value",F]);++M}if(o(N)&&!isNaN(N)){H.push(["Attribute."+M+".Name","VisibilityTimeout"],["Attribute."+M+".Value",N]);++M}L=this;J=function(O){return L.on_create_q(O,I)};return this.awscall("CreateQueue",H,J,I)};D.prototype.removeQueue=function(F,K){var M,I,O,G,L,N,H,J;J=this.aws.cfns(),H=J[0],O=J[1],G=J[2],I=J[3];N=this;L=function(P){var Q;Q=I.getNode(P,"/DeleteQueueResponse");return N.aws.cb_boolean(o(Q),K)};M=this.aws.ec2Arg("DeleteQueue",[],L,K);M.tags.QueueName=F;return this.aws.doAjax(M)};D.prototype.list=function(H,F){var G,I,J;J=this.aws.ute().vstr(H)?[["QueueNamePrefix",H]]:[];I=this;G=function(K){return I.on_list(K,F)};return this.awscall("ListQueues",J,G,F)};D.prototype.getQueue=function(G,F){var H,I,J;J=[["QueueName",G]];I=this;H=function(K){return I.on_get_q(K,F)};return this.awscall("GetQueueUrl",J,H,F)};D.prototype.sendMessage=function(F,L,H){var G,I,J,K;K=[["MessageBody",L]];J=this;I=function(M){return J.on_send_msg(M,H)};G=this.aws.ec2Arg("SendMessage",K,I,H);G.tags.QueueName=F;return this.aws.doAjax(G)};D.prototype.receiveMessages=function(F,H,G,J){var I,K,L,M;M=[["AttributeName.1","All"]];if((G!=null)&&!isNaN(G)){M.push(["VisibilityTimeout",G])}if((H!=null)&&!isNaN(H)){M.push(["MaxNumberOfMessages",H])}L=this;K=function(N){return J!=null?typeof J.success==="function"?J.success(L.on_rec_msgs(N,J)):void 0:void 0};I=this.aws.ec2Arg("ReceiveMessage",M,K,J);I.tags.QueueName=F;return this.aws.doAjax(I)};D.prototype.removeMessage=function(N,K,L){var O,I,Q,G,M,P,F,H,J;F=[["ReceiptHandle",K]];J=this.aws.cfns(),H=J[0],Q=J[1],G=J[2],I=J[3];P=this;M=function(R){var S;S=I.getNode(R,"/DeleteMessageResponse");return P.aws.cb_boolean(o(S),L)};O=this.aws.ec2Arg("DeleteMessage",F,M,L);O.tags.QueueName=N;return this.aws.doAjax(O)};D.prototype.getQueueAttributes=function(F,H){var G,I,J,K;K=[["AttributeName.1","All"]];J=this;I=function(L){return J.on_getq_atts(L,H)};G=this.aws.ec2Arg("GetQueueAttributes",K,I,H);G.tags.QueueName=F;return this.aws.doAjax(G)};D.prototype.setQueueAttributes=function(N,F,Q,L){var O,J,R,H,M,P,G,I,K;G=[["Attribute.Name",F],["Attribute.Value",Q]];K=this.aws.cfns(),I=K[0],R=K[1],H=K[2],J=K[3];P=this;M=function(S){var T;T=J.getNode(S,"/SetQueueAttributesResponse");return P.aws.cb_boolean(o(T),L)};O=this.aws.ec2Arg("SetQueueAttributes",G,M,L);O.tags.QueueName=N;return this.aws.doAjax(O)};D.prototype.on_getq_atts=function(K,M){var I,Q,G,L,P,O,N,F,H,J;J=this.aws.cfns(),H=J[0],Q=J[1],G=J[2],I=J[3];O=G(K,"/GetQueueAttributesResponse/GetQueueAttributesResult/Attribute");P=O.length;F=[];for(L=0;0<=P?L<P:L>P;0<=P?L++:L--){N={Name:I.ffcn(O[L],"Name"),Value:I.ffcn(O[L],"Value")};F.push(N)}return M!=null?typeof M.success==="function"?M.success(F):void 0:void 0};D.prototype.on_rec_msgs=function(Y,Q){var W,O,U,T,N,I,S,L,M,G,V,H,P,F,X,R,J,K;K=this.aws.cfns(),J=K[0],T=K[1],N=K[2],U=K[3];M=N(Y,"/ReceiveMessageResponse/ReceiveMessageResult/Message");L=M.length;R=[];for(S=0;0<=L?S<L:S>L;0<=L?S++:S--){V=U.ffcn(M[S],"MessageId");I=U.ffcn(M[S],"ReceiptHandle");G=U.ffcn(M[S],"MD5OfBody");H=U.ffcn(M[S],"Body");W={MessageId:V,ReceiptHandle:I,MD5OfBody:G,Body:H,Attributes:[]};O=N(M[S],"Attribute");F=(O!=null?O.length:void 0)||0;for(P=0;0<=F?P<F:P>F;0<=F?P++:P--){X={Name:U.ffcn(O[P],"Name"),Value:U.ffcn(O[P],"Value")};W.Attributes.push(X)}R.push(W)}return R};D.prototype.on_send_msg=function(K,L){var I,M,G,N,F,H,J;J=this.aws.cfns(),H=J[0],M=J[1],G=J[2],I=J[3];N=G(K,"/SendMessageResponse/SendMessageResult")[0];F={MD5OfMessageBody:I.ffcn(N,"MD5OfMessageBody"),MessageId:I.ffcn(N,"MessageId")};return L!=null?typeof L.success==="function"?L.success(F):void 0:void 0};D.prototype.on_get_q=function(K,H){var M,L,F,G,I,J;J=this.aws.cfns(),I=J[0],L=J[1],F=J[2],M=J[3];G=M.ffcn(K,"/GetQueueUrlResponse/GetQueueUrlResult/QueueUrl");return this.aws.cb_result(G,H)};D.prototype.on_create_q=function(K,H){var M,L,F,G,I,J;J=this.aws.cfns(),I=J[0],L=J[1],F=J[2],M=J[3];G=M.ffcn(K,"/CreateQueueResponse/CreateQueueResult/QueueUrl");return this.aws.cb_result(G,H)};D.prototype.on_list=function(K,M){var I,P,G,L,O,N,F,H,J;J=this.aws.cfns(),H=J[0],P=J[1],G=J[2],I=J[3];N=G(K,"/ListQueuesResponse/ListQueuesResult/QueueUrl");O=N.length;F=[];for(L=0;0<=O?L<O:L>O;0<=O?L++:L--){F.push(P(N[L]))}return M!=null?typeof M.success==="function"?M.success(F):void 0:void 0};return D})(z.CloudAPI.AbstractSupport);C=(function(E){w(D,E);function D(F){this.cfgId=F;D.__super__.constructor.call(this)}D.prototype.setProviderConfigurationId=function(){return this.cfgId=typeof id!=="undefined"&&id!==null?id:""};D.prototype.getProviderConfigurationId=function(){return this.cfgId};D.prototype.setDatabaseFlavor=function(F){return this.family=F!=null?F:""};D.prototype.getDatabaseFlavor=function(){return this.family};return D})(z.CloudAPI.CObject);p=(function(){function D(){}D.prototype.list=function(E){};D.prototype["delete"]=function(F,E){};D.prototype.create=function(I,H,G,F,E){};D.prototype.hasSupport=function(E){};D.prototype.getDistribution=function(F,E){};D.prototype.getProviderTermForDistribution=function(F,E){};D.prototype.update=function(I,H,G,F,E){};return D})();n=(function(E){w(D,E);function D(F){this.dbid=F;D.__super__.constructor.call(this)}D.prototype.equals=function(F){return this.getProviderDatabaseId()===(F!=null?F.getProviderDatabaseId():void 0)};D.prototype.toString=function(){return this.getProviderDatabaseId()};D.prototype.getProviderDatabaseId=function(){return this.dbid};D.prototype.setProviderDatabaseId=function(F){return this.dbid=F!=null?F:""};return D})(z.CloudAPI.CObject);a=(function(){function D(E){this.idstr=E}D.prototype.toString=function(){return this.idstr};return D})();a.AWS_SQS=new a("sqs");a.EMAIL_JSON=new a("email-json");a.SMS=new a("sms");a.EMAIL=new a("email");a.HTTPS=new a("https");a.HTTP=new a("http");a.values=function(){return[a.SMS,a.EMAIL_JSON,a.AWS_SQS,a.EMAIL,a.HTTPS,a.HTTP]};a.valueOf=function(D){D=D!=null?D.toLowerCase():"";switch(D){case"sqs":return a.AWS_SQS;case"email-json":return a.EMAIL_JSON;case"sms":return a.SMS;case"email":return a.EMAIL;case"https":return a.HTTPS;case"http":return a.HTTP;default:return null}};u=(function(E){w(D,E);function D(F){D.__super__.constructor.call(this,F)}D.prototype.hasSupport=function(){return true};D.prototype.confirmSubscription=function(I,G,L,F){var H,J,K;K=[["TopicArn",I],["Token",G]];if(L){K.push(["AuthenticateOnUnsubscribe","true"])}J=this;H=function(M){return J.on_confirm_sub(M,I,F)};return this.awscall("ConfirmSubscription",K,H,F)};D.prototype.createTopic=function(G,F){var H,I,J;J=[["Name",G]];I=this;H=function(K){return I.on_new_topic(K,G,F)};return this.awscall("CreateTopic",J,H,F)};D.prototype.getProviderTermForSubscription=function(F){return"Subscription"};D.prototype.getProviderTermForTopic=function(F){return"Topic"};D.prototype.listTopicSubscriptions=function(K,H,F){var G,I,J;J=[["TopicArn",H]];if(this.aws.ute().vstr(K)){J.push(["NextToken",K])}I=this;G=function(O){var L,N,M;M=I.on_list_subs(O,"/ListSubscriptionsByTopicResponse/ListSubscriptionsByTopicResult"),N=M[0],L=M[1];return F!=null?typeof F.success==="function"?F.success(N,L):void 0:void 0};return this.awscall("ListSubscriptionsByTopic",J,G,F)};D.prototype.listSubscriptions=function(J,F){var G,H,I;I=this.aws.ute().vstr(J)?[["NextToken",J]]:[];H=this;G=function(N){var K,M,L;L=H.on_list_subs(N,"/ListSubscriptionsResponse/ListSubscriptionsResult"),M=L[0],K=L[1];return F!=null?typeof F.success==="function"?F.success(M,K):void 0:void 0};return this.awscall("ListSubscriptions",I,G,F)};D.prototype.listTopics=function(J,F){var G,H,I;I=this.aws.ute().vstr(J)?[["NextToken",J]]:[];H=this;G=function(N){var K,M,L;L=H.munch_topics(N),M=L[0],K=L[1];return F!=null?typeof F.success==="function"?F.success(M,K):void 0:void 0};return this.awscall("ListTopics",I,G,F)};D.prototype.publish=function(I,G,L,F){var H,J,K;K=[["TopicArn",I],["Message",L]];if(this.aws.ute().vstr(G)){K.push(["Subject",G])}J=this;H=function(M){return J.on_pub(M,F)};return this.awscall("Publish",K,H,F)};D.prototype.removeTopic=function(M,K){var I,O,G,L,N,F,H,J;F=[["TopicArn",M]];J=this.aws.cfns(),H=J[0],O=J[1],G=J[2],I=J[3];N=this;L=function(P){var Q;Q=I.getNode(P,"/DeleteTopicResponse");return N.aws.cb_boolean(o(Q),K)};return this.awscall("DeleteTopic",F,L,K)};D.prototype.subscribe=function(I,G,M,L,F){var H,J,K;K=[["Endpoint",L],["Protocol",G.toString()],["TopicArn",I]];J=this;H=function(N){return J.on_new_subsc(N,I,L,G,M,F)};return this.awscall("Subscribe",K,H,F)};D.prototype.unsubscribe=function(O,K){var I,N,G,L,M,F,H,J;F=[["SubscriptionArn",O]];J=this.aws.cfns(),H=J[0],N=J[1],G=J[2],I=J[3];M=this;L=function(P){var Q;Q=I.getNode(P,"/UnsubscribeResponse");return M.aws.cb_boolean(o(Q),K)};return this.awscall("Unsubscribe",F,L,K)};D.prototype.on_pub=function(J,G){var L,K,F,M,H,I;I=this.aws.cfns(),H=I[0],K=I[1],F=I[2],L=I[3];M=L.ffcn(J,"/PublishResponse/PublishResult/MessageId");return this.aws.cb_result(M,G)};D.prototype.on_confirm_sub=function(K,M,L){var N,I,O,F,H,G,J;J=this.aws.cfns(),G=J[0],O=J[1],F=J[2],I=J[3];H=I.ffcn(K,"/ConfirmSubscriptionResponse/ConfirmSubscriptionResult/SubscriptionArn");N=new z.CloudAPI.Platform.Subscription(H);this.aws.cas(N);N.setProviderTopicId(M);return L!=null?typeof L.success==="function"?L.success(N):void 0:void 0};D.prototype.on_new_subsc=function(N,P,J,K,I,O){var Q,L,R,F,H,G,M;M=this.aws.cfns(),G=M[0],R=M[1],F=M[2],L=M[3];H=L.ffcn(N,"/SubscribeResponse/SubscribeResult/SubscriptionArn");Q=new z.CloudAPI.Platform.Subscription(H);this.aws.cas(Q);Q.setEndpointType(K);Q.setEndpoint(J);Q.setDataFormat(I);Q.setProviderTopicId(P);return O!=null?typeof O.success==="function"?O.success(Q):void 0:void 0};D.prototype.on_list_subs=function(L,O){var Q,J,T,H,M,S,N,R,G,F,I,P,K;K=this.aws.cfns(),I=K[0],T=K[1],H=K[2],J=K[3];N=H(L,O+"/Subscriptions/member");S=N.length;R=J.ffcn(L,O+"/NextToken");if(I.vstr(R)){I.debug("ListSubscriptions: more to come, cursor="+R)}G=[];for(M=0;0<=S?M<S:M>S;0<=S?M++:M--){F=J.ffcn(N[M],"SubscriptionArn");Q=new z.CloudAPI.Platform.Subscription(F);this.aws.cas(Q);P=J.ffcn(N[M],"Protocol");Q.setEndpointType(z.CloudAPI.Platform.EndpointType.valueOf(P));Q.setEndpoint(J.ffcn(N[M],"Endpoint"));Q.setProviderOwnerId(J.ffcn(N[M],"Owner"));Q.setProviderTopicId(J.ffcn(N[M],"TopicArn"));G.push(Q)}return[G,R]};D.prototype.munch_topics=function(K){var N,I,Q,G,L,P,M,O,F,H,J;J=this.aws.cfns(),H=J[0],Q=J[1],G=J[2],I=J[3];M=G(K,"/ListTopicsResponse/ListTopicsResult/Topics/member");O=I.ffcn(K,"/ListTopicsResponse/ListTopicsResult/NextToken");if(H.vstr(O)){H.debug("ListTopics: more to come, cursor="+O)}P=M.length;F=[];for(L=0;0<=P?L<P:L>P;0<=P?L++:L--){N=new z.CloudAPI.Platform.Topic();this.aws.cas(N);N.setProviderTopicId(I.ffcn(M[L],"TopicArn"));F.push(N)}return[F,O]};D.prototype.on_new_topic=function(K,F,L){var N,I,O,G,H,M,J;J=this.aws.cfns(),H=J[0],O=J[1],G=J[2],I=J[3];N=new z.CloudAPI.Platform.Topic(F);this.aws.cas(N);M=I.ffcn(K,"/CreateTopicResponse/CreateTopicResult/TopicArn");N.setProviderTopicId(M);return L!=null?typeof L.success==="function"?L.success(N):void 0:void 0};return D})(z.CloudAPI.AbstractSupport);c=(function(D){w(E,D);function E(F){E.__super__.constructor.call(this,F);this.flds=[]}E.prototype.getFields=function(){return this.flds};E.prototype.setFields=function(F){if(F!=null){return this.flds=F}};E.prototype.add=function(F){if(F!=null){return this.flds.push(F)}};return E})(z.CloudAPI.CObject);v=(function(){function D(E,F){this.key=E;this.value=F}D.prototype.equals=function(E){return this.getKey()===(E!=null?E.getKey():void 0)&&this.getValue()===(E!=null?E.getValue():void 0)};D.prototype.toString=function(){return this.key+"="+this.value};D.prototype.getValue=function(){return this.value};D.prototype.getKey=function(){return this.key};D.prototype.setValue=function(E){return this.value=E};D.prototype.setKey=function(E){if((E!=null)&&E.length>0){return this.key=E}};return D})();s=(function(){function D(E){this.cidr=E}D.prototype.getCidr=function(){return this.cidr};D.prototype.setCidr=function(E){return this.cidr=E!=null?E:""};D.prototype.setStatus=function(E){return this.status=E!=null?E:""};D.prototype.getStatus=function(){return this.status};return D})();x=(function(E){w(D,E);function D(F){this.fwId=F;D.__super__.constructor.call(this);this.iprs=[];this.secgrps=[]}D.prototype.setProviderFirewallId=function(F){return this.fwId=F!=null?F:""};D.prototype.getProviderFirewallId=function(){return this.fwId};D.prototype.setIPRanges=function(F){if(F!=null){return this.iprs=F}};D.prototype.getIPRanges=function(){return this.iprs};D.prototype.addIPRange=function(F){if(F!=null){return this.iprs.push(F)}};D.prototype.setNetworkFirewalls=function(F){if(F!=null){return this.secgrps=F}};D.prototype.getNetworkFirewalls=function(){return this.secgrps};D.prototype.addNetworkFirewall=function(F){if(F!=null){return this.secgrps.push(F)}};return D})(z.CloudAPI.CObject);b=(function(D){w(E,D);function E(F){E.__super__.constructor.call(this,F)}E.prototype.hasSupport=function(){return true};E.prototype.getProviderTermForSnapshot=function(F){return"DBSnapshot"};E.prototype.getSnapshot=function(I,F){var G,H,J;J=[["DBSnapshotIdentifier",I]];H=this;G=function(K){return F!=null?typeof F.success==="function"?F.success(H.aws.ute().getFirst(H.munch_snaps(K))):void 0:void 0};return this.awscall("DescribeDBSnapshots",J,G,F)};E.prototype.listSnapshots=function(K,F,G){var H,I,J;J=[];if(this.aws.ute().vstr(F)){J.push(["DBInstanceIdentifier",F])}if(this.aws.ute().vstr(K)){J.push(["Marker",K])}I=this;H=function(L){return G!=null?typeof G.success==="function"?G.success(I.munch_snaps(L)):void 0:void 0};return this.awscall("DescribeDBSnapshots",J,H,G)};E.prototype.getDatabase=function(F,G){var H,I,J;J=[["DBInstanceIdentifier",F]];I=this;H=function(K){return G!=null?typeof G.success==="function"?G.success(I.aws.ute().getFirst(I.munch_dbs(K))):void 0:void 0};return this.awscall("DescribeDBInstances",J,H,G)};E.prototype.getProviderTermForDatabase=function(F){return"Database"};E.prototype.removeDatabase=function(M,P,K){var I,O,G,L,N,F,H,J;F=[["DBInstanceIdentifier",M]];J=this.aws.cfns(),H=J[0],O=J[1],G=J[2],I=J[3];if(H.vstr(P)){F.push(["FinalDBSnapshotIdentifier",P])}else{F.push(["SkipFinalSnapshot",true])}N=this;L=function(Q){var R;R=I.getNode(Q,"/DeleteDBInstanceResponse");return N.aws.cb_boolean(o(R),K)};return this.awscall("DeleteDBInstance",F,L,K)};E.prototype.addAccess=function(O,J,M){var I,K,G,N,P,F,H,L;F=[["DBSecurityGroupName",O]];L=this.aws.cfns(),H=L[0],I=L[1],G=L[2],K=L[3];if(J!=null){if(o(J.cidr)){F.push(["CIDRIP",J.cidr])}else{F.push(["EC2SecurityGroupName",J.SecGroupName],["EC2SecurityGroupOwnerId",J.SecGroupOwner])}}P=this;N=function(Q){var R;R=K.getNode(Q,"/AuthorizeDBSecurityGroupIngressResponse");return P.aws.cb_boolean(o(R),M)};return this.awscall("AuthorizeDBSecurityGroupIngress",F,N,M)};E.prototype.alterDatabase=function(U,H,X,M,F,V,J,Q){var T,R,N,S,W,P,G,O,I,K,L;O=[["DBInstanceIdentifier",U],["ApplyImmediately",J]];L=this.aws.cfns(),I=L[0],R=L[1],N=L[2],T=L[3];if(I.vstr(F)){O.push(["MasterUserPassword",F])}if(I.vstr(X)){O.push(["DBParameterGroupName",X])}if(H!=null){K=H.getEngineVersion();if(I.vstr(K)){O.push(["EngineVersion",K])}K=H.getStorageInGigabytes();if((K!=null)&&!isNaN(K)){O.push(["AllocatedStorage",K])}K=H.getProductSize();if(I.vstr(K)){O.push(["DBInstanceClass",K])}K=H.isHighAvailability();if(o(K)){O.push(["MultiAZ",K])}}G=(M!=null?M.length:void 0)||0;for(P=0;0<=G?P<G:P>G;0<=G?P++:P--){O.push(["DBSecurityGroups.member."+(P+1),M[P]])}if(V!=null){K=V.backupRententionDays;if((K!=null)&&!isNaN(K)){O.push(["BackupRetentionPeriod",K])}K=V.maintenanceWindow;if(K!=null){O.push(["PreferredMaintenanceWindow",K.toString()])}K=V.backupWindow;if(K!=null){O.push(["PreferredBackupWindow",K.toString()])}}W=this;S=function(Y){return W.on_alter_db(Y,Q)};return this.awscall("ModifyDBInstance",O,S,Q)};E.prototype.createFromScratch=function(O,T,R,U,I,J,M){var K,S,V,G,N,Q,F,H,P,L;F=[["AllocatedStorage",T.getStorageInGigabytes()]];S=T.getEngineVersion();L=this.aws.cfns(),H=L[0],V=L[1],G=L[2],K=L[3];F.push(["DBInstanceClass",T.getProductSize()]);F.push(["DBInstanceIdentifier",O]);if(H.vstr(J)){F.push(["DBName",J])}if(H.vstr(S)){F.push(["EngineVersion",S])}F.push(["Engine",T.getEngine()]);F.push(["MasterUserPassword",U]);F.push(["MasterUsername",R]);if((I!=null)&&!isNaN(I)){F.push(["Port",I])}if(T.isHighAvailability()===true){F.push(["MultiAZ",true])}else{P=T.getProviderDataCenterId();if(H.vstr(P)){F.push(["AvailabilityZone",P])}}Q=this;N=function(W){return Q.on_create_db(W,M)};return this.awscall("CreateDBInstance",F,N,M)};E.prototype.createFromLatest=function(M,P,R,K){var I,Q,S,G,L,O,T,F,H,N,J;F=[["TargetDBInstanceIdentifier",M],["SourceDBInstanceIdentifier",P]];F.push(["UseLatestRestorableTime",true]);J=this.aws.cfns(),H=J[0],S=J[1],G=J[2],I=J[3];if((typeof port!=="undefined"&&port!==null)&&!isNaN(port)){F.push(["Port",port])}if(R!=null){T=R.getProductSize();if(H.vstr(T)){F.push(["DBInstanceClass",T])}Q=R.getEngine();if(H.vstr(Q)){F.push(["Engine",Q])}if(R.isHighAvailability()===true){F.push(["MultiAZ",true])}else{N=R.getProviderDataCenterId();if(H.vstr(N)){F.push(["AvailabilityZone",N])}}}O=this;L=function(U){return O.on_create_as_last(U,K)};return this.awscall("RestoreDBInstanceToPointInTime",F,L,K)};E.prototype.createFromSnapshot=function(N,U,R,I,L){var J,Q,S,G,M,P,T,F,H,O,K;F=[["DBInstanceIdentifier",N],["DBSnapshotIdentifier",U]];K=this.aws.cfns(),H=K[0],S=K[1],G=K[2],J=K[3];if((I!=null)&&!isNaN(I)){F.push(["Port",I])}if(R!=null){T=R.getProductSize();if(H.vstr(T)){F.push(["DBInstanceClass",T])}Q=R.getEngine();if(H.vstr(Q)){F.push(["Engine",Q])}if(R.isHighAvailability()===true){F.push(["MultiAZ",true])}else{O=R.getProviderDataCenterId();if(H.vstr(O)){F.push(["AvailabilityZone",O])}}}P=this;M=function(V){return P.on_create_as_snap(V,L)};return this.awscall("RestoreDBInstanceFromDBSnapshot",F,M,L)};E.prototype.createFromTimestamp=function(M,R,T,N,K){var I,S,U,G,L,Q,V,F,P,H,O,J;F=[["TargetDBInstanceIdentifier",M],["SourceDBInstanceIdentifier",R]];J=this.aws.cfns(),H=J[0],U=J[1],G=J[2],I=J[3];if((typeof port!=="undefined"&&port!==null)&&!isNaN(port)){F.push(["Port",port])}P=H.toISO8601String(N,5);F.push(["RestoreTime",P]);if(T!=null){V=T.getProductSize();if(H.vstr(V)){F.push(["DBInstanceClass",V])}S=T.getEngine();if(H.vstr(S)){F.push(["Engine",S])}if(T.isHighAvailability()===true){F.push(["MultiAZ",true])}else{O=T.getProviderDataCenterId();if(H.vstr(O)){F.push(["AvailabilityZone",O])}}}Q=this;L=function(W){return Q.on_create_as_last(W,K)};return this.awscall("RestoreDBInstanceToPointInTime",F,L,K)};E.prototype.getConfiguration=function(J,F){var G,H,I;I=[["DBParameterGroupName",J]];H=this;G=function(N){var K,M,L;L=H.munch_cfgns(N),M=L[0],K=L[1];return F!=null?typeof F.success==="function"?F.success(H.aws.ute().getFirst(M)):void 0:void 0};return this.awscall("DescribeDBParameterGroups",I,G,F)};E.prototype.getDatabaseEngines=function(F){var G,H;H=this;G=function(I){return F!=null?typeof F.success==="function"?F.success(H.munch_engines(I)):void 0:void 0};return this.awscall("DescribeDBEngineVersions",[],G,F)};E.prototype.createConfiguration=function(L,K,J,F){var G,H,I;I=[["DBParameterGroupName",L],["Description",K]];I.push(["DBParameterGroupFamily",J.dbFamily]);H=this;G=function(M){return H.on_new_cfgn(M,F)};return this.awscall("CreateDBParameterGroup",I,G,F)};E.prototype.isSupportsFirewallRules=function(){return true};E.prototype.isSupportsHighAvailability=function(){return true};E.prototype.isSupportsLowAvailability=function(){return true};E.prototype.isSupportsMaintenanceWindows=function(){return true};E.prototype.isSupportsSnapshots=function(){return true};E.prototype.listConfigurations=function(J,F){var G,H,I;I=[];if(this.aws.ute().vstr(J)){I.push(["Marker",J])}H=this;G=function(N){var K,M,L;L=H.munch_cfgns(N),M=L[0],K=L[1];return F!=null?typeof F.success==="function"?F.success(M,K):void 0:void 0};return this.awscall("DescribeDBParameterGroups",I,G,F)};E.prototype.listDBFirewalls=function(J,F){var G,H,I;I=[];if(this.aws.ute().vstr(J)){I.push(["Marker",J])}H=this;G=function(N){var K,M,L;L=H.munch_dbfwalls(N),M=L[0],K=L[1];return F!=null?typeof F.success==="function"?F.success(M,K):void 0:void 0};return this.awscall("DescribeDBSecurityGroups",I,G,F)};E.prototype.listDatabases=function(F){var G,H;H=this;G=function(I){return F!=null?typeof F.success==="function"?F.success(H.munch_dbs(I)):void 0:void 0};return this.awscall("DescribeDBInstances",[],G,F)};E.prototype.listParameters=function(N,I,H,J){var K,M,G,F,L;G=[["DBParameterGroupName",I]];if(this.aws.ute().vstr(N)){G.push(["Marker",N])}L=z.CloudAPI.Platform.ConfigurationParameter;switch(H){case L.SYSTEM:F="system";break;case L.ENGINE:F="engine-default";break;case L.USER:F="user";break;default:F=""}if(this.aws.ute().vstr(F)){G.push(["Source",F])}M=this;K=function(R){var O,Q,P;P=M.munch_params(R),Q=P[0],O=P[1];return J!=null?typeof J.success==="function"?J.success(Q,O):void 0:void 0};return this.awscall("DescribeDBParameters",G,K,J)};E.prototype.removeConfiguration=function(K,L){var I,O,G,M,N,F,H,J;F=[["DBParameterGroupName",K]];J=this.aws.cfns(),H=J[0],O=J[1],G=J[2],I=J[3];N=this;M=function(P){var Q;Q=I.getNode(P,"/DeleteDBParameterGroupResponse");return N.aws.cb_boolean(o(Q),L)};return this.awscall("DeleteDBParameterGroup",F,M,L)};E.prototype.removeSnapshot=function(O,K){var I,N,G,L,M,F,H,J;F=[["DBSnapshotIdentifier",O]];J=this.aws.cfns(),H=J[0],N=J[1],G=J[2],I=J[3];M=this;L=function(P){var Q;Q=I.getNode(P,"/DeleteDBSnapshotResponse");return M.aws.cb_boolean(o(Q),K)};return this.awscall("DeleteDBSnapshot",F,L,K)};E.prototype.resetConfiguration=function(L,I,M){var P,J,Q,G,N,O,F,H,K;F=[["DBParameterGroupName",L]];P=this.pack_cfgn_params(I,F);if(!P){F.push(["ResetAllParameters",true])}K=this.aws.cfns(),H=K[0],Q=K[1],G=K[2],J=K[3];O=this;N=function(R){var S;S=J.getNode(R,"/ResetDBParameterGroupResponse");return O.aws.cb_boolean(o(S),M)};return this.awscall("ResetDBParameterGroup",F,N,M)};E.prototype.restart=function(M,N,K){var I,P,G,L,O,F,H,J;F=[["DBInstanceIdentifier",M]];J=this.aws.cfns(),H=J[0],P=J[1],G=J[2],I=J[3];O=this;L=function(Q){var R;R=I.getNode(Q,"/RebootDBInstanceResponse");return O.aws.cb_boolean(o(R),K)};return this.awscall("RebootDBInstance",F,L,K)};E.prototype.revokeAccess=function(O,J,M){var I,K,G,N,P,F,H,L;F=[["DBSecurityGroupName",O]];L=this.aws.cfns(),H=L[0],I=L[1],G=L[2],K=L[3];if(J!=null){if(o(J.cidr)){F.push(["CIDRIP",J.cidr])}else{F.push(["EC2SecurityGroupName",J.SecGroupName],["EC2SecurityGroupOwnerId",J.SecGroupOwner])}}P=this;N=function(Q){var R;R=K.getNode(Q,"/RevokeDBSecurityGroupIngressResponse");return P.aws.cb_boolean(o(R),M)};return this.awscall("RevokeDBSecurityGroupIngress",F,N,M)};E.prototype.updateConfiguration=function(L,I,M){var J,P,G,N,O,F,H,K;F=[["DBParameterGroupName",L]];this.pack_cfgn_params(I,F);K=this.aws.cfns(),H=K[0],P=K[1],G=K[2],J=K[3];O=this;N=function(Q){var R;R=J.getNode(Q,"/ModifyDBParameterGroupResponse");return O.aws.cb_boolean(o(R),M)};return this.awscall("ModifyDBParameterGroup",F,N,M)};E.prototype.snapshot=function(F,J,G){var H,I,K;K=[["DBInstanceIdentifier",F],["DBSnapshotIdentifier",J]];I=this;H=function(L){return I.on_new_snap(L,G)};return this.awscall("CreateDBSnapshot",K,H,G)};E.prototype.getDBFirewall=function(G,F){var H,I,J;J=[["DBSecurityGroupName",G]];I=this;H=function(O){var K,L,N,M;M=I.munch_dbfwalls(O),N=M[0],L=M[1];K=(N!=null)&&(N!=null?N.length:void 0)>0?N[0]:null;return F!=null?typeof F.success==="function"?F.success(K):void 0:void 0};return this.awscall("DescribeDBSecurityGroups",J,H,F)};E.prototype.removeDBFirewall=function(F,L){var J,O,H,M,N,G,I,K;G=[["DBSecurityGroupName",F]];K=this.aws.cfns(),I=K[0],O=K[1],H=K[2],J=K[3];N=this;M=function(P){var Q;Q=J.getNode(P,"/DeleteDBSecurityGroupResponse");return N.aws.cb_boolean(o(Q),L)};return this.awscall("DeleteDBSecurityGroup",G,M,L)};E.prototype.createDBFirewall=function(G,K,F){var H,I,J;J=[["DBSecurityGroupName",G],["DBSecurityGroupDescription",K]];I=this;H=function(L){return I.on_new_dbfwall(L,F)};return this.awscall("CreateDBSecurityGroup",J,H,F)};E.prototype.on_new_dbfwall=function(J,K){var L,H,M,F,N,G,I;I=this.aws.cfns(),G=I[0],M=I[1],F=I[2],H=I[3];N=F(J,"/CreateDBSecurityGroupResponse/CreateDBSecurityGroupResult/DBSecurityGroup")[0];L=this.munch_one_dbfw(N);return K!=null?typeof K.success==="function"?K.success(L):void 0:void 0};E.prototype.on_new_cfgn=function(K,G){var M,L,F,I,H,J;J=this.aws.cfns(),H=J[0],L=J[1],F=J[2],M=J[3];I=F(K,"/CreateDBParameterGroupResponse/CreateDBParameterGroupResult/DBParameterGroup")[0];return this.aws.cb_boolean(o(I),G)};E.prototype.munch_engines=function(L){var Q,I,M,P,O,S,G,K,R,N,F,H,J;J=this.aws.cfns(),H=J[0],S=J[1],G=J[2],I=J[3];N=G(L,"/DescribeDBEngineVersionsResponse/DescribeDBEngineVersionsResult/DBEngineVersions/DBEngineVersion");R=N.length;F=[];for(K=0;0<=R?K<R:K>R;0<=R?K++:K--){O=I.ffcn(N[K],"DBParameterGroupFamily");M=I.ffcn(N[K],"Engine");P=I.ffcn(N[K],"EngineVersion");Q=new z.CloudAPI.Platform.DatabaseEngine(O,M,P);this.aws.cas(Q);Q.setDescription(I.ffcn(N[K],"DBEngineDescription")+"|"+I.ffcn(N[K],"DBEngineVersionDescription"));F.push(Q)}return F};E.prototype.on_create_as_last=function(J,K){var L,H,M,F,N,G,I;I=this.aws.cfns(),G=I[0],M=I[1],F=I[2],H=I[3];N=F(J,"/RestoreDBInstanceToPointInTimeResponse/RestoreDBInstanceToPointInTimeResult/DBInstance")[0];L=this.on_one_db_inst(N);return K!=null?typeof K.success==="function"?K.success(L):void 0:void 0};E.prototype.on_create_as_snap=function(J,K){var L,H,M,F,N,G,I;I=this.aws.cfns(),G=I[0],M=I[1],F=I[2],H=I[3];N=F(J,"/RestoreDBInstanceFromDBSnapshotResponse/RestoreDBInstanceFromDBSnapshotResult/DBInstance")[0];L=this.on_one_db_inst(N);return K!=null?typeof K.success==="function"?K.success(L):void 0:void 0};E.prototype.on_create_db=function(J,K){var L,H,M,F,N,G,I;I=this.aws.cfns(),G=I[0],M=I[1],F=I[2],H=I[3];N=F(J,"/CreateDBInstanceResponse/CreateDBInstanceResult/DBInstance")[0];L=this.on_one_db_inst(N);return K!=null?typeof K.success==="function"?K.success(L):void 0:void 0};E.prototype.on_alter_db=function(J,K){var L,H,M,F,N,G,I;I=this.aws.cfns(),G=I[0],M=I[1],F=I[2],H=I[3];N=F(J,"/ModifyDBInstanceResponse/ModifyDBInstanceResult/DBInstance")[0];L=this.on_one_db_inst(N);return K!=null?typeof K.success==="function"?K.success(L):void 0:void 0};E.prototype.munch_cfgns=function(L){var O,I,R,J,G,M,Q,N,P,F,H,K;K=this.aws.cfns(),H=K[0],R=K[1],G=K[2],I=K[3];N=G(L,"/DescribeDBParameterGroupsResponse/DescribeDBParameterGroupsResult/DBParameterGroups/DBParameterGroup");P=I.ffcn(L,"/DescribeDBParameterGroupsResponse/DescribeDBParameterGroupsResult/Marker");if(H.vstr(P)){H.debug("ListDBParamGroups: more to come, cursor="+P)}Q=N.length;F=[];for(M=0;0<=Q?M<Q:M>Q;0<=Q?M++:M--){J=I.ffcn(N[M],"DBParameterGroupName");O=new z.CloudAPI.Platform.DatabaseConfiguration(J);this.aws.cas(O);O.setDatabaseFlavor(I.ffcn(N[M],"DBParameterGroupFamily"));O.setDescription(I.ffcn(N[M],"Description"));F.push(O)}return[F,P]};E.prototype.munch_one_dbfw=function(S){var O,I,K,P,R,L,F,J,H,Q,N,G,M;M=this.aws.cfns(),G=M[0],R=M[1],F=M[2],K=M[3];L=K.ffcn(S,"DBSecurityGroupName");O=new z.CloudAPI.Platform.DBFirewall(L);this.aws.cas(O);O.setProviderOwnerId(K.ffcn(S,"OwnerId"));O.setDescription(K.ffcn(S,"DBSecurityGroupDescription"));P=F(S,"EC2SecurityGroups/EC2SecurityGroup");Q=(P!=null?P.length:void 0)||0;for(H=0;0<=Q?H<Q:H>Q;0<=Q?H++:H--){L=K.ffcn(P[H],"EC2SecurityGroupName");N=new z.CloudAPI.Network.Firewall(L);this.aws.cas(N);N.setProviderOwnerId(K.ffcn(P[H],"EC2SecurityGroupOwnerId"));N.setCurrentState(K.ffcn(P[H],"Status"));O.addNetworkFirewall(N)}J=F(S,"IPRanges/IPRange");Q=(J!=null?J.length:void 0)||0;for(H=0;0<=Q?H<Q:H>Q;0<=Q?H++:H--){I=K.ffcn(J[H],"CIDRIP");N=new z.CloudAPI.Platform.IPRange(I);N.setStatus(K.ffcn(J[H],"Status"));O.addIPRange(N)}return O};E.prototype.munch_dbfwalls=function(K){var N,I,Q,G,L,P,M,O,F,H,J;J=this.aws.cfns(),H=J[0],Q=J[1],G=J[2],I=J[3];M=G(K,"/DescribeDBSecurityGroupsResponse/DescribeDBSecurityGroupsResult/DBSecurityGroups/DBSecurityGroup");O=I.ffcn(K,"/DescribeDBSecurityGroupsResponse/DescribeDBSecurityGroupsResult/Marker");if(H.vstr(O)){H.debug("ListDBSecGroups: more to come, cursor="+O)}P=M.length;F=[];for(L=0;0<=P?L<P:L>P;0<=P?L++:L--){N=this.munch_one_dbfw(M[L]);F.push(N)}return[F,O]};E.prototype.munch_dbs=function(K){var I,O,G,L,N,M,F,H,J;J=this.aws.cfns(),H=J[0],O=J[1],G=J[2],I=J[3];M=G(K,"/DescribeDBInstancesResponse/DescribeDBInstancesResult/DBInstances/DBInstance");N=M.length;F=[];for(L=0;0<=N?L<N:L>N;0<=N?L++:L--){F.push(this.on_one_db_inst(M[L]))}return F};E.prototype.on_one_db_inst=function(P){var N,K,J,G,O,H,Q,F,I,M,L;L=this.aws.cfns(),I=L[0],O=L[1],H=L[2],K=L[3];F=K.ffcn(P,"DBName");N=new z.CloudAPI.Platform.Database();this.aws.cas(N);N.addTag("DBName",F);N.setCurrentState(K.ffcn(P,"DBInstanceStatus"));J=K.ffcn(P,"Engine");G=K.ffcn(P,"EngineVersion");M=new z.CloudAPI.Platform.DatabaseEngine("",J,G);N.setEngine(M);Q=H(P,"Endpoint")[0];N.setHostName(K.ffcn(Q,"Address"));M=K.ffcn(Q,"Port");N.setHostPort(Number(M));N.setProviderDatabaseId(K.ffcn(P,"DBInstanceIdentifier"));N.setProviderDataCenterId(K.ffcn(P,"AvailabilityZone"));M=I.setISO8601(new Date(),K.ffcn(P,"InstanceCreateTime"));N.setCreationTimestamp(M);M=K.ffcn(P,"AllocatedStorage");N.setAllocatedStorageInGb(Number(M));M=K.ffcn(P,"DBInstanceClass");N.setProductSize(M);N.setAdminUser(K.ffcn(P,"MasterUsername"));M=K.ffcn(P,"BackupRetentionPeriod");N.setSnapshotRetentionInDays(Number(M));M=I.setISO8601(new Date(),K.ffcn(P,"LatestRestorableTime"));N.setRecoveryPointTimestamp(M);M=K.ffcn(P,"PreferredBackupWindow");N.setSnapshotWindow(this.split_time_window(M)||this.split_time_window_2(M));M=K.ffcn(P,"PreferredMaintenanceWindow");N.setMaintenanceWindow(this.split_time_window(M)||this.split_time_window_2(M));return N};E.prototype.split_time_window_2=function(G){var F,J,H,I;H=/(\d{2}):(\d{2})-(\d{2}):(\d{2})/;J=G.match(H);if(!((J!=null)&&J.length===5)){return null}I=z.CloudAPI;F=new I.TimeWindow();F.setStartHour(Number(J[1]));F.setStartMinute(Number(J[2]));F.setEndHour(Number(J[3]));F.setEndMinute(Number(J[4]));return F};E.prototype.split_time_window=function(G){var F,J,H,I;H=/([a-zA-Z]+):(\d{2}):(\d{2})-([a-zA-Z]+):(\d{2}):(\d{2})/;J=G.match(H);if(!((J!=null)&&J.length===7)){return null}I=z.CloudAPI;F=new I.TimeWindow();F.setStartDayOfWeek(I.DayOfWeek.valueOf(J[1]));F.setStartHour(Number(J[2]));F.setStartMinute(Number(J[3]));F.setEndDayOfWeek(I.DayOfWeek.valueOf(J[4]));F.setEndHour(Number(J[5]));F.setEndMinute(Number(J[6]));return F};E.prototype.munch_params=function(K){var N,I,R,G,L,Q,M,S,P,F,H,O,J;J=this.aws.cfns(),H=J[0],R=J[1],G=J[2],I=J[3];M=G(K,"/DescribeDBParametersResponse/DescribeDBParametersResult/Parameters/Parameter");P=I.ffcn(K,"/DescribeDBParametersResponse/DescribeDBParametersResult/Marker");if(H.vstr(P)){H.debug("ListDBParams: more to come, cursor="+P)}F=[];Q=M.length;for(L=0;0<=Q?L<Q:L>Q;0<=Q?L++:L--){O=I.ffcn(M[L],"ParameterValue");S=I.ffcn(M[L],"ParameterName");N=new z.CloudAPI.Platform.ConfigurationParameter(S,O);this.aws.cas(N);N.setModifiable("true"===I.ffcn(M[L],"IsModifiable"));N.setDataType(I.ffcn(M[L],"DataType"));N.setDescription(I.ffcn(M[L],"Description"));N.setSource(I.ffcn(M[L],"Source"));N.setDynamic("dynamic"===I.ffcn(M[L],"ApplyType"));F.push(N)}return[F,P]};E.prototype.pack_cfgn_params=function(M,H){var I,J,G,L,F,K;L=null;J=(M!=null?M.length:void 0)||0;for(I=0;0<=J?I<J:I>J;0<=J?I++:I--){L="Parameters.member."+(I+1);G=M[I].isImmediate()?"immediate":"pending-reboot";K=M[I].getValue();F=M[I].getName();if(o(K)){H.push([L+".ParameterValue",K])}H.push([L+".ParameterName",F]);H.push([L+".ApplyMethod",G])}if(L!=null){return true}else{return false}};E.prototype.munch_snaps=function(K){var I,O,G,L,N,M,F,H,J;J=this.aws.cfns(),H=J[0],O=J[1],G=J[2],I=J[3];M=G(K,"/DescribeDBSnapshotsResponse/DescribeDBSnapshotsResult/DBSnapshots/DBSnapshot");N=M.length;F=[];for(L=0;0<=N?L<N:L>N;0<=N?L++:L--){F.push(this.munch_one_snap(M[L]))}return F};E.prototype.munch_one_snap=function(N){var K,I,M,F,H,G,L,J;J=this.aws.cfns(),G=J[0],M=J[1],F=J[2],I=J[3];H=I.ffcn(N,"DBSnapshotIdentifier");K=new z.CloudAPI.Platform.DatabaseSnapshot(H);this.aws.cas(K);K.addTag("Port",I.ffcn(N,"Port"));K.addTag("Engine",I.ffcn(N,"Engine"));K.setCurrentState(I.ffcn(N,"Status"));K.addTag("AvailabilityZone",I.ffcn(N,"AvailabilityZone"));K.addTag("EngineVersion",I.ffcn(N,"EngineVersion"));K.setProviderDatabaseId(I.ffcn(N,"DBInstanceIdentifier"));L=I.ffcn(N,"AllocatedStorage");K.setStorageInGigabytes(Number(L));L=G.setISO8601(new Date(),I.ffcn(N,"InstanceCreateTime"));K.setSnapshotTimestamp(L);K.setAdminUser(I.ffcn(N,"MasterUsername"));return K};E.prototype.on_new_snap=function(J,K){var L,H,M,F,N,G,I;I=this.aws.cfns(),G=I[0],M=I[1],F=I[2],H=I[3];N=F(J,"/CreateDBSnapshotResponse/CreateDBSnapshotResult/DBSnapshot")[0];L=N!=null?this.munch_one_snap(N):null;return K!=null?typeof K.success==="function"?K.success(L):void 0:void 0};return E})(z.CloudAPI.AbstractSupport);q=(function(E){w(D,E);function D(F){this.snap=F;D.__super__.constructor.call(this)}D.prototype.equals=function(F){return this.getProviderSnapshotId()===(F!=null?F.getProviderSnapshotId():void 0)};D.prototype.toString=function(){return this.getProviderSnapshotId()};D.prototype.getProviderSnapshotId=function(){return this.snap};D.prototype.getSnapshotTimestamp=function(){return this.tstamp};D.prototype.setProviderSnapshotId=function(F){return this.snap=F!=null?F:""};D.prototype.setSnapshotTimestamp=function(F){if(F!=null){return this.tstamp=F}};D.prototype.getProviderDatabaseId=function(){return this.dbId};D.prototype.setProviderDatabaseId=function(F){return this.dbId=F!=null?F:""};D.prototype.getAdminUser=function(){return this.admin};D.prototype.setAdminUser=function(F){return this.admin=F!=null?F:""};D.prototype.getStorageInGigabytes=function(){return this.gbSize};D.prototype.setStorageInGigabytes=function(F){if((F!=null)&&!isNaN(F)){return this.gbSize=F}};return D})(z.CloudAPI.CObject);k=(function(D){w(E,D);function E(F,H,G){this.dbGroup=F;this.engId=H;this.engVer=G;E.__super__.constructor.call(this)}E.prototype.toString=function(){return[this.dbgroup||"",this.engId||"",this.engVer||""].join(" | ").trim().replace(/(^\||\|$)/g,"").trim()};E.prototype.setFamily=function(F){return this.dbGroup=F!=null?F:""};E.prototype.getFamily=function(){return this.dbGroup};E.prototype.setProviderEngineId=function(F){return this.engId=F!=null?F:""};E.prototype.getProviderEngineId=function(){return this.engId};E.prototype.setVersion=function(F){return this.engVer=F!=null?F:""};E.prototype.getVersion=function(){return this.engVer};E.prototype.isMySQL=function(){var F;return((F=this.engId)!=null?F:"").toLowerCase().indexOf("mysql")>=0};return E})(z.CloudAPI.CObject);A=(function(){function D(){}D.prototype.setProviderDataCenterId=function(E){return this.zone=E!=null?E:""};D.prototype.getProviderDataCenterId=function(){return this.zone};D.prototype.setStorageInGigabytes=function(E){if((E!=null)&&!isNaN(E)){return this.gbSize=E}};D.prototype.getStorageInGigabytes=function(){return this.gbSize};D.prototype.setProductSize=function(E){return this.dbSize=E};D.prototype.getProductSize=function(){return this.dbSize};D.prototype.getEngineVersion=function(){return this.engineVersion};D.prototype.setEngineVersion=function(E){return this.engineVersion=E!=null?E:""};D.prototype.getEngine=function(){return this.engine};D.prototype.setEngine=function(E){return this.engine=E!=null?E:""};D.prototype.setHighAvailability=function(E){return this.highAvail=true===E};D.prototype.isHighAvailability=function(){return this.highAvail};return D})();B=(function(){function D(){}D.prototype.equals=function(F,E){};D.prototype.toString=function(E){};D.prototype.getName=function(E){};D.prototype.getLocation=function(E){};D.prototype.setName=function(F,E){};D.prototype.isActive=function(E){};D.prototype.setActive=function(F,E){};D.prototype.getProviderOwnerId=function(E){};D.prototype.setProviderOwnerId=function(F,E){};D.prototype.getAliases=function(E){};D.prototype.getDnsName=function(E){};D.prototype.getProviderDistributionId=function(E){};D.prototype.getLogDirectory=function(E){};D.prototype.getLogName=function(E){};D.prototype.isDeployed=function(E){};D.prototype.setAliases=function(F,E){};D.prototype.setDeployed=function(F,E){};D.prototype.setDnsName=function(F,E){};D.prototype.setLocation=function(F,E){};D.prototype.setProviderDistributionId=function(F,E){};D.prototype.setLogDirectory=function(F,E){};D.prototype.setLogName=function(F,E){};return D})();e=(function(D){w(E,D);function E(F){E.__super__.constructor.call(this,F)}E.prototype.list=function(J,F){var G,H,I;I=[];if(this.aws.ute().vstr(J)){I.push(["NextToken",J])}H=this;G=function(N){var K,M,L;L=H.munch_xml(N),M=L[0],K=L[1];return F!=null?typeof F.success==="function"?F.success(M,K):void 0:void 0};return this.awscall("ListDomains",I,G,F)};E.prototype.query=function(L,G,F,H){var I,J,K;K=[["SelectExpression",G]];if(this.aws.ute().vstr(L)){K.push(["NextToken",L])}if(F){K.push(["ConsistentRead","true"])}J=this;I=function(P){var M,O,N;N=J.munch_kvals(P),O=N[0],M=N[1];return H!=null?typeof H.success==="function"?H.success(O,M):void 0:void 0};return this.awscall("Select",K,I,H)};E.prototype.hasSupport=function(){return true};E.prototype.getItemCount=function(F,G){var H,I,K,J;J=["select count(*) from `",F,"`"].join("");K=[["SelectExpression",J]];I=this;H=function(L){return I.on_item_count(L,G)};return this.awscall("Select",K,H,G)};E.prototype.getItemNames=function(F,G){var H,I,K,J;J=["select itemName() from `",F,"`"].join("");K=[["SelectExpression",J]];I=this;H=function(L){return I.on_list_items(L,G)};return this.awscall("Select",K,H,G)};E.prototype.getKeyCount=function(G,J,H){var I,F;F=H!=null?H.success:void 0;I=this;if(H!=null){H.success=function(K){return I.on_key_count(K,F,H)}}return this.getKeyValuePairs(G,J,false,H)};E.prototype.addKeyValuePairs=function(G,I,F,H){return this.upsert_kvals(G,I,F,"false",H)};E.prototype.createDatabase=function(G,K,F){var H,I,J;J=[["DomainName",G]];I=this;H=function(M){var L;L=new z.CloudAPI.Platform.KeyValueDatabase(G);return F!=null?typeof F.success==="function"?F.success(L):void 0:void 0};return this.awscall("CreateDomain",J,H,F)};E.prototype.getKeyValuePairs=function(G,K,F,H){var I,J,L;L=[["DomainName",G],["ItemName",K]];if(F){L.push(["ConsistentRead","true"])}J=this;I=function(M){return J.munch_atts(M,K,H)};return this.awscall("GetAttributes",L,I,H)};E.prototype.getDatabase=function(H,G){var I,F;F=G!=null?G.success:void 0;I=this;if(G!=null){G.success=function(J){return I.on_get_one_db(J,H,F,G)}}return this.list("",G)};E.prototype.getProviderTermForDatabase=function(F){return"Simple DB"};E.prototype.isSupportsKeyValueDatabases=function(){return true};E.prototype.removeKeyValuePairs=function(R,Q,G,J){var N,K,I,L,H,M,F,P,O;F=[["DomainName",R],["ItemName",Q]];L=(G!=null?G.length:void 0)||0;P=this.aws.ute();for(I=0;0<=L?I<L:I>L;0<=L?I++:I--){O=G[I].getValue();H=G[I].getKey();N="Attribute."+I;F.push([N+".Name",H]);if(o(O)){F.push([N+".Value",O])}}if(P.isDbg()&&L>0){P.debug("keyValuePairs:remove:\n"+P.jsonStr(F))}M=this;K=function(S){return M.aws.cb_boolean(true,J)};return this.awscall("DeleteAttributes",F,K,J)};E.prototype.removeItem=function(F,H,G){return this.removeKeyValuePairs(F,H,[],G)};E.prototype.removeDatabase=function(F,G){var H,I,J;J=[["DomainName",F]];I=this;H=function(K){return I.aws.cb_boolean(true,G)};return this.awscall("DeleteDomain",J,H,G)};E.prototype.replaceKeyValuePairs=function(G,I,F,H){return this.upsert_kvals(G,I,F,"true",H)};E.prototype.on_key_count=function(I,G,H){var J,F;F=I!=null?I.getFields():[];J=F!=null?F.length:0;if(H!=null){H.success=G}return this.aws.cb_result(Number(J),H)};E.prototype.on_item_count=function(J,G){var M,L,K,F,H,I;I=this.aws.cfns(),H=I[0],K=I[1],F=I[2],L=I[3];M=L.ffcn(J,"/SelectResponse/SelectResult/Item/Attribute/Value");M=H.vstr(M)?Number(M):Number(0);return this.aws.cb_result(M,G)};E.prototype.on_list_items=function(L,N){var I,Q,F,M,P,O,K,H,G,J;J=this.aws.cfns(),G=J[0],Q=J[1],F=J[2],I=J[3];O=F(L,"/SelectResponse/SelectResult/Item");P=O.length;K=[];for(M=0;0<=P?M<P:M>P;0<=P?M++:M--){H=I.ffcn(O[M],"Name");K.push(new z.CloudAPI.Platform.KeyValueItem(H))}return N!=null?typeof N.success==="function"?N.success(K):void 0:void 0};E.prototype.on_get_one_db=function(L,H,F,G){var I,J,K;J=L.length;K=null;for(I=0;0<=J?I<J:I>J;0<=J?I++:I--){if(L[I].getProviderDatabaseId()===H){K=L[I];break}}return typeof F==="function"?F(K):void 0};E.prototype.upsert_kvals=function(T,S,G,N,K){var P,L,I,M,H,O,F,R,Q,J;F=[["DomainName",T],["ItemName",S]];M=(G!=null?G.length:void 0)||0;R=this.aws.ute();for(I=0;0<=M?I<M:I>M;0<=M?I++:I--){Q=(J=G[I].getValue())!=null?J:"";H=G[I].getKey();P="Attribute."+I;F.push([P+".Name",H],[P+".Value",Q],[P+".Replace",N])}if(R.isDbg()&&M>0){R.debug("keyValuePairs:upsert:\n"+R.jsonStr(F))}O=this;L=function(U){return O.aws.cb_boolean(true,K)};return this.awscall("PutAttributes",F,L,K)};E.prototype.munch_kvals=function(V){var U,N,S,R,M,Q,K,L,P,T,I,O,W,F,G,J,H;H=this.aws.cfns(),G=H[0],R=H[1],M=H[2],S=H[3];L=M(V,"/SelectResponse/SelectResult/Item");F=S.ffcn(V,"/SelectResponse/SelectResult/NextToken");if(G.vstr(F)){G.debug("Select.get-keyvals: more to come, cursor="+F)}K=L.length;I=[];for(Q=0;0<=K?Q<K:Q>K;0<=K?Q++:Q--){W=S.ffcn(L[Q],"Name");U=new z.CloudAPI.Platform.KeyValueItem(W);I.push(U);N=M(L[Q],"Attribute");T=(N!=null?N.length:void 0)||0;for(P=0;0<=T?P<T:P>T;0<=T?P++:P--){J=M(N[P],"Value")[0];if(J!=null){J=R(J)}O=S.ffcn(N[P],"Name");U.add(new z.CloudAPI.Platform.KeyValuePair(O,J))}}if(G.isDbg()){G.debug("Select.get-keyvals: number of rows returned = "+I.length)}return[I,F]};E.prototype.munch_atts=function(L,F,N){var P,J,S,G,M,R,O,I,H,Q,K;K=this.aws.cfns(),H=K[0],S=K[1],G=K[2],J=K[3];O=G(L,"/GetAttributesResponse/GetAttributesResult/Attribute");R=O.length;P=new z.CloudAPI.Platform.KeyValueItem(F);for(M=0;0<=R?M<R:M>R;0<=R?M++:M--){Q=G(O[M],"Value")[0];if(Q!=null){Q=S(Q)}I=J.ffcn(O[M],"Name");P.add(new z.CloudAPI.Platform.KeyValuePair(I,Q))}return N!=null?typeof N.success==="function"?N.success(P):void 0:void 0};E.prototype.munch_xml=function(K){var I,Q,F,L,P,N,M,H,O,G,J;J=this.aws.cfns(),G=J[0],Q=J[1],F=J[2],I=J[3];N=F(K,"/ListDomainsResponse/ListDomainsResult/DomainName");O=I.ffcn(K,"/ListDomainsResponse/ListDomainsResult/NextToken");if(G.vstr(O)){G.debug("ListDomains: more to come, cursor="+O)}P=N.length;M=[];for(L=0;0<=P?L<P:L>P;0<=P?L++:L--){H=Q(N[L]);M.push(new z.CloudAPI.Platform.KeyValueDatabase(H))}return[M,O]};return E})(z.CloudAPI.AbstractSupport);j=(function(E){w(D,E);function D(F){this.subId=F;D.__super__.constructor.call(this)}D.prototype.toString=function(){return this.getProviderSubscriptionId()+"|"+this.getProviderTopicId()};D.prototype.getProviderSubscriptionId=function(){return this.subId};D.prototype.setProviderSubscriptionId=function(F){return this.subId=F!=null?F:""};D.prototype.setEndpointType=function(F){if(F!=null){return this.endptType=F}};D.prototype.getEndpointType=function(){return this.endptType};D.prototype.setEndpoint=function(F){return this.endpt=F!=null?F:""};D.prototype.getEndpoint=function(){return this.endpt};D.prototype.setDataFormat=function(F){if(F!=null){return this.fmt=F}};D.prototype.getDataFormat=function(){return this.fmt};D.prototype.getProviderTopicId=function(){return this.topicId};D.prototype.setProviderTopicId=function(F){return this.topicId=F!=null?F:""};return D})(z.CloudAPI.CObject);y=(function(D){w(E,D);function E(F){E.__super__.constructor.call(this,F)}E.prototype.toString=function(){return this.getName()+"|"+this.getProviderTopicId()};E.prototype.isActive=function(){return true};E.prototype.setActive=function(F){};E.prototype.getProviderTopicId=function(){return this.topicId};E.prototype.setProviderTopicId=function(F){return this.topicId=F!=null?F:""};return E})(z.CloudAPI.CObject);g=(function(){function D(I,G,H,F,E){this.ec2=I;this.sdb=G;this.sns=H;this.sqs=F;this.rds=E;this.pubsub=new z.CloudAPI.Platform.PushNotificationSupport(this.sns);this.kvds=new z.CloudAPI.Platform.KeyValueDatabaseSupport(this.sdb);this.queue=new z.CloudAPI.Platform.MessageQueueSupport(this.sqs);this.rdbs=new z.CloudAPI.Platform.RelationalDatabaseSupport(this.rds)}D.prototype.getCDNSupport=function(){return null};D.prototype.getKeyValueDatabaseSupport=function(){return this.kvds};D.prototype.getMessageQueueSupport=function(){return this.queue};D.prototype.getPushNotificationSupport=function(){return this.pubsub};D.prototype.getRelationalDatabaseSupport=function(){return this.rdbs};D.prototype.hasCDNSupport=function(){return false};D.prototype.hasKeyValueDatabaseSupport=function(){return o(this.kvds)};D.prototype.hasMessageQueueSupport=function(){return o(this.queue)};D.prototype.hasPushNotificationSupport=function(){return o(this.pubsub)};D.prototype.hasRelationalDatabaseSupport=function(){return o(this.rdbs)};return D})();if(!o(z.CloudAPI)){z.CloudAPI={}}if(!o(z.CloudAPI.Platform)){z.CloudAPI.Platform={}}z.CloudAPI.Platform.ConfigurationParameter=t;z.CloudAPI.Platform.Database=l;z.CloudAPI.Platform.MessageQueueSupport=r;z.CloudAPI.Platform.DatabaseConfiguration=C;z.CloudAPI.Platform.CDNSupport=p;z.CloudAPI.Platform.KeyValueDatabase=n;z.CloudAPI.Platform.KeyValuePair=v;z.CloudAPI.Platform.KeyValueItem=c;z.CloudAPI.Platform.EndpointType=a;z.CloudAPI.Platform.PushNotificationSupport=u;z.CloudAPI.Platform.DBFirewall=x;z.CloudAPI.Platform.IPRange=s;z.CloudAPI.Platform.RelationalDatabaseSupport=b;z.CloudAPI.Platform.DatabaseSnapshot=q;z.CloudAPI.Platform.DatabaseEngine=k;z.CloudAPI.Platform.DatabaseProduct=A;z.CloudAPI.Platform.Distribution=B;z.CloudAPI.Platform.KeyValueDatabaseSupport=e;z.CloudAPI.Platform.Subscription=j;z.CloudAPI.Platform.Topic=y;z.CloudAPI.Platform.PlatformServices=g})(window);(function(m){function j(r){return typeof r!=="undefined"&&r!==null}function q(r){return typeof r==="object"}if(!j(m.ComZotoh)){m.ComZotoh={}}var p=m.ComZotoh;var k="http://acs.amazonaws.com/groups/global/AllUsers";var c="FULL_CONTROL";var g="WRITE";var e="READ";var o='<?xml version="1.0" encoding="UTF-8"?>';var n,a,h,d,l=Object.prototype.hasOwnProperty,b=function(u,s){for(var r in s){if(l.call(s,r)){u[r]=s[r]}}function t(){this.constructor=u}t.prototype=s.prototype;u.prototype=new t;u.__super__=s.prototype;return u};a=(function(r){b(s,r);function s(t){s.__super__.constructor.call(this,t)}s.prototype.getOwnerName=function(){return this.ownerName};s.prototype.setOwnerName=function(t){return this.ownerName=t!=null?t:""};return s})(p.CloudAPI.CObject);h=(function(s){b(r,s);function r(t){r.__super__.constructor.call(this,t)}r.prototype.setSizeInBytes=function(t){if((t!=null)&&!isNaN(t)){return this.sizeBytes=t}};r.prototype.getSizeInBytes=function(){return this.sizeBytes};r.prototype.setDirectory=function(t){return this.dir=t!=null?t:""};r.prototype.getDirectory=function(){return this.dir};r.prototype.setLastModified=function(t){if(t!=null){return this.lastMod=t}};r.prototype.getLastModified=function(){return this.lastMod};return r})(p.CloudAPI.CObject);d=(function(){function r(s){this.s3=s;this.bss=new p.CloudAPI.Storage.BlobStoreSupport(this.s3)}r.prototype.getBlobStoreSupport=function(){return this.bss};r.prototype.hasBlobStoreSupport=function(){return j(bss)};return r})();n=(function(s){b(r,s);function r(t){r.__super__.constructor.call(this,t)}r.prototype.clear=function(u,t){};r.prototype.existsDirectory=function(v,t){var u,w,x;x={tags:{bucket:v,subres:{"?location":""}}};w=this;u=function(y){return w.on_test_dir(y,t)};return this.awscall("GET Bucket location",x,u,t)};r.prototype.existsFile=function(v,y,t){var u,w,x;x={verb:"HEAD",tags:{bucket:v,object:y}};w=this;u=function(z){return w.aws.cb_boolean(true,t)};return this.awscall("HEAD Object (Exists?)",x,u,t)};r.prototype.isDirectoryPublic=function(v,u){var w,t;t=u!=null?u.success:void 0;w=this;if(u!=null){u.success=function(x){return w.check_xxx_acl(x,t,u)}}return this.getDirectoryACL(v,u)};r.prototype.isFilePublic=function(v,x,u){var w,t;t=u!=null?u.success:void 0;w=this;if(u!=null){u.success=function(y){return w.check_xxx_acl(y,t,u)}}return this.getFileACL(v,x,u)};r.prototype.createDirectory=function(t,C,D,z){var x,E,v,A,B,u,F,w,y;u={verb:"PUT",ctype:"text/plain; charset=utf-8",body:{},tags:{bucket:t,xhdrs:{}}};y=this.aws.cfns(),w=y[0],E=y[1],v=y[2],x=y[3];if(D!=null){w.sclone(D,u.tags.xhdrs)}if(w.vstr(C)&&"us-east-1"!==C){F=['<CreateBucketConfiguration xmlns="http://s3.amazonaws.com/doc/',this.aws.apiVersion,'/">',"<LocationConstraint>",C,"</LocationConstraint>","</CreateBucketConfiguration>"].join("");u.body.data=F;u.body.size=F.length}B=this;A=function(G){return z!=null?typeof z.success==="function"?z.success(new p.CloudAPI.Storage.CloudStoreDirectory(t)):void 0:void 0};return this.awscall("PUT Bucket",u,A,z)};r.prototype.listDirectories=function(t){var u,v;v=this;u=function(w){return t!=null?typeof t.success==="function"?t.success(v.munch_alldirs(w)):void 0:void 0};return this.awscall("GET Service",{},u,t)};r.prototype.listFiles=function(C,D,w,z){var x,E,u,A,B,t,v,y;y=this.aws.cfns(),v=y[0],E=y[1],u=y[2],x=y[3];t={tags:{bucket:D,query:{}}};v.sclone(w,t.tags.query);if(v.vstr(C)){t.tags.query.marker=C}B=this;A=function(I){var F,H,G,J;J=B.on_list_files(I),G=J[0],H=J[1],F=J[2];return z!=null?typeof z.success==="function"?z.success(G,H,F):void 0:void 0};return this.awscall("GET Bucket (List Objects)",t,A,z)};r.prototype.getDownloadUrl=function(v,y,t){var u,w,x;x={ctype:"binary/octet-stream; charset=UTF8",response_type:"url+hdrs",tags:{bucket:v,object:y}};w=this;u=function(z){return t!=null?typeof t.success==="function"?t.success(z):void 0:void 0};return this.awscall("GET Object",x,u,t)};r.prototype.download=function(v,y,t){var u,w,x;x={response_type:"raw",tags:{bucket:v,object:y}};w=this;u=function(z){return t!=null?typeof t.success==="function"?t.success(z):void 0:void 0};return this.awscall("GET Object",x,u,t)};r.prototype.hasSupport=function(){return true};r.prototype.getMaxFileSizeInMBytes=function(){return 5*1024*1024};r.prototype.getProviderTermForDirectory=function(t){return"Bucket"};r.prototype.getProviderTermForFile=function(t){return"Object"};r.prototype.makeDirectoryPublic=function(y,u,x,v){var z,t,w;t=v!=null?v.success:void 0;z=this;w={read:u,write:x};if(v!=null){v.success=function(A){return z.make_dir_pub(A,y,w,t,v)}}return this.getDirectoryACL(y,v)};r.prototype.makeFilePublic=function(y,A,u,x,v){var z,t,w;t=v!=null?v.success:void 0;z=this;w={read:u,write:x};if(v!=null){v.success=function(B){return z.make_file_pub(B,y,A,w,t,v)}}return this.getFileACL(y,A,v)};r.prototype.moveFile=function(F,D,w,y,B){var G,x,z,H,u,C,E,t,v,A;if(F===w){this.aws.cb_boolean(true,B);return}A=this.aws.cfns(),v=A[0],H=A[1],u=A[2],z=A[3];x=v.b64();t={verb:"PUT",tags:{bucket:w,object:D,xhdrs:{}}};G="/"+v.urlencode(F)+"/"+v.urlencode(D);if(v.vstr(y!=null?y.versionId:void 0)){G+="?versionId="+v.urlencode(y.versionId)}t.tags.xhdrs["x-amz-copy-source-if-modified-since"]="Tue, 15 Nov 1994 08:12:31 GMT";t.tags.xhdrs["x-amz-acl"]="bucket-owner-full-control";t.tags.xhdrs["x-amz-copy-source"]=G;E=this;C=function(I){var J;J=z.getNode(I,"/CopyObjectResult");return E.aws.cb_boolean(j(J),B)};return this.awscall("PUT Object - Copy",t,C,B)};r.prototype.getFileACL=function(v,y,t){var u,w,x;x={tags:{bucket:v,object:y,subres:{"?acl":""}}};w=this;u=function(z){return t!=null?typeof t.success==="function"?t.success(z):void 0:void 0};return this.awscall("GET Object ACL",x,u,t)};r.prototype.getDirectoryACL=function(v,t){var u,w,x;x={tags:{bucket:v,subres:{"?acl":""}}};w=this;u=function(y){return t!=null?typeof t.success==="function"?t.success(y):void 0:void 0};return this.awscall("GET Bucket acl",x,u,t)};r.prototype.removeDirectory=function(v,t){var u,w,x;x={verb:"DELETE",tags:{bucket:v}};w=this;u=function(y){return w.aws.cb_boolean(true,t)};return this.awscall("DELETE Bucket",x,u,t)};r.prototype.removeFile=function(D,x,w,A){var y,E,u,B,C,t,F,v,z;t={verb:"DELETE",tags:{bucket:D,object:x}};z=this.aws.cfns(),v=z[0],E=z[1],u=z[2],y=z[3];if(w!=null){F=w.versionId;if(v.vstr(F)){t.subres={"?versionId":F}}if(w.mfa!=null){F=w.mfa.serialNum+" "+w.mfa.authCode;t.xhdrs={"x-amz-mfa":F}}}C=this;B=function(G){return C.aws.cb_boolean(true,A)};return this.awscall("DELETE Object",t,B,A)};r.prototype.upload=function(H,A,F,t,y,w,G,C){var z,I,v,D,E,u,x,B;B=this.aws.cfns(),x=B[0],I=B[1],v=B[2],z=B[3];u={verb:"PUT",ctype:F,tags:{},body:{}};x.sclone(y,u.tags);x.sclone(t,u.body);u.tags.bucket=H;u.tags.object=A;u.tags.multipart=w;u.tags.uploadid=G;E=this;D=function(J){return E.aws.cb_boolean(true,C)};return this.awscall("PUT Object",u,D,C)};r.prototype.renameDirectory=function(v,t,u){};r.prototype.renameFile=function(v,w,t,u){};r.prototype.make_file_pub=function(C,F,x,E,w,A){var y,G,u,B,D,t,H,v,z;this.set_xxx_public(C,E);z=this.aws.cfns(),v=z[0],G=z[1],u=z[2],y=z[3];H=o+y.toXml(C);if(A!=null){A.success=w}t={verb:"PUT",ctype:"text/xml",body:{data:H,size:H.length},tags:{object:x,bucket:F,subres:{"?acl":""}}};D=this;B=function(I){return D.aws.cb_boolean(true,A)};return this.awscall("PUT Object acl",t,B,A)};r.prototype.make_dir_pub=function(B,E,D,w,z){var x,F,u,A,C,t,G,v,y;this.set_xxx_public(B,D);y=this.aws.cfns(),v=y[0],F=y[1],u=y[2],x=y[3];G=o+x.toXml(B);if(z!=null){z.success=w}t={verb:"PUT",ctype:"text/xml",body:{data:G,size:G.length},tags:{bucket:E,subres:{"?acl":""}}};C=this;A=function(H){return C.aws.cb_boolean(true,z)};return this.awscall("PUT Bucket acl",t,A,z)};r.prototype.set_xxx_public=function(B,x){var C,y,D,u,t,z,v,A,w;A=this.aws.cfns(),v=A[0],D=A[1],u=A[2],y=A[3];C=u(B,"/AccessControlPolicy/AccessControlList")[0];w=this.break_acl(C),z=w[0],t=w[1];if(x.write){this.new_acl(z,g)}else{this.clr_acl(z,g)}if(x.read){this.new_acl(z,e)}else{this.clr_acl(z,e)}return this.patch_acl(C,t,z)};r.prototype.check_xxx_acl=function(E,x,B){var y,H,C,v,A,G,D,t,F,w,z;z=this.aws.cfns(),w=z[0],H=z[1],v=z[2],y=z[3];D=v(E,"/AccessControlPolicy/AccessControlList/Grant");G=D.length;t=false;for(A=0;0<=G?A<G:A>G;0<=G?A++:A--){C=v(D[A],"Grantee")[0];F=C!=null?y.ffcn(C,"URI"):"";if(k===F){t=true;break}}if(B!=null){B.success=x}return this.aws.cb_boolean(t,B)};r.prototype.on_test_dir=function(x,y){var v,B,t,z,A,u,w;w=this.aws.cfns(),u=w[0],B=w[1],t=w[2],v=w[3];A=t(x,"/LocationConstraint")[0];z=A!=null?B(A):null;return this.aws.cb_boolean(j(A),y)};r.prototype.on_list_files=function(L){var K,w,J,D,I,H,C,E,v,u,t,F,G,B,y,A,z;z=this.aws.cfns(),y=z[0],H=z[1],C=z[2],I=z[3];B=C(L,"/ListBucketResult")[0];D=I.ffcn(B,"Name");I.ffcn(B,"Prefix");I.ffcn(B,"Marker");I.ffcn(B,"MaxKeys");I.ffcn(B,"Delimiter");I.ffcn(B,"IsTruncated");u=H(B,"NextMarker");w=C(L,"CommonPrefixes");G=[];F=[];v=(w!=null?w.length:void 0)||0;for(E=0;0<=v?E<v:E>v;0<=v?E++:E--){F.push(I.ffcn(w[E],"Prefix"))}J=C(B,"Contents");v=(J!=null?J.length:void 0)||0;for(E=0;0<=v?E<v:E>v;0<=v?E++:E--){K=new p.CloudAPI.Storage.CloudStoreItem();K.setDirectory(D);A=y.setISO8601(new Date(),I.ffcn(J[E],"LastModified"));K.setLastModified(A);K.setName(I.ffcn(J[E],"Key"));K.addTag("ETag",I.ffcn(J[E],"ETag"));K.setSizeInBytes(Number(I.ffcn(J[E],"Size")));K.addTag("StorageClass",I.ffcn(J[E],"StorageClass"));t=C(J[E],"Owner")[0];if(t!=null){I.ffcn(t,"DisplayName");K.setProviderOwnerId(I.ffcn(t,"ID"))}G.push(K)}return[G,F,u]};r.prototype.munch_alldirs=function(B){var F,G,z,I,v,C,H,D,J,y,u,t,w,E,A;A=this.aws.cfns(),w=A[0],I=A[1],v=A[2],z=A[3];u=v(B,"/ListAllMyBucketsResult/Owner")[0];G=z.ffcn(u,"DisplayName");y=z.ffcn(u,"ID");D=v(B,"/ListAllMyBucketsResult/Buckets/Bucket");H=D.length;t=[];for(C=0;0<=H?C<H:C>H;0<=H?C++:C--){J=z.ffcn(D[C],"Name");F=new p.CloudAPI.Storage.CloudStoreDirectory(J);F.setProviderOwnerId(y);F.setOwnerName(G);E=w.setISO8601(new Date(),z.ffcn(D[C],"CreationDate"));F.setCreationTimestamp(E);t.push(F)}return t};r.prototype.new_acl=function(y,v){var A,w,x,F,D,C,B,E,t,u,z;z=this.aws.cfns(),u=z[0],E=z[1],t=z[2],x=z[3];if(!j(y[v])){C=x.newElement("URI",{},[x.newText(k)]);w=[C];D=x.newElement("Grantee",{"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:type":"Group"},w);B=x.newElement("Permission",{},[x.newText(v)]);A=[D,B];F=x.newElement("Grant",{},A);return y[v]=F}};r.prototype.clr_acl=function(u,t){return u[t]=null};return r})(p.CloudAPI.Storage.BlobSupportDOM);if(!j(p.CloudAPI)){p.CloudAPI={}}if(!j(p.CloudAPI.Storage)){p.CloudAPI.Storage={}}p.CloudAPI.Storage.CloudStoreDirectory=a;p.CloudAPI.Storage.CloudStoreItem=h;p.CloudAPI.Storage.StorageServices=d;p.CloudAPI.Storage.BlobStoreSupport=n})(window);